import { isMailtoURI, isURL } from 'validator';
import { ncIsString } from '../../../lib/is';
export const isValidURL = (str, extraProps) => {
    var _a;
    // Check if the string is empty or null
    if (!str || !ncIsString(str))
        return false;
    if (str.startsWith('mailto'))
        return isMailtoURI(str);
    let require_host = (_a = extraProps === null || extraProps === void 0 ? void 0 : extraProps.require_host) !== null && _a !== void 0 ? _a : true;
    if (str.startsWith('file://') || str.startsWith('tel:')) {
        require_host = false;
    }
    return isURL(`${str}`, Object.assign(Object.assign({}, (extraProps || {})), { require_host, protocols: ['http', 'https', 'ftp', 'file', 'tel'] }));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb2x1bW5IZWxwZXIvdXRpbHMvdXJsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFnQixNQUFNLFdBQVcsQ0FBQztBQUM3RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRXRDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQVcsRUFBRSxVQUF5QixFQUFFLEVBQUU7O0lBQ25FLHVDQUF1QztJQUN2QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQztRQUFFLE9BQU8sS0FBSyxDQUFDO0lBRTNDLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFBRSxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUV0RCxJQUFJLFlBQVksR0FBRyxNQUFBLFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxZQUFZLG1DQUFJLElBQUksQ0FBQztJQUVwRCxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3hELFlBQVksR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVELE9BQU8sS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLGtDQUNoQixDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsS0FDckIsWUFBWSxFQUNaLFNBQVMsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsSUFDbEQsQ0FBQztBQUNMLENBQUMsQ0FBQyJ9