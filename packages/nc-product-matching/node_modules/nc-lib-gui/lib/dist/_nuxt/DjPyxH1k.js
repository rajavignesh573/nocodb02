import{lP as Be,lQ as Je,lR as ar,lS as Tn,lT as lr,lL as Ne,e as Cn,s as ur,g as En,i as Rt,bi as Mn,Y as pr,j as Bt,lU as Yt,r as Ln,Z as dr,$ as cr,L as fr,dr as hr,lV as mr,dw as vr,lW as ae,lX as Ke,lY as oe,lZ as gr,l_ as Xt,l$ as Gt,m0 as De,m1 as St,m2 as Ye,m3 as yr,m4 as br,m5 as Jt,m6 as kn,m7 as Nt,m8 as Sn,m9 as Dn,ma as wr,mb as xr,mc as Or,md as Ar,me as Tr,mf as Cr,mg as Er,mh as Mr,mi as Lr}from"./DRA9KN5F.js";var W="top",Y="bottom",X="right",_="left",$t="auto",Ze=[W,Y,X,_],Pe="start",Xe="end",kr="clippingParents",Pn="viewport",Fe="popper",Sr="reference",Zt=Ze.reduce(function(t,e){return t.concat([e+"-"+Pe,e+"-"+Xe])},[]),In=[].concat(Ze,[$t]).reduce(function(t,e){return t.concat([e,e+"-"+Pe,e+"-"+Xe])},[]),Dr="beforeRead",Pr="read",Ir="afterRead",Hr="beforeMain",Rr="main",Br="afterMain",Nr="beforeWrite",$r="write",Vr="afterWrite",jr=[Dr,Pr,Ir,Hr,Rr,Br,Nr,$r,Vr];function se(t){return t?(t.nodeName||"").toLowerCase():null}function z(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Te(t){var e=z(t).Element;return t instanceof e||t instanceof Element}function K(t){var e=z(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Vt(t){if(typeof ShadowRoot>"u")return!1;var e=z(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Wr(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!K(o)||!se(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function _r(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!K(i)||!se(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Hn={name:"applyStyles",enabled:!0,phase:"write",fn:Wr,effect:_r,requires:["computeStyles"]};function ie(t){return t.split("-")[0]}var Oe=Math.max,gt=Math.min,Ie=Math.round;function Dt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Rn(){return!/^((?!chrome|android).)*safari/i.test(Dt())}function He(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&K(t)&&(i=t.offsetWidth>0&&Ie(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ie(r.height)/t.offsetHeight||1);var s=Te(t)?z(t):window,a=s.visualViewport,l=!Rn()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,v=r.height/o;return{width:f,height:v,top:d,right:c+f,bottom:d+v,left:c,x:c,y:d}}function jt(t){var e=He(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Bn(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Vt(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ce(t){return z(t).getComputedStyle(t)}function Fr(t){return["table","td","th"].indexOf(se(t))>=0}function ve(t){return((Te(t)?t.ownerDocument:t.document)||window.document).documentElement}function wt(t){return se(t)==="html"?t:t.assignedSlot||t.parentNode||(Vt(t)?t.host:null)||ve(t)}function Qt(t){return!K(t)||ce(t).position==="fixed"?null:t.offsetParent}function Ur(t){var e=/firefox/i.test(Dt()),n=/Trident/i.test(Dt());if(n&&K(t)){var r=ce(t);if(r.position==="fixed")return null}var i=wt(t);for(Vt(i)&&(i=i.host);K(i)&&["html","body"].indexOf(se(i))<0;){var o=ce(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Qe(t){for(var e=z(t),n=Qt(t);n&&Fr(n)&&ce(n).position==="static";)n=Qt(n);return n&&(se(n)==="html"||se(n)==="body"&&ce(n).position==="static")?e:n||Ur(t)||e}function Wt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ue(t,e,n){return Oe(t,gt(e,n))}function zr(t,e,n){var r=Ue(t,e,n);return r>n?n:r}function Nn(){return{top:0,right:0,bottom:0,left:0}}function $n(t){return Object.assign({},Nn(),t)}function Vn(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var qr=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$n(typeof e!="number"?e:Vn(e,Ze))};function Kr(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ie(n.placement),l=Wt(a),c=[_,X].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var f=qr(i.padding,n),v=jt(o),h=l==="y"?W:_,y=l==="y"?Y:X,b=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],x=s[l]-n.rects.reference[l],T=Qe(o),C=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,L=b/2-x/2,u=f[h],A=C-v[d]-f[y],m=C/2-v[d]/2+L,M=Ue(u,m,A),H=l;n.modifiersData[r]=(e={},e[H]=M,e.centerOffset=M-m,e)}}function Yr(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Bn(e.elements.popper,i)&&(e.elements.arrow=i))}const Xr={name:"arrow",enabled:!0,phase:"main",fn:Kr,effect:Yr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Re(t){return t.split("-")[1]}var Gr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jr(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ie(n*i)/i||0,y:Ie(r*i)/i||0}}function en(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,v=s.x,h=v===void 0?0:v,y=s.y,b=y===void 0?0:y,x=typeof d=="function"?d({x:h,y:b}):{x:h,y:b};h=x.x,b=x.y;var T=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),L=_,u=W,A=window;if(c){var m=Qe(n),M="clientHeight",H="clientWidth";if(m===z(n)&&(m=ve(n),ce(m).position!=="static"&&a==="absolute"&&(M="scrollHeight",H="scrollWidth")),m=m,i===W||(i===_||i===X)&&o===Xe){u=Y;var I=f&&m===A&&A.visualViewport?A.visualViewport.height:m[M];b-=I-r.height,b*=l?1:-1}if(i===_||(i===W||i===Y)&&o===Xe){L=X;var S=f&&m===A&&A.visualViewport?A.visualViewport.width:m[H];h-=S-r.width,h*=l?1:-1}}var R=Object.assign({position:a},c&&Gr),D=d===!0?Jr({x:h,y:b},z(n)):{x:h,y:b};if(h=D.x,b=D.y,l){var k;return Object.assign({},R,(k={},k[u]=C?"0":"",k[L]=T?"0":"",k.transform=(A.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",k))}return Object.assign({},R,(e={},e[u]=C?b+"px":"",e[L]=T?h+"px":"",e.transform="",e))}function Zr(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ie(e.placement),variation:Re(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,en(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,en(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Qr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Zr,data:{}};var ct={passive:!0};function ei(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=z(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",n.update,ct)}),a&&l.addEventListener("resize",n.update,ct),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",n.update,ct)}),a&&l.removeEventListener("resize",n.update,ct)}}const ti={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ei,data:{}};var ni={left:"right",right:"left",bottom:"top",top:"bottom"};function mt(t){return t.replace(/left|right|bottom|top/g,function(e){return ni[e]})}var ri={start:"end",end:"start"};function tn(t){return t.replace(/start|end/g,function(e){return ri[e]})}function _t(t){var e=z(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ft(t){return He(ve(t)).left+_t(t).scrollLeft}function ii(t,e){var n=z(t),r=ve(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Rn();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Ft(t),y:l}}function oi(t){var e,n=ve(t),r=_t(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Oe(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Oe(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ft(t),l=-r.scrollTop;return ce(i||n).direction==="rtl"&&(a+=Oe(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Ut(t){var e=ce(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jn(t){return["html","body","#document"].indexOf(se(t))>=0?t.ownerDocument.body:K(t)&&Ut(t)?t:jn(wt(t))}function ze(t,e){var n;e===void 0&&(e=[]);var r=jn(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=z(r),s=i?[o].concat(o.visualViewport||[],Ut(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(ze(wt(s)))}function Pt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function si(t,e){var n=He(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function nn(t,e,n){return e===Pn?Pt(ii(t,n)):Te(e)?si(e,n):Pt(oi(ve(t)))}function ai(t){var e=ze(wt(t)),n=["absolute","fixed"].indexOf(ce(t).position)>=0,r=n&&K(t)?Qe(t):t;return Te(r)?e.filter(function(i){return Te(i)&&Bn(i,r)&&se(i)!=="body"}):[]}function li(t,e,n,r){var i=e==="clippingParents"?ai(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var d=nn(t,c,r);return l.top=Oe(d.top,l.top),l.right=gt(d.right,l.right),l.bottom=gt(d.bottom,l.bottom),l.left=Oe(d.left,l.left),l},nn(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wn(t){var e=t.reference,n=t.element,r=t.placement,i=r?ie(r):null,o=r?Re(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case W:l={x:s,y:e.y-n.height};break;case Y:l={x:s,y:e.y+e.height};break;case X:l={x:e.x+e.width,y:a};break;case _:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Wt(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case Pe:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Xe:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function Ge(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?kr:a,c=n.rootBoundary,d=c===void 0?Pn:c,f=n.elementContext,v=f===void 0?Fe:f,h=n.altBoundary,y=h===void 0?!1:h,b=n.padding,x=b===void 0?0:b,T=$n(typeof x!="number"?x:Vn(x,Ze)),C=v===Fe?Sr:Fe,L=t.rects.popper,u=t.elements[y?C:v],A=li(Te(u)?u:u.contextElement||ve(t.elements.popper),l,d,s),m=He(t.elements.reference),M=Wn({reference:m,element:L,placement:i}),H=Pt(Object.assign({},L,M)),I=v===Fe?H:m,S={top:A.top-I.top+T.top,bottom:I.bottom-A.bottom+T.bottom,left:A.left-I.left+T.left,right:I.right-A.right+T.right},R=t.modifiersData.offset;if(v===Fe&&R){var D=R[i];Object.keys(S).forEach(function(k){var F=[X,Y].indexOf(k)>=0?1:-1,U=[W,Y].indexOf(k)>=0?"y":"x";S[k]+=D[U]*F})}return S}function ui(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?In:l,d=Re(r),f=d?a?Zt:Zt.filter(function(y){return Re(y)===d}):Ze,v=f.filter(function(y){return c.indexOf(y)>=0});v.length===0&&(v=f);var h=v.reduce(function(y,b){return y[b]=Ge(t,{placement:b,boundary:i,rootBoundary:o,padding:s})[ie(b)],y},{});return Object.keys(h).sort(function(y,b){return h[y]-h[b]})}function pi(t){if(ie(t)===$t)return[];var e=mt(t);return[tn(t),e,tn(e)]}function di(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,v=n.altBoundary,h=n.flipVariations,y=h===void 0?!0:h,b=n.allowedAutoPlacements,x=e.options.placement,T=ie(x),C=T===x,L=l||(C||!y?[mt(x)]:pi(x)),u=[x].concat(L).reduce(function(le,G){return le.concat(ie(G)===$t?ui(e,{placement:G,boundary:d,rootBoundary:f,padding:c,flipVariations:y,allowedAutoPlacements:b}):G)},[]),A=e.rects.reference,m=e.rects.popper,M=new Map,H=!0,I=u[0],S=0;S<u.length;S++){var R=u[S],D=ie(R),k=Re(R)===Pe,F=[W,Y].indexOf(D)>=0,U=F?"width":"height",$=Ge(e,{placement:R,boundary:d,rootBoundary:f,altBoundary:v,padding:c}),V=F?k?X:_:k?Y:W;A[U]>m[U]&&(V=mt(V));var N=mt(V),Q=[];if(o&&Q.push($[D]<=0),a&&Q.push($[V]<=0,$[N]<=0),Q.every(function(le){return le})){I=R,H=!1;break}M.set(R,Q)}if(H)for(var ee=y?3:1,ge=function(G){var ue=u.find(function(Ce){var pe=M.get(Ce);if(pe)return pe.slice(0,G).every(function(Ee){return Ee})});if(ue)return I=ue,"break"},te=ee;te>0;te--){var ye=ge(te);if(ye==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const ci={name:"flip",enabled:!0,phase:"main",fn:di,requiresIfExists:["offset"],data:{_skip:!1}};function rn(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function on(t){return[W,X,Y,_].some(function(e){return t[e]>=0})}function fi(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ge(e,{elementContext:"reference"}),a=Ge(e,{altBoundary:!0}),l=rn(s,r),c=rn(a,i,o),d=on(l),f=on(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const hi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fi};function mi(t,e,n){var r=ie(t),i=[_,W].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[_,X].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function vi(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=In.reduce(function(d,f){return d[f]=mi(f,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const gi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vi};function yi(t){var e=t.state,n=t.name;e.modifiersData[n]=Wn({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const bi={name:"popperOffsets",enabled:!0,phase:"read",fn:yi,data:{}};function wi(t){return t==="x"?"y":"x"}function xi(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,v=n.tether,h=v===void 0?!0:v,y=n.tetherOffset,b=y===void 0?0:y,x=Ge(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),T=ie(e.placement),C=Re(e.placement),L=!C,u=Wt(T),A=wi(u),m=e.modifiersData.popperOffsets,M=e.rects.reference,H=e.rects.popper,I=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,S=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(m){if(o){var k,F=u==="y"?W:_,U=u==="y"?Y:X,$=u==="y"?"height":"width",V=m[u],N=V+x[F],Q=V-x[U],ee=h?-H[$]/2:0,ge=C===Pe?M[$]:H[$],te=C===Pe?-H[$]:-M[$],ye=e.elements.arrow,le=h&&ye?jt(ye):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Nn(),ue=G[F],Ce=G[U],pe=Ue(0,M[$],le[$]),Ee=L?M[$]/2-ee-pe-ue-S.mainAxis:ge-pe-ue-S.mainAxis,fe=L?-M[$]/2+ee+pe+Ce+S.mainAxis:te+pe+Ce+S.mainAxis,Me=e.elements.arrow&&Qe(e.elements.arrow),tt=Me?u==="y"?Me.clientTop||0:Me.clientLeft||0:0,$e=(k=R==null?void 0:R[u])!=null?k:0,nt=V+Ee-$e-tt,rt=V+fe-$e,Ve=Ue(h?gt(N,nt):N,V,h?Oe(Q,rt):Q);m[u]=Ve,D[u]=Ve-V}if(a){var je,it=u==="x"?W:_,ot=u==="x"?Y:X,de=m[A],he=A==="y"?"height":"width",We=de+x[it],be=de-x[ot],_e=[W,_].indexOf(T)!==-1,st=(je=R==null?void 0:R[A])!=null?je:0,at=_e?We:de-M[he]-H[he]-st+S.altAxis,lt=_e?de+M[he]+H[he]-st-S.altAxis:be,ut=h&&_e?zr(at,de,lt):Ue(h?at:We,de,h?lt:be);m[A]=ut,D[A]=ut-de}e.modifiersData[r]=D}}const Oi={name:"preventOverflow",enabled:!0,phase:"main",fn:xi,requiresIfExists:["offset"]};function Ai(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Ti(t){return t===z(t)||!K(t)?_t(t):Ai(t)}function Ci(t){var e=t.getBoundingClientRect(),n=Ie(e.width)/t.offsetWidth||1,r=Ie(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Ei(t,e,n){n===void 0&&(n=!1);var r=K(e),i=K(e)&&Ci(e),o=ve(e),s=He(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((se(e)!=="body"||Ut(o))&&(a=Ti(e)),K(e)?(l=He(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Ft(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Mi(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Li(t){var e=Mi(t);return jr.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ki(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Si(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var sn={placement:"bottom",modifiers:[],strategy:"absolute"};function an(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Di(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?sn:i;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},sn,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],v=!1,h={state:d,setOptions:function(T){var C=typeof T=="function"?T(d.options):T;b(),d.options=Object.assign({},o,d.options,C),d.scrollParents={reference:Te(a)?ze(a):a.contextElement?ze(a.contextElement):[],popper:ze(l)};var L=Li(Si([].concat(r,d.options.modifiers)));return d.orderedModifiers=L.filter(function(u){return u.enabled}),y(),h.update()},forceUpdate:function(){if(!v){var T=d.elements,C=T.reference,L=T.popper;if(an(C,L)){d.rects={reference:Ei(C,Qe(L),d.options.strategy==="fixed"),popper:jt(L)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(S){return d.modifiersData[S.name]=Object.assign({},S.data)});for(var u=0;u<d.orderedModifiers.length;u++){if(d.reset===!0){d.reset=!1,u=-1;continue}var A=d.orderedModifiers[u],m=A.fn,M=A.options,H=M===void 0?{}:M,I=A.name;typeof m=="function"&&(d=m({state:d,options:H,name:I,instance:h})||d)}}}},update:ki(function(){return new Promise(function(x){h.forceUpdate(),x(d)})}),destroy:function(){b(),v=!0}};if(!an(a,l))return h;h.setOptions(c).then(function(x){!v&&c.onFirstUpdate&&c.onFirstUpdate(x)});function y(){d.orderedModifiers.forEach(function(x){var T=x.name,C=x.options,L=C===void 0?{}:C,u=x.effect;if(typeof u=="function"){var A=u({state:d,name:T,instance:h,options:L}),m=function(){};f.push(A||m)}})}function b(){f.forEach(function(x){return x()}),f=[]}return h}}var Pi=[ti,bi,Qr,Hn,gi,ci,Oi,Xr,hi],Ii=Di({defaultModifiers:Pi}),Hi="tippy-box",_n="tippy-content",Ri="tippy-backdrop",Fn="tippy-arrow",Un="tippy-svg-arrow",xe={passive:!0,capture:!0},zn=function(){return document.body};function Tt(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function zt(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function qn(t,e){return typeof t=="function"?t.apply(void 0,e):t}function ln(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Bi(t){return t.split(/\s+/).filter(Boolean)}function Se(t){return[].concat(t)}function un(t,e){t.indexOf(e)===-1&&t.push(e)}function Ni(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function $i(t){return t.split("-")[0]}function yt(t){return[].slice.call(t)}function pn(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function qe(){return document.createElement("div")}function xt(t){return["Element","Fragment"].some(function(e){return zt(t,e)})}function Vi(t){return zt(t,"NodeList")}function ji(t){return zt(t,"MouseEvent")}function Wi(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function _i(t){return xt(t)?[t]:Vi(t)?yt(t):Array.isArray(t)?t:yt(document.querySelectorAll(t))}function Ct(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function dn(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Fi(t){var e,n=Se(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Ui(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,l=a.interactiveBorder,c=$i(s.placement),d=s.modifiersData.offset;if(!d)return!0;var f=c==="bottom"?d.top.y:0,v=c==="top"?d.bottom.y:0,h=c==="right"?d.left.x:0,y=c==="left"?d.right.x:0,b=o.top-r+f>l,x=r-o.bottom-v>l,T=o.left-n+h>l,C=n-o.right-y>l;return b||x||T||C})}function Et(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function cn(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var re={isTouch:!1},fn=0;function zi(){re.isTouch||(re.isTouch=!0,window.performance&&document.addEventListener("mousemove",Kn))}function Kn(){var t=performance.now();t-fn<20&&(re.isTouch=!1,document.removeEventListener("mousemove",Kn)),fn=t}function qi(){var t=document.activeElement;if(Wi(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Ki(){document.addEventListener("touchstart",zi,xe),window.addEventListener("blur",qi)}var Yi=typeof window<"u"&&typeof document<"u",Xi=Yi?!!window.msCrypto:!1,Gi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ji={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Z=Object.assign({appendTo:zn,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Gi,Ji),Zi=Object.keys(Z),Qi=function(e){var n=Object.keys(e);n.forEach(function(r){Z[r]=e[r]})};function Yn(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=Z[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function eo(t,e){var n=e?Object.keys(Yn(Object.assign({},Z,{plugins:e}))):Zi,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function hn(t,e){var n=Object.assign({},e,{content:qn(e.content,[t])},e.ignoreAttributes?{}:eo(t,e.plugins));return n.aria=Object.assign({},Z.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var to=function(){return"innerHTML"};function It(t,e){t[to()]=e}function mn(t){var e=qe();return t===!0?e.className=Fn:(e.className=Un,xt(t)?e.appendChild(t):It(e,t)),e}function vn(t,e){xt(e.content)?(It(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?It(t,e.content):t.textContent=e.content)}function Ht(t){var e=t.firstElementChild,n=yt(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(_n)}),arrow:n.find(function(r){return r.classList.contains(Fn)||r.classList.contains(Un)}),backdrop:n.find(function(r){return r.classList.contains(Ri)})}}function Xn(t){var e=qe(),n=qe();n.className=Hi,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=qe();r.className=_n,r.setAttribute("data-state","hidden"),vn(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=Ht(e),l=a.box,c=a.content,d=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&vn(c,t.props),s.arrow?d?o.arrow!==s.arrow&&(l.removeChild(d),l.appendChild(mn(s.arrow))):l.appendChild(mn(s.arrow)):d&&l.removeChild(d)}return{popper:e,onUpdate:i}}Xn.$$tippy=!0;var no=1,ft=[],Mt=[];function ro(t,e){var n=hn(t,Object.assign({},Z,Yn(pn(e)))),r,i,o,s=!1,a=!1,l=!1,c=!1,d,f,v,h=[],y=ln(nt,n.interactiveDebounce),b,x=no++,T=null,C=Ni(n.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},u={id:x,reference:t,popper:qe(),popperInstance:T,props:n,state:L,plugins:C,clearDelayTimeouts:at,setProps:lt,setContent:ut,show:tr,hide:nr,hideWithInteractivity:rr,enable:_e,disable:st,unmount:ir,destroy:or};if(!n.render)return u;var A=n.render(u),m=A.popper,M=A.onUpdate;m.setAttribute("data-tippy-root",""),m.id="tippy-"+u.id,u.popper=m,t._tippy=u,m._tippy=u;var H=C.map(function(p){return p.fn(u)}),I=t.hasAttribute("aria-expanded");return Me(),ee(),V(),N("onCreate",[u]),n.showOnCreate&&We(),m.addEventListener("mouseenter",function(){u.props.interactive&&u.state.isVisible&&u.clearDelayTimeouts()}),m.addEventListener("mouseleave",function(){u.props.interactive&&u.props.trigger.indexOf("mouseenter")>=0&&F().addEventListener("mousemove",y)}),u;function S(){var p=u.props.touch;return Array.isArray(p)?p:[p,0]}function R(){return S()[0]==="hold"}function D(){var p;return!!((p=u.props.render)!=null&&p.$$tippy)}function k(){return b||t}function F(){var p=k().parentNode;return p?Fi(p):document}function U(){return Ht(m)}function $(p){return u.state.isMounted&&!u.state.isVisible||re.isTouch||d&&d.type==="focus"?0:Tt(u.props.delay,p?0:1,Z.delay)}function V(p){p===void 0&&(p=!1),m.style.pointerEvents=u.props.interactive&&!p?"":"none",m.style.zIndex=""+u.props.zIndex}function N(p,g,w){if(w===void 0&&(w=!0),H.forEach(function(O){O[p]&&O[p].apply(O,g)}),w){var E;(E=u.props)[p].apply(E,g)}}function Q(){var p=u.props.aria;if(p.content){var g="aria-"+p.content,w=m.id,E=Se(u.props.triggerTarget||t);E.forEach(function(O){var j=O.getAttribute(g);if(u.state.isVisible)O.setAttribute(g,j?j+" "+w:w);else{var q=j&&j.replace(w,"").trim();q?O.setAttribute(g,q):O.removeAttribute(g)}})}}function ee(){if(!(I||!u.props.aria.expanded)){var p=Se(u.props.triggerTarget||t);p.forEach(function(g){u.props.interactive?g.setAttribute("aria-expanded",u.state.isVisible&&g===k()?"true":"false"):g.removeAttribute("aria-expanded")})}}function ge(){F().removeEventListener("mousemove",y),ft=ft.filter(function(p){return p!==y})}function te(p){if(!(re.isTouch&&(l||p.type==="mousedown"))){var g=p.composedPath&&p.composedPath()[0]||p.target;if(!(u.props.interactive&&cn(m,g))){if(Se(u.props.triggerTarget||t).some(function(w){return cn(w,g)})){if(re.isTouch||u.state.isVisible&&u.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[u,p]);u.props.hideOnClick===!0&&(u.clearDelayTimeouts(),u.hide(),a=!0,setTimeout(function(){a=!1}),u.state.isMounted||ue())}}}function ye(){l=!0}function le(){l=!1}function G(){var p=F();p.addEventListener("mousedown",te,!0),p.addEventListener("touchend",te,xe),p.addEventListener("touchstart",le,xe),p.addEventListener("touchmove",ye,xe)}function ue(){var p=F();p.removeEventListener("mousedown",te,!0),p.removeEventListener("touchend",te,xe),p.removeEventListener("touchstart",le,xe),p.removeEventListener("touchmove",ye,xe)}function Ce(p,g){Ee(p,function(){!u.state.isVisible&&m.parentNode&&m.parentNode.contains(m)&&g()})}function pe(p,g){Ee(p,g)}function Ee(p,g){var w=U().box;function E(O){O.target===w&&(Et(w,"remove",E),g())}if(p===0)return g();Et(w,"remove",f),Et(w,"add",E),f=E}function fe(p,g,w){w===void 0&&(w=!1);var E=Se(u.props.triggerTarget||t);E.forEach(function(O){O.addEventListener(p,g,w),h.push({node:O,eventType:p,handler:g,options:w})})}function Me(){R()&&(fe("touchstart",$e,{passive:!0}),fe("touchend",rt,{passive:!0})),Bi(u.props.trigger).forEach(function(p){if(p!=="manual")switch(fe(p,$e),p){case"mouseenter":fe("mouseleave",rt);break;case"focus":fe(Xi?"focusout":"blur",Ve);break;case"focusin":fe("focusout",Ve);break}})}function tt(){h.forEach(function(p){var g=p.node,w=p.eventType,E=p.handler,O=p.options;g.removeEventListener(w,E,O)}),h=[]}function $e(p){var g,w=!1;if(!(!u.state.isEnabled||je(p)||a)){var E=((g=d)==null?void 0:g.type)==="focus";d=p,b=p.currentTarget,ee(),!u.state.isVisible&&ji(p)&&ft.forEach(function(O){return O(p)}),p.type==="click"&&(u.props.trigger.indexOf("mouseenter")<0||s)&&u.props.hideOnClick!==!1&&u.state.isVisible?w=!0:We(p),p.type==="click"&&(s=!w),w&&!E&&be(p)}}function nt(p){var g=p.target,w=k().contains(g)||m.contains(g);if(!(p.type==="mousemove"&&w)){var E=he().concat(m).map(function(O){var j,q=O._tippy,Le=(j=q.popperInstance)==null?void 0:j.state;return Le?{popperRect:O.getBoundingClientRect(),popperState:Le,props:n}:null}).filter(Boolean);Ui(E,p)&&(ge(),be(p))}}function rt(p){var g=je(p)||u.props.trigger.indexOf("click")>=0&&s;if(!g){if(u.props.interactive){u.hideWithInteractivity(p);return}be(p)}}function Ve(p){u.props.trigger.indexOf("focusin")<0&&p.target!==k()||u.props.interactive&&p.relatedTarget&&m.contains(p.relatedTarget)||be(p)}function je(p){return re.isTouch?R()!==p.type.indexOf("touch")>=0:!1}function it(){ot();var p=u.props,g=p.popperOptions,w=p.placement,E=p.offset,O=p.getReferenceClientRect,j=p.moveTransition,q=D()?Ht(m).arrow:null,Le=O?{getBoundingClientRect:O,contextElement:O.contextElement||k()}:t,Kt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(pt){var ke=pt.state;if(D()){var sr=U(),At=sr.box;["placement","reference-hidden","escaped"].forEach(function(dt){dt==="placement"?At.setAttribute("data-placement",ke.placement):ke.attributes.popper["data-popper-"+dt]?At.setAttribute("data-"+dt,""):At.removeAttribute("data-"+dt)}),ke.attributes.popper={}}}},we=[{name:"offset",options:{offset:E}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!j}},Kt];D()&&q&&we.push({name:"arrow",options:{element:q,padding:3}}),we.push.apply(we,(g==null?void 0:g.modifiers)||[]),u.popperInstance=Ii(Le,m,Object.assign({},g,{placement:w,onFirstUpdate:v,modifiers:we}))}function ot(){u.popperInstance&&(u.popperInstance.destroy(),u.popperInstance=null)}function de(){var p=u.props.appendTo,g,w=k();u.props.interactive&&p===zn||p==="parent"?g=w.parentNode:g=qn(p,[w]),g.contains(m)||g.appendChild(m),u.state.isMounted=!0,it()}function he(){return yt(m.querySelectorAll("[data-tippy-root]"))}function We(p){u.clearDelayTimeouts(),p&&N("onTrigger",[u,p]),G();var g=$(!0),w=S(),E=w[0],O=w[1];re.isTouch&&E==="hold"&&O&&(g=O),g?r=setTimeout(function(){u.show()},g):u.show()}function be(p){if(u.clearDelayTimeouts(),N("onUntrigger",[u,p]),!u.state.isVisible){ue();return}if(!(u.props.trigger.indexOf("mouseenter")>=0&&u.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(p.type)>=0&&s)){var g=$(!1);g?i=setTimeout(function(){u.state.isVisible&&u.hide()},g):o=requestAnimationFrame(function(){u.hide()})}}function _e(){u.state.isEnabled=!0}function st(){u.hide(),u.state.isEnabled=!1}function at(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function lt(p){if(!u.state.isDestroyed){N("onBeforeUpdate",[u,p]),tt();var g=u.props,w=hn(t,Object.assign({},g,pn(p),{ignoreAttributes:!0}));u.props=w,Me(),g.interactiveDebounce!==w.interactiveDebounce&&(ge(),y=ln(nt,w.interactiveDebounce)),g.triggerTarget&&!w.triggerTarget?Se(g.triggerTarget).forEach(function(E){E.removeAttribute("aria-expanded")}):w.triggerTarget&&t.removeAttribute("aria-expanded"),ee(),V(),M&&M(g,w),u.popperInstance&&(it(),he().forEach(function(E){requestAnimationFrame(E._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[u,p])}}function ut(p){u.setProps({content:p})}function tr(){var p=u.state.isVisible,g=u.state.isDestroyed,w=!u.state.isEnabled,E=re.isTouch&&!u.props.touch,O=Tt(u.props.duration,0,Z.duration);if(!(p||g||w||E)&&!k().hasAttribute("disabled")&&(N("onShow",[u],!1),u.props.onShow(u)!==!1)){if(u.state.isVisible=!0,D()&&(m.style.visibility="visible"),V(),G(),u.state.isMounted||(m.style.transition="none"),D()){var j=U(),q=j.box,Le=j.content;Ct([q,Le],0)}v=function(){var we;if(!(!u.state.isVisible||c)){if(c=!0,m.offsetHeight,m.style.transition=u.props.moveTransition,D()&&u.props.animation){var Ot=U(),pt=Ot.box,ke=Ot.content;Ct([pt,ke],O),dn([pt,ke],"visible")}Q(),ee(),un(Mt,u),(we=u.popperInstance)==null||we.forceUpdate(),N("onMount",[u]),u.props.animation&&D()&&pe(O,function(){u.state.isShown=!0,N("onShown",[u])})}},de()}}function nr(){var p=!u.state.isVisible,g=u.state.isDestroyed,w=!u.state.isEnabled,E=Tt(u.props.duration,1,Z.duration);if(!(p||g||w)&&(N("onHide",[u],!1),u.props.onHide(u)!==!1)){if(u.state.isVisible=!1,u.state.isShown=!1,c=!1,s=!1,D()&&(m.style.visibility="hidden"),ge(),ue(),V(!0),D()){var O=U(),j=O.box,q=O.content;u.props.animation&&(Ct([j,q],E),dn([j,q],"hidden"))}Q(),ee(),u.props.animation?D()&&Ce(E,u.unmount):u.unmount()}}function rr(p){F().addEventListener("mousemove",y),un(ft,y),y(p)}function ir(){u.state.isVisible&&u.hide(),u.state.isMounted&&(ot(),he().forEach(function(p){p._tippy.unmount()}),m.parentNode&&m.parentNode.removeChild(m),Mt=Mt.filter(function(p){return p!==u}),u.state.isMounted=!1,N("onHidden",[u]))}function or(){u.state.isDestroyed||(u.clearDelayTimeouts(),u.unmount(),tt(),delete t._tippy,u.state.isDestroyed=!0,N("onDestroy",[u]))}}function et(t,e){e===void 0&&(e={});var n=Z.plugins.concat(e.plugins||[]);Ki();var r=Object.assign({},e,{plugins:n}),i=_i(t),o=i.reduce(function(s,a){var l=a&&ro(a,r);return l&&s.push(l),s},[]);return xt(t)?o[0]:o}et.defaultProps=Z;et.setDefaultProps=Qi;et.currentInput=re;Object.assign({},Hn,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});et.setDefaultProps({render:Xn});class io{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:c,to:d})=>{const{doc:f,selection:v}=l,{empty:h}=v,y=!f.textBetween(c,d).length&&ar(l.selection),b=this.element.contains(document.activeElement);return!(!(a.hasFocus()||b)||h||y||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,l)=>{const c=!(l!=null&&l.selection.eq(a.state.selection)),d=!(l!=null&&l.doc.eq(a.state.doc));!c&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,d,l)},this.updateDelay))},this.updateHandler=(a,l,c,d)=>{var f,v,h;const{state:y,composing:b}=a,{selection:x}=y;if(b||!l&&!c)return;this.createTooltip();const{ranges:C}=x,L=Math.min(...C.map(m=>m.$from.pos)),u=Math.max(...C.map(m=>m.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,element:this.element,view:a,state:y,oldState:d,from:L,to:u}))){this.hide();return}(v=this.tippy)===null||v===void 0||v.setProps({getReferenceClientRect:((h=this.tippyOptions)===null||h===void 0?void 0:h.getReferenceClientRect)||(()=>{if(Tn(y.selection)){let m=a.nodeDOM(L);if(m){const M=m.dataset.nodeViewWrapper?m:m.querySelector("[data-node-view-wrapper]");if(M&&(m=M.firstChild),m)return m.getBoundingClientRect()}}return lr(a,L,u)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=et(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const o=!(n!=null&&n.selection.eq(e.state.selection)),s=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,o,s,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Gn=t=>new Be({key:typeof t.pluginKey=="string"?new Je(t.pluginKey):t.pluginKey,view:e=>new io({view:e,...t})});Ne.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Gn({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});const Xo=Cn({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=Ln(null);return En(()=>{const{updateDelay:r,editor:i,pluginKey:o,shouldShow:s,tippyOptions:a}=t;i.registerPlugin(Gn({updateDelay:r,editor:i,element:n.value,pluginKey:o,shouldShow:s,tippyOptions:a}))}),Rt(()=>{const{pluginKey:r,editor:i}=t;i.unregisterPlugin(r)}),()=>{var r;return Bt("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function gn(t){return vr((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class oo extends mr{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=gn(this.view.state),this.reactiveExtensionStorage=gn(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),Mn(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const r=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=r),r}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const Go=Cn({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Ln(),n=hr();return dr(()=>{const r=t.editor;r&&r.options.element&&e.value&&cr(()=>{if(!e.value||!r.options.element.firstChild)return;const i=fr(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:i}),r.createNodeViews()})}),Rt(()=>{const r=t.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:e}},render(){return Bt("div",{ref:t=>{this.rootEl=t}})}}),Jo=(t={})=>{const e=ur();return En(()=>{e.value=new oo(t)}),Rt(()=>{var n,r,i;const o=(n=e.value)===null||n===void 0?void 0:n.options.element,s=o==null?void 0:o.cloneNode(!0);(r=o==null?void 0:o.parentNode)===null||r===void 0||r.replaceChild(s,o),(i=e.value)===null||i===void 0||i.destroy()}),e};class Zo{constructor(e,{props:n={},editor:r}){this.editor=r,this.component=Mn(e),this.el=document.createElement("div"),this.props=pr(n),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var e,n,r,i;return!((n=(e=this.renderedComponent.vNode)===null||e===void 0?void 0:e.component)===null||n===void 0)&&n.exposed?this.renderedComponent.vNode.component.exposed:(i=(r=this.renderedComponent.vNode)===null||r===void 0?void 0:r.component)===null||i===void 0?void 0:i.proxy}renderComponent(){let e=Bt(this.component,this.props);return this.editor.appContext&&(e.appContext=this.editor.appContext),typeof document<"u"&&this.el&&Yt(e,this.el),{vNode:e,destroy:()=>{this.el&&Yt(null,this.el),this.el=null,e=null},el:this.el?this.el.firstElementChild:null}}updateProps(e={}){Object.entries(e).forEach(([n,r])=>{this.props[n]=r}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const so=/^\s*>\s$/,ao=ae.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ke({find:so,type:this.type})]}}),lo=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,uo=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,po=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,co=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,fo=gr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Gt({find:lo,type:this.type}),Gt({find:po,type:this.type})]},addPasteRules(){return[Xt({find:uo,type:this.type}),Xt({find:co,type:this.type})]}}),ho="listItem",yn="textStyle",bn=/^\s*([-+*])\s$/,mo=ae.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",oe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ho,this.editor.getAttributes(yn)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ke({find:bn,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ke({find:bn,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(yn),editor:this.editor})),[t]}}),vo=/^```([a-z]+)?[\s\n]$/,go=/^~~~([a-z]+)?[\s\n]$/,yo=ae.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",oe(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Ye.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[St({find:vo,type:this.type,getAttributes:t=>({language:t[1]})}),St({find:go,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Be({key:new Je("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(De.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),bo=ae.create({name:"doc",topNode:!0,content:"block+"});function wo(t={}){return new Be({view(e){return new xo(e,t)}})}class xo{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,a=o.height/i.offsetHeight;if(n){let f=e.nodeBefore,v=e.nodeAfter;if(f||v){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let y=h.getBoundingClientRect(),b=f?y.bottom:y.top;f&&v&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:y.left,right:y.right,top:b-x,bottom:b+x}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*s;r={left:f.left-v,right:f.left+v,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let f=l.getBoundingClientRect(),v=f.width/l.offsetWidth,h=f.height/l.offsetHeight;c=f.left-l.scrollLeft*v,d=f.top-l.scrollTop*h}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=yr(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Oo=Ne.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wo(this.options)]}});class P extends Ye{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return P.valid(r)?new P(r):Ye.near(r)}content(){return kn.empty}eq(e){return e instanceof P&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new P(e.resolve(n.pos))}getBookmark(){return new qt(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Ao(e)||!To(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&P.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(P.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Nt.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(P.valid(a))return a}return null}}}P.prototype.visible=!1;P.findFrom=P.findGapCursorFrom;Ye.jsonID("gapcursor",P);class qt{constructor(e){this.pos=e}map(e){return new qt(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return P.valid(n)?new P(n):Ye.near(n)}}function Ao(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function To(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Co(){return new Be({props:{decorations:ko,createSelectionBetween(t,e,n){return e.pos==n.pos&&P.valid(n)?new P(n):null},handleClick:Mo,handleKeyDown:Eo,handleDOMEvents:{beforeinput:Lo}}})}const Eo=br({ArrowLeft:ht("horiz",-1),ArrowRight:ht("horiz",1),ArrowUp:ht("vert",-1),ArrowDown:ht("vert",1)});function ht(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof De){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=P.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new P(c))),!0):!1}}function Mo(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!P.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Nt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new P(r))),!0)}function Lo(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof P))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Jt.empty;for(let s=r.length-1;s>=0;s--)i=Jt.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new kn(i,0,0));return o.setSelection(De.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function ko(t){if(!(t.selection instanceof P))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Sn.create(t.doc,[Dn.widget(t.selection.head,e,{key:"gapcursor"})])}const So=Ne.create({name:"gapCursor",addProseMirrorPlugins(){return[Co()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=wr(xr(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Do=ae.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,oe(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>St({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var bt=200,B=function(){};B.prototype.append=function(e){return e.length?(e=B.from(e),!this.length&&e||e.length<bt&&this.leafAppend(e)||this.length<bt&&e.leafPrepend(this)||this.appendInner(e)):this};B.prototype.prepend=function(e){return e.length?B.from(e).append(this):this};B.prototype.appendInner=function(e){return new Po(this,e)};B.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?B.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};B.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};B.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};B.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};B.from=function(e){return e instanceof B?e:e&&e.length?new Jn(e):B.empty};var Jn=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=bt)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=bt)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(B);B.empty=new Jn([]);var Po=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(B);const Io=500;class J{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],d=[];return this.items.forEach((f,v)=>{if(!f.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,d.push(f);return}if(i){d.push(new ne(f.map));let h=f.step.map(i.slice(o)),y;h&&s.maybeStep(h).doc&&(y=s.mapping.maps[s.mapping.maps.length-1],c.push(new ne(y,void 0,void 0,c.length+d.length))),o--,y&&i.appendMap(y,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new J(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),v=new ne(e.mapping.maps[d],f,n),h;(h=l&&l.merge(v))&&(v=h,d?o.pop():a=a.slice(0,a.length-1)),o.push(v),n&&(s++,n=void 0),i||(l=v)}let c=s-r.depth;return c>Ro&&(a=Ho(a,c),s-=c),new J(a.append(o),s)}remapping(e,n){let r=new Or;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new J(this.items.append(e.map(n=>new ne(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(v=>{v.selection&&a--},i);let l=n;this.items.forEach(v=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let y=o.maps[h];if(v.step){let b=e.steps[h].invert(e.docs[h]),x=v.selection&&v.selection.map(o.slice(l+1,h));x&&a++,r.push(new ne(y,b,x))}else r.push(new ne(y))},i);let c=[];for(let v=n;v<s;v++)c.push(new ne(o.maps[v]));let d=this.items.slice(0,i).append(c).append(r),f=new J(d,a);return f.emptyItemCount()>Io&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let f=new ne(c.invert(),l,d),v,h=i.length-1;(v=i.length&&i[h].merge(f))?i[h]=v:i.push(f)}}else s.map&&r--},this.items.length,0),new J(B.from(i.reverse()),o)}}J.empty=new J(B.empty,0);function Ho(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ne{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ne(n.getMap().invert(),n,this.selection)}}}class me{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const Ro=20;function Bo(t,e,n,r){let i=n.getMeta(Ae),o;if(i)return i.historyState;n.getMeta(Vo)&&(t=new me(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Ae))return s.getMeta(Ae).redo?new me(t.done.addTransform(n,void 0,r,vt(e)),t.undone,wn(n.mapping.maps),t.prevTime,t.prevComposition):new me(t.done,t.undone.addTransform(n,void 0,r,vt(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!No(n,t.prevRanges)),c=s?Lt(t.prevRanges,n.mapping):wn(n.mapping.maps);return new me(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,vt(e)),J.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new me(t.done.rebased(n,o),t.undone.rebased(n,o),Lt(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new me(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Lt(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function No(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function wn(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function Lt(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function $o(t,e,n){let r=vt(e),i=Ae.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new me(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Ae,{redo:n,historyState:l})}let kt=!1,xn=null;function vt(t){let e=t.plugins;if(xn!=e){kt=!1,xn=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){kt=!0;break}}return kt}const Ae=new Je("history"),Vo=new Je("closeHistory");function jo(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Be({key:Ae,state:{init(){return new me(J.empty,J.empty,null,0,-1)},apply(e,n,r){return Bo(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Qn:r=="historyRedo"?er:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Zn(t,e){return(n,r)=>{let i=Ae.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=$o(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const Qn=Zn(!1,!0),er=Zn(!0,!0),Wo=Ne.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Qn(t,e),redo:()=>({state:t,dispatch:e})=>er(t,e)}},addProseMirrorPlugins(){return[jo(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),_o=ae.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",oe(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,o=t();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Tn(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:c}=s.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(De.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(Nt.create(s.doc,c.pos)):s.setSelection(De.create(s.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(s.insert(d,f),s.setSelection(De.create(s.doc,d+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Ar({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Fo=ae.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",oe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Uo="listItem",On="textStyle",An=/^(\d+)\.\s$/,zo=ae.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",oe(this.options.HTMLAttributes,n),0]:["ol",oe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Uo,this.editor.getAttributes(On)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ke({find:An,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ke({find:An,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(On)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),qo=ae.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ko=ae.create({name:"text",group:"inline"}),Qo=Ne.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(fo.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(ao.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(mo.configure(this.options.bulletList)),this.options.code!==!1&&t.push(Tr.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(yo.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(bo.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Oo.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(So.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(Cr.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(Do.configure(this.options.heading)),this.options.history!==!1&&t.push(Wo.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(_o.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Er.configure(this.options.italic)),this.options.listItem!==!1&&t.push(Fo.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(zo.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(qo.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Mr.configure(this.options.strike)),this.options.text!==!1&&t.push(Ko.configure(this.options.text)),t}}),es=Ne.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Be({key:new Je("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((s,a)=>{const l=r>=a&&r<=a+s.nodeSize,c=!s.isLeaf&&Lr(s);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];o&&d.push(this.options.emptyEditorClass);const f=Dn.node(a,a+s.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),Sn.create(t,i)}}})]}});export{Xo as B,Go as E,es as P,Qo as S,Zo as V,et as t,Jo as u};
