import{e as E,J as V,ak as K,n as _,aY as B,c as G,o as I,b as l,I as U,K as j,w as n,N as q,L as t,ag as x,M as D,a as o,t as d,ap as F,d as J,_ as Y}from"./DRA9KN5F.js";const H={class:"comment-bubble-menu bg-transparent flex-row rounded-lg flex"},P={class:"flex flex-col items-center"},Q={class:"text-xs"},W={class:"flex flex-col items-center"},X={class:"flex flex-col items-center"},Z={class:"flex flex-col items-center"},ee={class:"flex flex-col items-center"},te=E({__name:"RichTextOptions",props:{editor:{},disableMention:{type:Boolean,default:!1}},setup(M){const N=M,{appInfo:z}=V(),{editor:e}=K(N),g=_(()=>B()?"⌘":"CTRL"),L=_(()=>B()?"⇧":"Shift"),f=_(()=>-1),R=()=>{var r,u,b,s,v,c,k,h,y,$,C,A,w,S,T;if(!e.value)return;const a=((s=(b=(u=(r=e.value)==null?void 0:r.state)==null?void 0:u.selection)==null?void 0:b.$from)==null?void 0:s.nodeBefore)||((h=(k=(c=(v=e.value)==null?void 0:v.state)==null?void 0:c.selection)==null?void 0:k.$from)==null?void 0:h.nodeAfter),i=(C=($=(y=e.value)==null?void 0:y.state)==null?void 0:$.storedMarks)==null?void 0:C.some(p=>p.type.name==="link");((A=a==null?void 0:a.marks)==null?void 0:A.some(p=>p.type.name==="link"))||i?e.value.chain().focus().unsetLink().run():((w=e.value)!=null&&w.state.selection.empty?e.value.chain().focus().insertContent(" ").setTextSelection({from:(S=e.value)==null?void 0:S.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).toggleLink({href:""}).setTextSelection({from:(T=e.value)==null?void 0:T.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).deleteSelection().run():e.value.chain().focus().setLink({href:""}).selectTextblockEnd().run(),setTimeout(()=>{const p=document.querySelector(".nc-text-area-rich-link-option-input");p&&p.focus()},100))},O=()=>{var i,m,r,u;if(!e.value)return;const a=e.value.state.doc.textBetween(e.value.state.selection.$from.pos-1,e.value.state.selection.$from.pos);a==="@"?e.value.chain().deleteRange({from:e.value.state.selection.$from.pos-1,to:e.value.state.selection.$from.pos}).run():a!==" "?((i=e.value)==null||i.commands.insertContent(" @"),(m=e.value)==null||m.chain().focus().run()):((r=e.value)==null||r.commands.insertContent("@"),(u=e.value)==null||u.chain().focus().run())};return(a,i)=>{var b;const m=D,r=q,u=F;return I(),G("div",H,[l(u,null,{title:n(()=>[o("div",P,[o("div",null,d(a.$t("labels.bold")),1),o("div",Q,d(t(g))+" B",1)])]),default:n(()=>{var s;return[l(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("bold")},"!h-7 !w-7 !hover:bg-nc-bg-gray-medium"]),tabindex:t(f),size:"xsmall",type:"text",onClick:i[0]||(i[0]=v=>{var c;return(c=t(e))==null?void 0:c.chain().focus().toggleBold().run()})},{default:n(()=>[l(m,{icon:"bold"})]),_:1},8,["class","tabindex"])]}),_:1}),l(u,{disabled:(b=t(e))==null?void 0:b.isActive("italic")},{title:n(()=>[o("div",W,[o("div",null,d(a.$t("labels.italic")),1),o("div",null,d(t(g))+" I",1)])]),default:n(()=>{var s;return[l(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("italic")},"!h-7 !w-7 !hover:bg-nc-bg-gray-medium"]),tabindex:t(f),size:"xsmall",type:"text",onClick:i[1]||(i[1]=v=>{var c;((c=t(e))==null?void 0:c.chain().focus()).toggleItalic().run()})},{default:n(()=>[l(m,{icon:"italic"})]),_:1},8,["class","tabindex"])]}),_:1},8,["disabled"]),l(u,null,{title:n(()=>[o("div",X,[o("div",null,d(a.$t("labels.underline")),1),o("div",null,d(t(g))+" U",1)])]),default:n(()=>{var s;return[l(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("underline")},"!h-7 !w-7 !hover:bg-nc-bg-gray-medium"]),tabindex:t(f),size:"xsmall",type:"text",onClick:i[2]||(i[2]=v=>{var c;return(c=t(e))==null?void 0:c.chain().focus().toggleUnderline().run()})},{default:n(()=>[l(m,{icon:"underline"})]),_:1},8,["class","tabindex"])]}),_:1}),l(u,null,{title:n(()=>[o("div",Z,[o("div",null,d(a.$t("labels.strike")),1),o("div",null,d(t(L))+" "+d(t(g))+" S",1)])]),default:n(()=>{var s;return[l(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("strike")},"!h-7 !w-7 !hover:bg-nc-bg-gray-medium"]),tabindex:t(f),size:"xsmall",type:"text",onClick:i[3]||(i[3]=v=>{var c;return(c=t(e))==null?void 0:c.chain().focus().toggleStrike().run()})},{default:n(()=>[l(m,{icon:"strike"})]),_:1},8,["class","tabindex"])]}),_:1}),l(u,null,{title:n(()=>[J(d(a.$t("general.link")),1)]),default:n(()=>{var s;return[l(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("link")},"!h-7 !w-7 !hover:bg-nc-bg-gray-medium"]),tabindex:t(f),size:"xsmall",type:"text",onClick:R},{default:n(()=>[l(m,{icon:"link2"})]),_:1},8,["class","tabindex"])]}),_:1}),t(z).ee&&!a.disableMention?(I(),U(u,{key:0},{title:n(()=>[o("div",ee,[o("div",null,d(a.$t("labels.mention")),1),i[4]||(i[4]=o("div",null,"@",-1))])]),default:n(()=>{var s;return[l(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("suggestions")},"!h-7 !w-7 !hover:bg-nc-bg-gray-medium"]),tabindex:t(f),size:"xsmall",type:"text",onClick:O},{default:n(()=>[l(m,{icon:"atSign"})]),_:1},8,["class","tabindex"])]}),_:1})):j("",!0)])}}}),ne=Object.assign(Y(te,[["__scopeId","data-v-994aec51"]]),{__name:"SmartsheetExpandedFormRichTextOptions"});export{ne as default};
