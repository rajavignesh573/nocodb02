const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bs6RX8xD.js","./DRA9KN5F.js","./entry.CNP42Mi6.css","./2d03FuDZ.js"])))=>i.map(i=>d[i]);
import{e as F,bk as P,a6 as q,a9 as A,r as w,Y as B,hG as M,c as u,o as i,b as t,w as r,a as s,aX as S,L as n,t as o,an as x,d as l,X as T,by as z,K as D,a0 as G,ar as H,I as X,b9 as K,bo as O,bH as W,y as Y,a_ as J}from"./DRA9KN5F.js";import{_ as Q}from"./Dv0nYk-Y.js";import{_ as Z}from"./Bv0AHyYV.js";import{_ as ee}from"./CV0tNlZe.js";const se=S(()=>J(()=>import("./Bs6RX8xD.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(_=>_.default||_)),te={class:"md:bg-primary bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},oe={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},ne={class:"self-center flex flex-col justify-center items-center text-center gap-2"},ae={class:"prose-2xl font-bold my-4 w-full"},re={class:"prose-sm"},ie={class:"prose-sm mb-4"},le={class:"prose-sm text-success flex items-center leading-8 gap-2"},ce={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},me={class:"flex items-center gap-2 justify-center"},ue={class:"break-words"},_e={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},de={class:"scaling-btn bg-opacity-100",type:"submit"},pe={class:"flex items-center gap-2"},fe={class:"text-end prose-sm"},be=F({__name:"forgot-password",setup(_){const k=P(),{api:$,isLoading:I,error:c}=q({useGlobalInstance:!0}),{t:d}=A(),g=w(!1),y=w(),m=B({email:""}),R={email:[{required:!0,message:d("msg.error.signUpRules.emailRequired")},{validator:(e,a)=>new Promise((p,f)=>{if(!(a!=null&&a.length)||M(a))return p();f(new Error(d("msg.error.signUpRules.emailInvalid")))}),message:d("msg.error.signUpRules.emailInvalid")}]};async function C(){if(y.value.validate()){v();try{await $.auth.passwordForgot(m).then(()=>{g.value=!0})}catch{}}}function v(){c.value&&(c.value=null)}function h(){Y({path:"/signin",query:k.query})}return(e,a)=>{const p=se,f=ee,b=Q,E=Z,V=H,L=G,N=T,U=W;return i(),u("div",null,[t(U,null,{default:r(()=>[s("div",te,[s("div",oe,[t(p,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:n(I)},null,8,["animate"]),s("div",ne,[s("h1",ae,o(e.$t("title.resetPassword")),1),n(g)?(i(),u(x,{key:1},[s("div",le,[l(o(e.$t("msg.info.passwordRecovery.success"))+" ",1),t(f)]),t(b,{onClick:h},{default:r(()=>[l(o(e.$t("general.signIn")),1)]),_:1})],64)):(i(),u(x,{key:0},[s("div",re,o(e.$t("msg.info.passwordRecovery.message_1")),1),s("div",ie,o(e.$t("msg.info.passwordRecovery.message_2")),1)],64))]),t(N,{ref_key:"formValidator",ref:y,layout:"vertical",model:n(m),"no-style":"",onFinish:C},{default:r(()=>[t(z,{name:"layout"},{default:r(()=>[n(c)?(i(),u("div",ce,[s("div",me,[t(E),s("div",ue,o(n(c)),1)])])):D("",!0)]),_:1}),t(L,{label:e.$t("labels.email"),name:"email",rules:R.email},{default:r(()=>[t(V,{value:n(m).email,"onUpdate:value":a[0]||(a[0]=j=>n(m).email=j),size:"large",placeholder:e.$t("msg.info.signUp.workEmail"),onFocus:v},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),s("div",_e,[s("button",de,[s("span",pe,[(i(),X(K(("iconMap"in e?e.iconMap:n(O)).signin))),l(" "+o(e.$t("activity.sendEmail")),1)])]),s("div",fe,[l(o(e.$t("msg.info.signUp.alreadyHaveAccount"))+" ",1),t(b,{onClick:h},{default:r(()=>[l(o(e.$t("general.signIn")),1)]),_:1})])])]),_:1},8,["model"])])])]),_:1})])}}});export{be as default};
