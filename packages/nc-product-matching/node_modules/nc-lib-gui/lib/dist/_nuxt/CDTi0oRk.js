const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DFDQpYGj.js","./DRA9KN5F.js","./entry.CNP42Mi6.css","./CC4cUItJ.js","./EcM5l_HA.js","./C2UaKEE0.js","./Item.GTPiKSkc.css","./BLPDl4Qg.js","./CsX17Y_h.js","./CHRPOXXy.js","./gByPF8bR.js","./Modal.CB1oWLel.css","./BCBMEREK.js","./CQa0sIfA.js","./DkDj6Z7Z.js","./C_gbauhL.js","./C_VN1MCC.js","./index.CMurbi1o.css","./D7poRkS0.js","./BmscXXs6.js","./gAYHr7Gr.js","./By5RWL3d.js","./ColumnMenu.tCfxYPwr.css","./Menu.t7sYKetr.css","./CG-5KGUk.js","./CkvAmLZt.js","./D7OHpRdS.js","./DvtLu3FC.js","./D_txg4HT.js","./SelectOptions.BDAXdwVJ.css","./C3FZdmXk.js","./index.C8L8AhJa.css","./JqUqXTOd.js","./I4o4wRE2.js","./BMPzbwPk.js","./CwPFbl3n.js","./YbUkeyWR.js","./C5HnjaiI.js","./CBhmoxRW.js","./DjPyxH1k.js","./Bc3_tI4-.js","./CJAyvGKH.js","./QeWwuUYP.js","./index._6B72PDH.css","./Dv0nYk-Y.js","./D43249YX.js","./CNwEZGnv.js","./DP83Cqnl.js","./DlXIlcns.js","./BVqTF1QK.js","./Ce4xoeky.js","./U3gU45AW.js","./BYKJ-MHf.js","./B94p8ToD.js","./Cd4chHHL.js","./boyBAVNN.js","./BBg0y0zb.js","./-iDxnmJF.js","./EditOrAddProvider.C1S70ahv.css"])))=>i.map(i=>d[i]);
import{e as pe,J as me,av as K,G as x,r as d,j7 as fe,ef as ve,kV as _e,gz as ye,o2 as xe,bX as we,bd as he,as as be,n as A,b_ as Ie,bZ as ke,aj as ge,aF as X,iX as F,iY as Ee,aG as Ce,j0 as De,la as Te,c as v,o as a,a as L,I as _,K as u,b as g,L as e,an as Z,w as c,fX as Ae,ag as w,d as O,t as P,ap as Oe,M as Pe,Q as J,aX as Q,O as M,eC as Me,a_ as Y,bb as je,fO as Fe,_ as Le}from"./DRA9KN5F.js";import{u as Be}from"./By5RWL3d.js";const Re=Q(()=>Y(()=>import("./DFDQpYGj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url).then(p=>p.default||p)),Se=Q(()=>Y(()=>import("./CG-5KGUk.js").then(p=>p.E),__vite__mapDeps([24,1,2,7,25,26,27,28,13,14,21,20,29,30,31,32,33,34,35,36,18,37,38,39,40,8,12,41,5,6,16,17,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58]),import.meta.url).then(p=>p.default||p)),Ve=["data-test-id"],Ne={key:2,class:"text-red-500"},Ue={key:0,class:"flex-1"},ze={key:1},Ge={key:1},He={class:"nc-edit-or-add-provider-wrapper"},qe=pe({__name:"Cell",props:{column:{},required:{type:[Boolean,Number]},hideMenu:{type:Boolean},hideIcon:{type:Boolean},hideIconTooltip:{type:Boolean},isHiddenCol:{type:Boolean},showLockIcon:{type:Boolean}},setup(p){const E=p,{isMobileMode:h}=me(),b=K(E,"hideMenu"),B=x(fe,d(!1)),m=x(ve,d(!1)),R=x(_e,d(!1)),l=x(ye,d(!1)),r=x(xe,d(!1)),i=d(!1),$=x(we,d(!1)),j=x(he),o=K(E,"column"),{isUIAllowed:f,isMetaReadOnly:W}=be(),{isAllowed:ee}=Be();je(Fe,o);const s=d(!1),C=d(null),te=A(()=>{var t;return!E.showLockIcon||!((t=o.value)!=null&&t.id)?!0:ee(Ie.FIELD,o.value.id,ke.RECORD_FIELD_EDIT)}),oe=A(()=>{var t;return((t=j.value)==null?void 0:t.type)==="view"}),ne=A(()=>{var t,n,I,y;if(o.value.uidt===ge.LongText){if((n=X((t=o.value)==null?void 0:t.meta))!=null&&n.richMode)return F.RichText;if((y=X((I=o.value)==null?void 0:I.meta))!=null&&y[Ee])return F.AIPrompt}return o.value.uidt?F[o.value.uidt]:""}),le=async t=>{C.value=t,s.value=!0},S=d(),D=d(!1);Ce(s,t=>{t||(D.value=!1)});const V=()=>{C.value=null,s.value=!1},se=A(()=>{var t,n;return!(W.value&&!De.includes((t=o.value)==null?void 0:t.uidt)&&!Te.includes((n=o.value)==null?void 0:n.uidt))}),N=(t,n=!1)=>{l.value&&(t==null?void 0:t.type)==="dblclick"||r.value||oe.value||!m.value&&f("fieldEdit")&&!h.value&&(se.value||n)&&(n&&(D.value=!0),s.value=!0)},ae=t=>{m.value||!f("fieldEdit")&&!h.value||(t.preventDefault(),t.stopPropagation(),i.value=!i.value)},ie=()=>{var t;s.value=!0,(t=S.value)!=null&&t.shouldKeepModalOpen()||(s.value=!1,D.value=!1)},re=t=>{if(!(h.value||!f("fieldEdit"))){if(i.value)t.preventDefault(),t.stopPropagation();else if(l.value&&!s.value&&!r.value){i.value=!0;return}i.value=!1}};return(t,n)=>{var U,z,G,H,q;const I=Ae,y=Oe,T=Pe,de=Re,ue=Se,ce=Me;return a(),v("div",{class:w(["flex items-center w-full text-xs text-gray-500 font-weight-medium group",{"h-full":e(o),"flex-col !items-start justify-center pt-0.5":e(l)&&!e(h)&&!e(r),"nc-cell-expanded-form-header cursor-pointer hover:bg-gray-100":e(l)&&!e(h)&&e(f)("fieldEdit")&&!e(r),"bg-gray-100":e(l)&&!e(r)?e(s)||e(i):!1}]),onDblclick:n[5]||(n[5]=k=>N(k,!1)),onContextmenu:M(ae,["right"]),onClick:re},[L("div",{class:w(["nc-cell-name-wrapper flex-1 flex items-center",{"max-w-[calc(100%_-_23px)]":!e(l)&&!((U=e(o).description)!=null&&U.length),"max-w-[calc(100%_-_44px)]":!e(l)&&((z=e(o).description)==null?void 0:z.length),"max-w-full":e(l)&&!e(r)}])},[e(o)&&!E.hideIcon?(a(),v(Z,{key:0},[e(B)?(a(),_(y,{key:0,class:"flex items-center",placement:"bottom",disabled:t.hideIconTooltip||(e(l)&&!e(r)?e(s)||e(i):!1)},{title:c(()=>[O(P(e(ne)),1)]),default:c(()=>[g(I,{class:w({"self-start":e(m)||e(R)})},null,8,["class"])]),_:1},8,["disabled"])):(a(),_(I,{key:1,class:w({"self-start":e(m)||e(R)})},null,8,["class"]))],64)):u("",!0),e(o)?(a(),_(y,{key:1,class:w([{"cursor-pointer":!e(m)&&e(f)("fieldEdit")&&!e(b),"cursor-default":e(m)||!e(f)("fieldEdit")||e(b),truncate:!e(m)},"name pl-1 max-w-full"]),placement:"bottom","show-on-truncate-only":"",disabled:e(l)&&!e(r)?e(s)||e(i):!1},{title:c(()=>[O(P(e(o).title),1)]),default:c(()=>[L("span",{"data-test-id":e(o).title,class:w({"select-none":e(l)&&!e(r)})},P(e(o).title),11,Ve)]),_:1},8,["class","disabled"])):u("",!0),e(o).rqd&&!e(o).cdf||t.required?(a(),v("span",Ne," *")):u("",!0),e(te)?u("",!0):(a(),_(T,{key:3,icon:"ncLock",class:"nc-column-lock-icon flex-none !ml-1 w-3.5 h-3.5 opacity-90"})),e(l)&&!e(r)&&!e(h)&&e(f)("fieldEdit")&&!e(b)?(a(),_(T,{key:4,icon:"arrowDown",class:w(["nc-column-context-menu flex-none cursor-pointer ml-1 group-hover:visible w-4 h-4",{visible:e(s)||e(i),invisible:!(e(s)||e(i))}])},null,8,["class"])):u("",!0)],2),(G=e(o).description)!=null&&G.length&&e($)&&e(B)&&!e(l)&&!e(b)?(a(),_(y,{key:0},{title:c(()=>[O(P(e(o).description),1)]),default:c(()=>[g(T,{icon:"info",class:"group-hover:opacity-100 !w-3.5 !h-3.5 !text-gray-500 flex-none"})]),_:1})):u("",!0),!e(b)||(H=e(j))!=null&&H.synced?(a(),v(Z,{key:1},[e(l)?u("",!0):(a(),v("div",Ue)),!e(l)&&((q=e(j))!=null&&q.synced)&&e(o).readonly?(a(),v("div",ze,[g(y,{class:"flex items-center",placement:"bottom"},{title:c(()=>n[6]||(n[6]=[O(" This field is synced ")])),default:c(()=>[g(T,{icon:"ncZap",class:"flex-none !w-4 !h-4 !text-gray-500"})]),_:1})])):!e(m)&&e(f)("fieldEdit")?(a(),_(de,{key:2,"is-open":e(i),"onUpdate:isOpen":n[0]||(n[0]=k=>J(i)?i.value=k:null),"is-hidden-col":t.isHiddenCol,onAddColumn:le,onEdit:N},null,8,["is-open","is-hidden-col"])):u("",!0)],64)):u("",!0),g(ce,{visible:e(s),"onUpdate:visible":n[4]||(n[4]=k=>J(s)?s.value=k:null),class:"h-full",trigger:["click"],placement:e(l)&&!e(r)?"bottomLeft":"bottomRight","overlay-class-name":`nc-dropdown-edit-column ${e(s)?"active":""}`,onVisibleChange:ie},{overlay:c(()=>[L("div",He,[e(s)?(a(),_(ue,{key:0,ref_key:"editOrAddProviderRef",ref:S,column:e(C)?null:e(o),"column-position":e(C),class:"w-full","edit-description":e(D),onSubmit:V,onCancel:V,onClick:n[2]||(n[2]=M(()=>{},["stop"])),onKeydown:n[3]||(n[3]=M(()=>{},["stop"]))},null,8,["column","column-position","edit-description"])):u("",!0)])]),default:c(()=>[e(l)&&!e(r)?(a(),v("div",{key:0,class:"h-[1px]",onDblclick:n[1]||(n[1]=M(()=>{},["stop"]))}," ",32)):(a(),v("div",Ge))]),_:1},8,["visible","placement","overlay-class-name"])],34)}}}),Ze=Object.assign(Le(qe,[["__scopeId","data-v-d6995346"]]),{__name:"SmartsheetHeaderCell"});export{Ze as default};
