import{e as h,T as B,r as g,a9 as C,n as M,ab as y,aG as S,I as v,o as m,L as n,Q as V,w as l,a as r,c as E,K as b,ao as w,t as s,d as c,b as k,N as R,a4 as T,a5 as z}from"./DRA9KN5F.js";import{_ as G}from"./gByPF8bR.js";import{_ as j}from"./BCBMEREK.js";const I={class:"flex flex-row pb-2 mb-3 font-medium text-lg text-nc-content-gray"},K={key:0,class:"mb-3 text-nc-content-gray"},U={class:"ml-1"},O={class:"flex flex-row gap-x-2 mt-2.5 pt-2.5 justify-end"},Q=h({__name:"DeleteModal",props:{visible:{type:Boolean},entityName:{},onDelete:{},deleteLabel:{},showDefaultDeleteMsg:{type:Boolean,default:!0}},emits:["update:visible"],setup(x,{emit:D}){const o=x,t=B(o,"visible",D),i=g(!1),u=g(),{t:N}=C(),d=M(()=>o.deleteLabel??N("general.delete")),f=async()=>{i.value=!0;try{await o.onDelete(),t.value=!1}catch(e){console.error(e),T.error(await z(e))}finally{i.value=!1}};return y("Escape",()=>{t.value&&(t.value=!1)}),y("Enter",()=>{i.value||t.value&&f()}),S(t,e=>{e&&setTimeout(()=>{var a;(a=u.value)==null||a.focus()},100)}),(e,a)=>{const $=j,p=R,L=G;return m(),v(L,{visible:n(t),"onUpdate:visible":a[1]||(a[1]=_=>V(t)?t.value=_:null),size:"small",centered:""},{default:l(()=>[r("div",{ref_key:"modalRef",ref:u,class:"flex flex-col p-6"},[r("div",I,s(n(d))+" "+s(o.entityName),1),e.showDefaultDeleteMsg?(m(),E("div",K,[c(s(e.$t("msg.areYouSureUWantToDeleteLabel",{deleteLabel:n(d).toLowerCase()})),1),r("span",U,s(o.entityName.toLowerCase())+"?",1)])):b("",!0),w(e.$slots,"entity-preview"),e.$slots.warning?(m(),v($,{key:1,type:"warning","show-icon":""},{message:l(()=>[w(e.$slots,"warning")]),_:3})):b("",!0),r("div",O,[k(p,{type:"secondary",size:"small",onClick:a[0]||(a[0]=_=>t.value=!1)},{default:l(()=>[c(s(e.$t("general.cancel")),1)]),_:1}),k(p,{key:"submit",type:"danger",size:"small","html-type":"submit",loading:n(i),"data-testid":"nc-delete-modal-delete-btn",onClick:f},{loading:l(()=>[c(s(e.$t("general.deleting")),1)]),default:l(()=>[c(s(`${n(d)} ${o.entityName}`)+" ",1)]),_:1},8,["loading"])])],512)]),_:3},8,["visible"])}}}),F=Object.assign(Q,{__name:"GeneralDeleteModal"});export{F as default};
