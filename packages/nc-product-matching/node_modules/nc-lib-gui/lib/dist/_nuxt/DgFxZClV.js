import{ca as n,a6 as l,J as c,as as d,a7 as f,aG as p}from"./DRA9KN5F.js";const m=n("userStore",()=>{const{api:r}=l(),{user:s}=c(),{loadRoles:o}=d(),t=f(),u=async({attrs:e})=>{if(!s.value)throw new Error("User is not defined");await r.userProfile.update(e),s.value={...s.value,...e},t.clearBasesUser()},a=o;return p(()=>{var e;return(e=s.value)==null?void 0:e.id},(e,i)=>{e&&e!==i&&a()},{immediate:!0}),{loadCurrentUser:a,updateUserProfile:u}});export{m as u};
