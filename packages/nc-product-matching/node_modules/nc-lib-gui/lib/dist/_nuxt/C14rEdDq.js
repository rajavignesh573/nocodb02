import{e as M,G as i,fO as R,r,g6 as H,j9 as E,gz as F,n as f,i1 as L,aF as O,kn as V,aG as K,I as s,o as l,w as P,K as c,L as t,mm as S,mn as T,mo as z,mp as A,mq as G,cf as $,ag as q,i3 as B,Q as D,_ as N}from"./DRA9KN5F.js";import{u as U}from"./CbX26EBz.js";import{_ as Q}from"./Bm6QmuXP.js";const J=M({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(g,{emit:y}){const x=y,u=i(R),p=i(H,r(!1)),_=i(E,r(void 0)),v=i(F,r(!1)),o=f(()=>{var n,d;const e=L((n=u==null?void 0:u.value)==null?void 0:n.meta);return{color:"#fcb401",max:5,...O((d=u.value)==null?void 0:d.meta),icon:e}}),a=f({get:()=>Number(g.modelValue),set:e=>x("update:modelValue",e)});U(i(V,r(!1)),e=>{/^\d$/.test(e.key)&&(e.stopPropagation(),a.value=+e.key==+a.value?0:+e.key)},{immediate:!0,isGridCell:!0});const k=e=>{/^\d$/.test(e.key)&&(e.stopPropagation(),a.value=+e.key==+a.value?0:+e.key)},m=r();return K(m,()=>{if(!m.value)return;const e=m.value.$el.querySelectorAll('div[role="radio"]');if(e)for(let n=0;n<e.length;n++)e[n].setAttribute("tabindex","-1")}),(e,n)=>{const d=S,h=T,w=z,b=A,I=G,C=Q;return l(),s(C,{ref_key:"rateDomRef",ref:m,key:t(o).icon.full,value:t(a),"onUpdate:value":n[0]||(n[0]=j=>D(a)?a.value=j:null),disabled:t(p),count:t(o).max,class:q(t(p)?"pointer-events-none":""),style:$({color:t(o).color,padding:t(v)?"0px 8px":"0px 2px",display:"-webkit-box","max-width":"100%","-webkit-line-clamp":t(_)===6?5:("rowHeightTruncateLines"in e?e.rowHeightTruncateLines:t(B))(t(_),!0),"-webkit-box-orient":"vertical",overflow:"hidden","line-height":"16px"}),onKeydown:k},{character:P(()=>[t(o).icon.full==="mdi-star"?(l(),s(d,{key:0,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-heart"?(l(),s(h,{key:1,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-moon-full"?(l(),s(w,{key:2,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-thumb-up"?(l(),s(b,{key:3,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-flag"?(l(),s(I,{key:4,class:"text-sm"})):c("",!0)]),_:1},8,["value","disabled","count","class","style"])}}}),Z=Object.assign(N(J,[["__scopeId","data-v-d468da5c"]]),{__name:"CellRatingEditor"});export{Z as default};
