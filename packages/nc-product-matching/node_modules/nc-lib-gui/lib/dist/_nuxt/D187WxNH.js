import{e as Li,r as hn,mR as ba,mS as ya,dy as wa,ab as Ln,aG as _a,n as Ii,I as xa,o as re,bK as Ea,L as B,Q as ka,w as ge,a as Z,ao as In,a1 as qa,av as Ra,c as ne,b as Pn,K as Na,cf as On,by as Ma,t as Sa,ag as Ca,an as An,mT as Pi,mU as La,mV as Ia,mW as Pa,mX as Oa,mY as Aa,mZ as Ta,m_ as Fa,m$ as ja,n0 as Oi,n1 as qe,n2 as Ai,n3 as Re,n4 as Ti,n5 as gn,n6 as bn,n7 as Fi,n8 as ji,n9 as $i,na as $a,nb as Gi,nc as Bi,nd as Di,ne as Vi,nf as Ga,ng as zi,nh as Ba,ni as Ui,nj as Yi,nk as Hi,nl as Da,nm as Va,nn as Wi,no as za,np as yn,nq as Xi,nr as Ki,ns as wn,nt as Ua,nu as Ya,nv as Ha,nw as Wa,nx as Xa,ny as Ka,nz as Za,nA as Qa,nB as Ja,nC as eo,nD as ro,nE as no,nF as to,nG as io,nH as Zi,nI as ao,nJ as oo,nK as Qi,nL as uo,nM as so,nN as fo,nO as co,nP as ho,nQ as lo,nR as vo,nS as po,nT as mo,nU as go,c1 as bo}from"./DRA9KN5F.js";import{g as yo,d as wo}from"./KAvfy7MV.js";const _o=Li({__name:"Tooltip",props:{modifierKey:{},tooltipStyle:{},disabled:{type:Boolean}},setup(e){const r=hn(),i=ba(!1,{onBeforeChange:t=>{if(t&&e.disabled)return!1}}),a=ya(()=>r.value),n=wa(),d=hn(!1);Ln(t=>t.key===e.modifierKey,t=>{t.preventDefault(),a.value&&(i.value=!0),d.value=!0},{eventName:"keydown"}),Ln(t=>t.key===e.modifierKey,t=>{t.preventDefault(),i.value=!1,d.value=!1},{eventName:"keyup"}),_a([a,()=>e.modifierKey,()=>e.disabled],([t,s,u])=>{if(!t||u){i.value=!1;return}if(t&&!s){i.value=!0;return}if(t&&s&&!d.value){i.value=!1;return}!i.value&&t&&s&&d.value&&(i.value=!0)});const f=Ii(()=>({style:n.style,class:n.class}));return(t,s)=>{const u=Ea;return re(),xa(u,{visible:B(i),"onUpdate:visible":s[0]||(s[0]=o=>ka(i)?i.value=o:null),"overlay-style":t.tooltipStyle,trigger:[]},{title:ge(()=>[In(t.$slots,"title")]),default:ge(()=>[Z("div",qa({ref_key:"el",ref:r,class:"w-full"},B(f)),[In(t.$slots,"default")],16)]),_:3},8,["visible","overlay-style"])}}}),ef=Object.assign(_o,{__name:"GeneralTooltip"}),xo=["stroke-width","d","marker-end"],Eo=["id","stroke-width","d","marker-end"],ko=["stroke-width","d"],qo=["cx","cy"],Ro=["x","y","transform"],No=["x","y","transform"],Mo=["cx","cy"],So={inheritAttrs:!1},Co=Li({...So,__name:"RelationEdge",props:{id:{},sourceX:{},sourceY:{},targetX:{},targetY:{},sourcePosition:{},targetPosition:{},data:{},style:{},selected:{type:Boolean},showSkeleton:{type:Boolean},markerEnd:{},events:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{type:[String,Object,Function]},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},curvature:{},interactionWidth:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e){var f,t,s,u;const r=e,i=2,a=Ra(r,"data"),n=hn(!1),d=Ii(()=>{if(a.value.isSelfRelation){const{sourceX:o,sourceY:c,targetX:h,targetY:l}=r,w=(o-h)*.6;return[`M ${o} ${c} A ${w} 50 0 1 0 ${h} ${l}`,NaN,NaN]}return yo({...r})});return(t=(f=r.events)==null?void 0:f.mouseEnter)==null||t.call(f,()=>{n.value=!0}),(u=(s=r.events)==null?void 0:s.mouseLeave)==null||u.call(s,()=>{n.value=!1}),(o,c)=>(re(),ne(An,null,[c[0]||(c[0]=Z("defs",null,[Z("linearGradient",{id:"linear-gradient",x1:"-28.83",y1:"770.92",x2:"771.05",y2:"-28.95",gradientUnits:"userSpaceOnUse"},[Z("stop",{offset:"0","stop-color":"#06b6d4"}),Z("stop",{offset:"0.18","stop-color":"#155e75"}),Z("stop",{offset:"0.49","stop-color":"#84cc16"}),Z("stop",{offset:"0.88","stop-color":"#10b981"}),Z("stop",{offset:"0.99","stop-color":"#047857"})])],-1)),Pn(Ma,{name:"layout",duration:50,mode:"in-out"},{default:ge(()=>[o.selected||B(n)?(re(),ne("path",{key:0,style:{color:"blue"},color:"blue",stroke:"#3366FF","stroke-width":(o.showSkeleton?i*12:i*3)/(o.selected||B(n)?2:1),fill:"none",d:B(d)[0],"marker-end":o.showSkeleton?o.markerEnd:""},null,8,xo)):(re(),ne("path",{key:1,id:o.id,stroke:"#898E99",style:On(o.style),"stroke-width":o.showSkeleton?i*4:i,fill:"none",d:B(d)[0],"marker-end":o.showSkeleton?o.markerEnd:""},null,12,Eo))]),_:1}),Z("path",{class:"opacity-0","stroke-width":o.showSkeleton?i*12:i*8,fill:"none",d:B(d)[0]},null,8,ko),Pn(B(wo),null,{default:ge(()=>[Z("div",{style:On({position:"absolute",transform:`translate(-50%, -50%) translate(${B(d)[1]}px,${B(d)[2]}px)`,color:"white",fontSize:`${o.showSkeleton?i*2:i/2}rem`,backgroundColor:B(a).color,borderRadius:"0.25rem",padding:"0.25rem 0.5rem"}),class:Ca(["nodrag nopan color-transition z-1000",[o.selected||B(n)?"opacity-100":"opacity-0 !pointer-events-none",o.showSkeleton?"!text-6xl":"!text-xs",`nc-erd-table-label-${B(a).label.toLowerCase().replace(" ","-").replace("(","").replace(")","")}`]])},Sa(o.showSkeleton?B(a).simpleLabel:B(a).label),7)]),_:1}),o.showSkeleton?Na("",!0):(re(),ne(An,{key:0},[B(a).isOneToOne?(re(),ne("circle",{key:0,class:"nc-erd-edge-circle",cx:o.sourceX,cy:o.sourceY,fill:"#fff",r:5,stroke:"#898E99","stroke-width":2},null,8,qo)):(re(),ne("rect",{key:1,class:"nc-erd-edge-rect",x:o.sourceX,y:o.sourceY-4,width:8,height:8,fill:"#fff",stroke:"#898E99","stroke-width":2,transform:`rotate(45,${o.sourceX+2},${o.sourceY-4})`},null,8,Ro)),B(a).isManyToMany?(re(),ne("rect",{key:2,class:"nc-erd-edge-rect",x:o.targetX,y:o.targetY-4,width:8,height:8,fill:"#fff",stroke:"#898E99","stroke-width":2,transform:`rotate(45,${o.targetX+2},${o.targetY-4})`},null,8,No)):(re(),ne("circle",{key:3,class:"nc-erd-edge-circle",cx:o.targetX,cy:o.targetY,fill:"#fff",r:5,stroke:"#898E99","stroke-width":2},null,8,Mo))],64))],64))}}),rf=Object.assign(Co,{__name:"ErdRelationEdge"});function _n(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Se,Tn;function Ji(){return Tn||(Tn=1,Se=Pi()),Se}var Ce,Fn;function Lo(){if(Fn)return Ce;Fn=1;var e=La(),r=e("length");return Ce=r,Ce}var Le,jn;function Io(){if(jn)return Le;jn=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",n=r+i+a,d="\\ufe0e\\ufe0f",f="["+e+"]",t="["+n+"]",s="\\ud83c[\\udffb-\\udfff]",u="(?:"+t+"|"+s+")",o="[^"+e+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",l="\\u200d",w=u+"?",g="["+d+"]?",v="(?:"+l+"(?:"+[o,c,h].join("|")+")"+g+w+")*",b=g+w+v,m="(?:"+[o+t+"?",t,c,h,f].join("|")+")",p=RegExp(s+"(?="+s+")|"+m+b,"g");function _(y){for(var k=p.lastIndex=0;p.test(y);)++k;return k}return Le=_,Le}var Ie,$n;function Po(){if($n)return Ie;$n=1;var e=Lo(),r=Ia(),i=Io();function a(n){return r(n)?i(n):e(n)}return Ie=a,Ie}var Pe,Gn;function Oo(){if(Gn)return Pe;Gn=1;var e=Pa(),r=Oa(),i=Aa(),a=Ta(),n=Po(),d="[object Map]",f="[object Set]";function t(s){if(s==null)return 0;if(i(s))return a(s)?n(s):s.length;var u=r(s);return u==d||u==f?s.size:e(s).length}return Pe=t,Pe}var Oe,Bn;function Ao(){if(Bn)return Oe;Bn=1;var e=Fa(),r=ja(),i=Oi(),a=qe(),n=Ai(),d=Re(),f=Ti(),t=gn(),s=bn(),u=Fi();function o(c,h,l){var w=d(c),g=w||f(c)||u(c);if(h=a(h,4),l==null){var v=c&&c.constructor;g?l=w?new v:[]:s(c)?l=t(v)?r(n(c)):{}:l={}}return(g?e:i)(c,function(b,m,p){return h(l,b,m,p)}),l}return Oe=o,Oe}var Ae,Dn;function To(){if(Dn)return Ae;Dn=1;var e=ji(),r=$i(),i=$a(),a=Gi(),n=r(function(d){return i(e(d,1,a,!0))});return Ae=n,Ae}var Te,Vn;function H(){if(Vn)return Te;Vn=1;var e;if(typeof _n=="function")try{e={clone:Da(),constant:Hi(),each:Ji(),filter:Yi(),has:Ui(),isArray:Re(),isEmpty:Ba(),isFunction:gn(),isUndefined:zi(),keys:Ga(),map:Vi(),reduce:Di(),size:Oo(),transform:Ao(),union:To(),values:Bi()}}catch{}return e||(e=window._),Te=e,Te}var Fe,zn;function xn(){if(zn)return Fe;zn=1;var e=H();Fe=n;var r="\0",i="\0",a="";function n(o){this._isDirected=e.has(o,"directed")?o.directed:!0,this._isMultigraph=e.has(o,"multigraph")?o.multigraph:!1,this._isCompound=e.has(o,"compound")?o.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}n.prototype._nodeCount=0,n.prototype._edgeCount=0,n.prototype.isDirected=function(){return this._isDirected},n.prototype.isMultigraph=function(){return this._isMultigraph},n.prototype.isCompound=function(){return this._isCompound},n.prototype.setGraph=function(o){return this._label=o,this},n.prototype.graph=function(){return this._label},n.prototype.setDefaultNodeLabel=function(o){return e.isFunction(o)||(o=e.constant(o)),this._defaultNodeLabelFn=o,this},n.prototype.nodeCount=function(){return this._nodeCount},n.prototype.nodes=function(){return e.keys(this._nodes)},n.prototype.sources=function(){var o=this;return e.filter(this.nodes(),function(c){return e.isEmpty(o._in[c])})},n.prototype.sinks=function(){var o=this;return e.filter(this.nodes(),function(c){return e.isEmpty(o._out[c])})},n.prototype.setNodes=function(o,c){var h=arguments,l=this;return e.each(o,function(w){h.length>1?l.setNode(w,c):l.setNode(w)}),this},n.prototype.setNode=function(o,c){return e.has(this._nodes,o)?(arguments.length>1&&(this._nodes[o]=c),this):(this._nodes[o]=arguments.length>1?c:this._defaultNodeLabelFn(o),this._isCompound&&(this._parent[o]=i,this._children[o]={},this._children[i][o]=!0),this._in[o]={},this._preds[o]={},this._out[o]={},this._sucs[o]={},++this._nodeCount,this)},n.prototype.node=function(o){return this._nodes[o]},n.prototype.hasNode=function(o){return e.has(this._nodes,o)},n.prototype.removeNode=function(o){var c=this;if(e.has(this._nodes,o)){var h=function(l){c.removeEdge(c._edgeObjs[l])};delete this._nodes[o],this._isCompound&&(this._removeFromParentsChildList(o),delete this._parent[o],e.each(this.children(o),function(l){c.setParent(l)}),delete this._children[o]),e.each(e.keys(this._in[o]),h),delete this._in[o],delete this._preds[o],e.each(e.keys(this._out[o]),h),delete this._out[o],delete this._sucs[o],--this._nodeCount}return this},n.prototype.setParent=function(o,c){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(c))c=i;else{c+="";for(var h=c;!e.isUndefined(h);h=this.parent(h))if(h===o)throw new Error("Setting "+c+" as parent of "+o+" would create a cycle");this.setNode(c)}return this.setNode(o),this._removeFromParentsChildList(o),this._parent[o]=c,this._children[c][o]=!0,this},n.prototype._removeFromParentsChildList=function(o){delete this._children[this._parent[o]][o]},n.prototype.parent=function(o){if(this._isCompound){var c=this._parent[o];if(c!==i)return c}},n.prototype.children=function(o){if(e.isUndefined(o)&&(o=i),this._isCompound){var c=this._children[o];if(c)return e.keys(c)}else{if(o===i)return this.nodes();if(this.hasNode(o))return[]}},n.prototype.predecessors=function(o){var c=this._preds[o];if(c)return e.keys(c)},n.prototype.successors=function(o){var c=this._sucs[o];if(c)return e.keys(c)},n.prototype.neighbors=function(o){var c=this.predecessors(o);if(c)return e.union(c,this.successors(o))},n.prototype.isLeaf=function(o){var c;return this.isDirected()?c=this.successors(o):c=this.neighbors(o),c.length===0},n.prototype.filterNodes=function(o){var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph());var h=this;e.each(this._nodes,function(g,v){o(v)&&c.setNode(v,g)}),e.each(this._edgeObjs,function(g){c.hasNode(g.v)&&c.hasNode(g.w)&&c.setEdge(g,h.edge(g))});var l={};function w(g){var v=h.parent(g);return v===void 0||c.hasNode(v)?(l[g]=v,v):v in l?l[v]:w(v)}return this._isCompound&&e.each(c.nodes(),function(g){c.setParent(g,w(g))}),c},n.prototype.setDefaultEdgeLabel=function(o){return e.isFunction(o)||(o=e.constant(o)),this._defaultEdgeLabelFn=o,this},n.prototype.edgeCount=function(){return this._edgeCount},n.prototype.edges=function(){return e.values(this._edgeObjs)},n.prototype.setPath=function(o,c){var h=this,l=arguments;return e.reduce(o,function(w,g){return l.length>1?h.setEdge(w,g,c):h.setEdge(w,g),g}),this},n.prototype.setEdge=function(){var o,c,h,l,w=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(o=g.v,c=g.w,h=g.name,arguments.length===2&&(l=arguments[1],w=!0)):(o=g,c=arguments[1],h=arguments[3],arguments.length>2&&(l=arguments[2],w=!0)),o=""+o,c=""+c,e.isUndefined(h)||(h=""+h);var v=t(this._isDirected,o,c,h);if(e.has(this._edgeLabels,v))return w&&(this._edgeLabels[v]=l),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(o),this.setNode(c),this._edgeLabels[v]=w?l:this._defaultEdgeLabelFn(o,c,h);var b=s(this._isDirected,o,c,h);return o=b.v,c=b.w,Object.freeze(b),this._edgeObjs[v]=b,d(this._preds[c],o),d(this._sucs[o],c),this._in[c][v]=b,this._out[o][v]=b,this._edgeCount++,this},n.prototype.edge=function(o,c,h){var l=arguments.length===1?u(this._isDirected,arguments[0]):t(this._isDirected,o,c,h);return this._edgeLabels[l]},n.prototype.hasEdge=function(o,c,h){var l=arguments.length===1?u(this._isDirected,arguments[0]):t(this._isDirected,o,c,h);return e.has(this._edgeLabels,l)},n.prototype.removeEdge=function(o,c,h){var l=arguments.length===1?u(this._isDirected,arguments[0]):t(this._isDirected,o,c,h),w=this._edgeObjs[l];return w&&(o=w.v,c=w.w,delete this._edgeLabels[l],delete this._edgeObjs[l],f(this._preds[c],o),f(this._sucs[o],c),delete this._in[c][l],delete this._out[o][l],this._edgeCount--),this},n.prototype.inEdges=function(o,c){var h=this._in[o];if(h){var l=e.values(h);return c?e.filter(l,function(w){return w.v===c}):l}},n.prototype.outEdges=function(o,c){var h=this._out[o];if(h){var l=e.values(h);return c?e.filter(l,function(w){return w.w===c}):l}},n.prototype.nodeEdges=function(o,c){var h=this.inEdges(o,c);if(h)return h.concat(this.outEdges(o,c))};function d(o,c){o[c]?o[c]++:o[c]=1}function f(o,c){--o[c]||delete o[c]}function t(o,c,h,l){var w=""+c,g=""+h;if(!o&&w>g){var v=w;w=g,g=v}return w+a+g+a+(e.isUndefined(l)?r:l)}function s(o,c,h,l){var w=""+c,g=""+h;if(!o&&w>g){var v=w;w=g,g=v}var b={v:w,w:g};return l&&(b.name=l),b}function u(o,c){return t(o,c.v,c.w,c.name)}return Fe}var je,Un;function Fo(){return Un||(Un=1,je="2.1.8"),je}var $e,Yn;function jo(){return Yn||(Yn=1,$e={Graph:xn(),version:Fo()}),$e}var Ge,Hn;function $o(){if(Hn)return Ge;Hn=1;var e=H(),r=xn();Ge={write:i,read:d};function i(f){var t={options:{directed:f.isDirected(),multigraph:f.isMultigraph(),compound:f.isCompound()},nodes:a(f),edges:n(f)};return e.isUndefined(f.graph())||(t.value=e.clone(f.graph())),t}function a(f){return e.map(f.nodes(),function(t){var s=f.node(t),u=f.parent(t),o={v:t};return e.isUndefined(s)||(o.value=s),e.isUndefined(u)||(o.parent=u),o})}function n(f){return e.map(f.edges(),function(t){var s=f.edge(t),u={v:t.v,w:t.w};return e.isUndefined(t.name)||(u.name=t.name),e.isUndefined(s)||(u.value=s),u})}function d(f){var t=new r(f.options).setGraph(f.value);return e.each(f.nodes,function(s){t.setNode(s.v,s.value),s.parent&&t.setParent(s.v,s.parent)}),e.each(f.edges,function(s){t.setEdge({v:s.v,w:s.w,name:s.name},s.value)}),t}return Ge}var Be,Wn;function Go(){if(Wn)return Be;Wn=1;var e=H();Be=r;function r(i){var a={},n=[],d;function f(t){e.has(a,t)||(a[t]=!0,d.push(t),e.each(i.successors(t),f),e.each(i.predecessors(t),f))}return e.each(i.nodes(),function(t){d=[],f(t),d.length&&n.push(d)}),n}return Be}var De,Xn;function ea(){if(Xn)return De;Xn=1;var e=H();De=r;function r(){this._arr=[],this._keyIndices={}}return r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(i){return i.key})},r.prototype.has=function(i){return e.has(this._keyIndices,i)},r.prototype.priority=function(i){var a=this._keyIndices[i];if(a!==void 0)return this._arr[a].priority},r.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(i,a){var n=this._keyIndices;if(i=String(i),!e.has(n,i)){var d=this._arr,f=d.length;return n[i]=f,d.push({key:i,priority:a}),this._decrease(f),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var i=this._arr.pop();return delete this._keyIndices[i.key],this._heapify(0),i.key},r.prototype.decrease=function(i,a){var n=this._keyIndices[i];if(a>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+i+" Old: "+this._arr[n].priority+" New: "+a);this._arr[n].priority=a,this._decrease(n)},r.prototype._heapify=function(i){var a=this._arr,n=2*i,d=n+1,f=i;n<a.length&&(f=a[n].priority<a[f].priority?n:f,d<a.length&&(f=a[d].priority<a[f].priority?d:f),f!==i&&(this._swap(i,f),this._heapify(f)))},r.prototype._decrease=function(i){for(var a=this._arr,n=a[i].priority,d;i!==0&&(d=i>>1,!(a[d].priority<n));)this._swap(i,d),i=d},r.prototype._swap=function(i,a){var n=this._arr,d=this._keyIndices,f=n[i],t=n[a];n[i]=t,n[a]=f,d[t.key]=i,d[f.key]=a},De}var Ve,Kn;function ra(){if(Kn)return Ve;Kn=1;var e=H(),r=ea();Ve=a;var i=e.constant(1);function a(d,f,t,s){return n(d,String(f),t||i,s||function(u){return d.outEdges(u)})}function n(d,f,t,s){var u={},o=new r,c,h,l=function(w){var g=w.v!==c?w.v:w.w,v=u[g],b=t(w),m=h.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+b);m<v.distance&&(v.distance=m,v.predecessor=c,o.decrease(g,m))};for(d.nodes().forEach(function(w){var g=w===f?0:Number.POSITIVE_INFINITY;u[w]={distance:g},o.add(w,g)});o.size()>0&&(c=o.removeMin(),h=u[c],h.distance!==Number.POSITIVE_INFINITY);)s(c).forEach(l);return u}return Ve}var ze,Zn;function Bo(){if(Zn)return ze;Zn=1;var e=ra(),r=H();ze=i;function i(a,n,d){return r.transform(a.nodes(),function(f,t){f[t]=e(a,t,n,d)},{})}return ze}var Ue,Qn;function na(){if(Qn)return Ue;Qn=1;var e=H();Ue=r;function r(i){var a=0,n=[],d={},f=[];function t(s){var u=d[s]={onStack:!0,lowlink:a,index:a++};if(n.push(s),i.successors(s).forEach(function(h){e.has(d,h)?d[h].onStack&&(u.lowlink=Math.min(u.lowlink,d[h].index)):(t(h),u.lowlink=Math.min(u.lowlink,d[h].lowlink))}),u.lowlink===u.index){var o=[],c;do c=n.pop(),d[c].onStack=!1,o.push(c);while(s!==c);f.push(o)}}return i.nodes().forEach(function(s){e.has(d,s)||t(s)}),f}return Ue}var Ye,Jn;function Do(){if(Jn)return Ye;Jn=1;var e=H(),r=na();Ye=i;function i(a){return e.filter(r(a),function(n){return n.length>1||n.length===1&&a.hasEdge(n[0],n[0])})}return Ye}var He,et;function Vo(){if(et)return He;et=1;var e=H();He=i;var r=e.constant(1);function i(n,d,f){return a(n,d||r,f||function(t){return n.outEdges(t)})}function a(n,d,f){var t={},s=n.nodes();return s.forEach(function(u){t[u]={},t[u][u]={distance:0},s.forEach(function(o){u!==o&&(t[u][o]={distance:Number.POSITIVE_INFINITY})}),f(u).forEach(function(o){var c=o.v===u?o.w:o.v,h=d(o);t[u][c]={distance:h,predecessor:u}})}),s.forEach(function(u){var o=t[u];s.forEach(function(c){var h=t[c];s.forEach(function(l){var w=h[u],g=o[l],v=h[l],b=w.distance+g.distance;b<v.distance&&(v.distance=b,v.predecessor=g.predecessor)})})}),t}return He}var We,rt;function ta(){if(rt)return We;rt=1;var e=H();We=r,r.CycleException=i;function r(a){var n={},d={},f=[];function t(s){if(e.has(d,s))throw new i;e.has(n,s)||(d[s]=!0,n[s]=!0,e.each(a.predecessors(s),t),delete d[s],f.push(s))}if(e.each(a.sinks(),t),e.size(n)!==a.nodeCount())throw new i;return f}function i(){}return i.prototype=new Error,We}var Xe,nt;function zo(){if(nt)return Xe;nt=1;var e=ta();Xe=r;function r(i){try{e(i)}catch(a){if(a instanceof e.CycleException)return!1;throw a}return!0}return Xe}var Ke,tt;function ia(){if(tt)return Ke;tt=1;var e=H();Ke=r;function r(a,n,d){e.isArray(n)||(n=[n]);var f=(a.isDirected()?a.successors:a.neighbors).bind(a),t=[],s={};return e.each(n,function(u){if(!a.hasNode(u))throw new Error("Graph does not have node: "+u);i(a,u,d==="post",s,f,t)}),t}function i(a,n,d,f,t,s){e.has(f,n)||(f[n]=!0,d||s.push(n),e.each(t(n),function(u){i(a,u,d,f,t,s)}),d&&s.push(n))}return Ke}var Ze,it;function Uo(){if(it)return Ze;it=1;var e=ia();Ze=r;function r(i,a){return e(i,a,"post")}return Ze}var Qe,at;function Yo(){if(at)return Qe;at=1;var e=ia();Qe=r;function r(i,a){return e(i,a,"pre")}return Qe}var Je,ot;function Ho(){if(ot)return Je;ot=1;var e=H(),r=xn(),i=ea();Je=a;function a(n,d){var f=new r,t={},s=new i,u;function o(h){var l=h.v===u?h.w:h.v,w=s.priority(l);if(w!==void 0){var g=d(h);g<w&&(t[l]=u,s.decrease(l,g))}}if(n.nodeCount()===0)return f;e.each(n.nodes(),function(h){s.add(h,Number.POSITIVE_INFINITY),f.setNode(h)}),s.decrease(n.nodes()[0],0);for(var c=!1;s.size()>0;){if(u=s.removeMin(),e.has(t,u))f.setEdge(u,t[u]);else{if(c)throw new Error("Input graph is not connected: "+n);c=!0}n.nodeEdges(u).forEach(o)}return f}return Je}var er,ut;function Wo(){return ut||(ut=1,er={components:Go(),dijkstra:ra(),dijkstraAll:Bo(),findCycles:Do(),floydWarshall:Vo(),isAcyclic:zo(),postorder:Uo(),preorder:Yo(),prim:Ho(),tarjan:na(),topsort:ta()}),er}var rr,st;function Xo(){if(st)return rr;st=1;var e=jo();return rr={Graph:e.Graph,json:$o(),alg:Wo(),version:e.version},rr}var nr,ft;function K(){if(ft)return nr;ft=1;var e;if(typeof _n=="function")try{e=Xo()}catch{}return e||(e=window.graphlib),nr=e,nr}var tr,dt;function Ko(){if(dt)return tr;dt=1;var e=Va(),r=1,i=4;function a(n){return e(n,r|i)}return tr=a,tr}var ir,ct;function Zo(){if(ct)return ir;ct=1;var e=Wi(),r=za(),i=yn();function a(n,d){return n==null?n:e(n,r(d),i)}return ir=a,ir}var ar,ht;function Qo(){if(ht)return ar;ht=1;var e=Xi(),r=Oi(),i=qe();function a(n,d){var f={};return d=i(d,3),r(n,function(t,s,u){e(f,s,d(t,s,u))}),f}return ar=a,ar}var or,lt;function En(){if(lt)return or;lt=1;var e=Ki();function r(i,a,n){for(var d=-1,f=i.length;++d<f;){var t=i[d],s=a(t);if(s!=null&&(u===void 0?s===s&&!e(s):n(s,u)))var u=s,o=t}return o}return or=r,or}var ur,vt;function Jo(){if(vt)return ur;vt=1;function e(r,i){return r>i}return ur=e,ur}var sr,pt;function eu(){if(pt)return sr;pt=1;var e=En(),r=Jo(),i=wn();function a(n){return n&&n.length?e(n,i,r):void 0}return sr=a,sr}var fr,mt;function aa(){if(mt)return fr;mt=1;var e=Xi(),r=Ua();function i(a,n,d){(d!==void 0&&!r(a[n],d)||d===void 0&&!(n in a))&&e(a,n,d)}return fr=i,fr}var dr,gt;function ru(){if(gt)return dr;gt=1;var e=Ya(),r=Ai(),i=Ha(),a="[object Object]",n=Function.prototype,d=Object.prototype,f=n.toString,t=d.hasOwnProperty,s=f.call(Object);function u(o){if(!i(o)||e(o)!=a)return!1;var c=r(o);if(c===null)return!0;var h=t.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&f.call(h)==s}return dr=u,dr}var cr,bt;function oa(){if(bt)return cr;bt=1;function e(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}return cr=e,cr}var hr,yt;function nu(){if(yt)return hr;yt=1;var e=Wa(),r=yn();function i(a){return e(a,r(a))}return hr=i,hr}var lr,wt;function tu(){if(wt)return lr;wt=1;var e=aa(),r=Xa(),i=Ka(),a=Za(),n=Qa(),d=Ja(),f=Re(),t=Gi(),s=Ti(),u=gn(),o=bn(),c=ru(),h=Fi(),l=oa(),w=nu();function g(v,b,m,p,_,y,k){var q=l(v,m),S=l(b,m),C=k.get(S);if(C){e(v,m,C);return}var M=y?y(q,S,m+"",v,b,k):void 0,N=M===void 0;if(N){var I=f(S),P=!I&&s(S),O=!I&&!P&&h(S);M=S,I||P||O?f(q)?M=q:t(q)?M=a(q):P?(N=!1,M=r(S,!0)):O?(N=!1,M=i(S,!0)):M=[]:c(S)||d(S)?(M=q,d(q)?M=w(q):(!o(q)||u(q))&&(M=n(S))):N=!1}N&&(k.set(S,M),_(M,S,p,y,k),k.delete(S)),e(v,m,M)}return lr=g,lr}var vr,_t;function iu(){if(_t)return vr;_t=1;var e=eo(),r=aa(),i=Wi(),a=tu(),n=bn(),d=yn(),f=oa();function t(s,u,o,c,h){s!==u&&i(u,function(l,w){if(h||(h=new e),n(l))a(s,u,w,o,t,c,h);else{var g=c?c(f(s,w),l,w+"",s,u,h):void 0;g===void 0&&(g=l),r(s,w,g)}},d)}return vr=t,vr}var pr,xt;function au(){if(xt)return pr;xt=1;var e=iu(),r=ro(),i=r(function(a,n,d){e(a,n,d)});return pr=i,pr}var mr,Et;function ua(){if(Et)return mr;Et=1;function e(r,i){return r<i}return mr=e,mr}var gr,kt;function ou(){if(kt)return gr;kt=1;var e=En(),r=ua(),i=wn();function a(n){return n&&n.length?e(n,i,r):void 0}return gr=a,gr}var br,qt;function uu(){if(qt)return br;qt=1;var e=En(),r=qe(),i=ua();function a(n,d){return n&&n.length?e(n,r(d,2),i):void 0}return br=a,br}var yr,Rt;function su(){if(Rt)return yr;Rt=1;var e=no(),r=function(){return e.Date.now()};return yr=r,yr}var wr,Nt;function fu(){if(Nt)return wr;Nt=1;var e=to(),r=io();function i(a,n){return e(a,n,function(d,f){return r(a,f)})}return wr=i,wr}var _r,Mt;function du(){if(Mt)return _r;Mt=1;var e=Zi(),r=ao(),i=oo();function a(n){return i(r(n,void 0,e),n+"")}return _r=a,_r}var xr,St;function cu(){if(St)return xr;St=1;var e=fu(),r=du(),i=r(function(a,n){return a==null?{}:e(a,n)});return xr=i,xr}var Er,Ct;function hu(){if(Ct)return Er;Ct=1;var e=Math.ceil,r=Math.max;function i(a,n,d,f){for(var t=-1,s=r(e((n-a)/(d||1)),0),u=Array(s);s--;)u[f?s:++t]=a,a+=d;return u}return Er=i,Er}var kr,Lt;function lu(){if(Lt)return kr;Lt=1;var e=hu(),r=Qi(),i=uo();function a(n){return function(d,f,t){return t&&typeof t!="number"&&r(d,f,t)&&(f=t=void 0),d=i(d),f===void 0?(f=d,d=0):f=i(f),t=t===void 0?d<f?1:-1:i(t),e(d,f,t,n)}}return kr=a,kr}var qr,It;function vu(){if(It)return qr;It=1;var e=lu(),r=e();return qr=r,qr}var Rr,Pt;function pu(){if(Pt)return Rr;Pt=1;function e(r,i){var a=r.length;for(r.sort(i);a--;)r[a]=r[a].value;return r}return Rr=e,Rr}var Nr,Ot;function mu(){if(Ot)return Nr;Ot=1;var e=Ki();function r(i,a){if(i!==a){var n=i!==void 0,d=i===null,f=i===i,t=e(i),s=a!==void 0,u=a===null,o=a===a,c=e(a);if(!u&&!c&&!t&&i>a||t&&s&&o&&!u&&!c||d&&s&&o||!n&&o||!f)return 1;if(!d&&!t&&!c&&i<a||c&&n&&f&&!d&&!t||u&&n&&f||!s&&f||!o)return-1}return 0}return Nr=r,Nr}var Mr,At;function gu(){if(At)return Mr;At=1;var e=mu();function r(i,a,n){for(var d=-1,f=i.criteria,t=a.criteria,s=f.length,u=n.length;++d<s;){var o=e(f[d],t[d]);if(o){if(d>=u)return o;var c=n[d];return o*(c=="desc"?-1:1)}}return i.index-a.index}return Mr=r,Mr}var Sr,Tt;function bu(){if(Tt)return Sr;Tt=1;var e=so(),r=fo(),i=qe(),a=co(),n=pu(),d=ho(),f=gu(),t=wn(),s=Re();function u(o,c,h){c.length?c=e(c,function(g){return s(g)?function(v){return r(v,g.length===1?g[0]:g)}:g}):c=[t];var l=-1;c=e(c,d(i));var w=a(o,function(g,v,b){var m=e(c,function(p){return p(g)});return{criteria:m,index:++l,value:g}});return n(w,function(g,v){return f(g,v,h)})}return Sr=u,Sr}var Cr,Ft;function yu(){if(Ft)return Cr;Ft=1;var e=ji(),r=bu(),i=$i(),a=Qi(),n=i(function(d,f){if(d==null)return[];var t=f.length;return t>1&&a(d,f[0],f[1])?f=[]:t>2&&a(f[0],f[1],f[2])&&(f=[f[0]]),r(d,e(f,1),[])});return Cr=n,Cr}var Lr,jt;function wu(){if(jt)return Lr;jt=1;var e=lo(),r=0;function i(a){var n=++r;return e(a)+n}return Lr=i,Lr}var Ir,$t;function _u(){if($t)return Ir;$t=1;function e(r,i,a){for(var n=-1,d=r.length,f=i.length,t={};++n<d;){var s=n<f?i[n]:void 0;a(t,r[n],s)}return t}return Ir=e,Ir}var Pr,Gt;function xu(){if(Gt)return Pr;Gt=1;var e=vo(),r=_u();function i(a,n){return r(a||[],n||[],e)}return Pr=i,Pr}var Or,Bt;function F(){if(Bt)return Or;Bt=1;var e;if(typeof _n=="function")try{e={cloneDeep:Ko(),constant:Hi(),defaults:go(),each:Ji(),filter:Yi(),find:mo(),flatten:Zi(),forEach:Pi(),forIn:Zo(),has:Ui(),isUndefined:zi(),last:po(),map:Vi(),mapValues:Qo(),max:eu(),merge:au(),min:ou(),minBy:uu(),now:su(),pick:cu(),range:vu(),reduce:Di(),sortBy:yu(),uniqueId:wu(),values:Bi(),zipObject:xu()}}catch{}return e||(e=window._),Or=e,Or}var Ar,Dt;function Eu(){if(Dt)return Ar;Dt=1,Ar=e;function e(){var a={};a._next=a._prev=a,this._sentinel=a}e.prototype.dequeue=function(){var a=this._sentinel,n=a._prev;if(n!==a)return r(n),n},e.prototype.enqueue=function(a){var n=this._sentinel;a._prev&&a._next&&r(a),a._next=n._next,n._next._prev=a,n._next=a,a._prev=n},e.prototype.toString=function(){for(var a=[],n=this._sentinel,d=n._prev;d!==n;)a.push(JSON.stringify(d,i)),d=d._prev;return"["+a.join(", ")+"]"};function r(a){a._prev._next=a._next,a._next._prev=a._prev,delete a._next,delete a._prev}function i(a,n){if(a!=="_next"&&a!=="_prev")return n}return Ar}var Tr,Vt;function ku(){if(Vt)return Tr;Vt=1;var e=F(),r=K().Graph,i=Eu();Tr=n;var a=e.constant(1);function n(u,o){if(u.nodeCount()<=1)return[];var c=t(u,o||a),h=d(c.graph,c.buckets,c.zeroIdx);return e.flatten(e.map(h,function(l){return u.outEdges(l.v,l.w)}),!0)}function d(u,o,c){for(var h=[],l=o[o.length-1],w=o[0],g;u.nodeCount();){for(;g=w.dequeue();)f(u,o,c,g);for(;g=l.dequeue();)f(u,o,c,g);if(u.nodeCount()){for(var v=o.length-2;v>0;--v)if(g=o[v].dequeue(),g){h=h.concat(f(u,o,c,g,!0));break}}}return h}function f(u,o,c,h,l){var w=l?[]:void 0;return e.forEach(u.inEdges(h.v),function(g){var v=u.edge(g),b=u.node(g.v);l&&w.push({v:g.v,w:g.w}),b.out-=v,s(o,c,b)}),e.forEach(u.outEdges(h.v),function(g){var v=u.edge(g),b=g.w,m=u.node(b);m.in-=v,s(o,c,m)}),u.removeNode(h.v),w}function t(u,o){var c=new r,h=0,l=0;e.forEach(u.nodes(),function(v){c.setNode(v,{v,in:0,out:0})}),e.forEach(u.edges(),function(v){var b=c.edge(v.v,v.w)||0,m=o(v),p=b+m;c.setEdge(v.v,v.w,p),l=Math.max(l,c.node(v.v).out+=m),h=Math.max(h,c.node(v.w).in+=m)});var w=e.range(l+h+3).map(function(){return new i}),g=h+1;return e.forEach(c.nodes(),function(v){s(w,g,c.node(v))}),{graph:c,buckets:w,zeroIdx:g}}function s(u,o,c){c.out?c.in?u[c.out-c.in+o].enqueue(c):u[u.length-1].enqueue(c):u[0].enqueue(c)}return Tr}var Fr,zt;function qu(){if(zt)return Fr;zt=1;var e=F(),r=ku();Fr={run:i,undo:n};function i(d){var f=d.graph().acyclicer==="greedy"?r(d,t(d)):a(d);e.forEach(f,function(s){var u=d.edge(s);d.removeEdge(s),u.forwardName=s.name,u.reversed=!0,d.setEdge(s.w,s.v,u,e.uniqueId("rev"))});function t(s){return function(u){return s.edge(u).weight}}}function a(d){var f=[],t={},s={};function u(o){e.has(s,o)||(s[o]=!0,t[o]=!0,e.forEach(d.outEdges(o),function(c){e.has(t,c.w)?f.push(c):u(c.w)}),delete t[o])}return e.forEach(d.nodes(),u),f}function n(d){e.forEach(d.edges(),function(f){var t=d.edge(f);if(t.reversed){d.removeEdge(f);var s=t.forwardName;delete t.reversed,delete t.forwardName,d.setEdge(f.w,f.v,t,s)}})}return Fr}var jr,Ut;function z(){if(Ut)return jr;Ut=1;var e=F(),r=K().Graph;jr={addDummyNode:i,simplify:a,asNonCompoundGraph:n,successorWeights:d,predecessorWeights:f,intersectRect:t,buildLayerMatrix:s,normalizeRanks:u,removeEmptyRanks:o,addBorderNode:c,maxRank:h,partition:l,time:w,notime:g};function i(v,b,m,p){var _;do _=e.uniqueId(p);while(v.hasNode(_));return m.dummy=b,v.setNode(_,m),_}function a(v){var b=new r().setGraph(v.graph());return e.forEach(v.nodes(),function(m){b.setNode(m,v.node(m))}),e.forEach(v.edges(),function(m){var p=b.edge(m.v,m.w)||{weight:0,minlen:1},_=v.edge(m);b.setEdge(m.v,m.w,{weight:p.weight+_.weight,minlen:Math.max(p.minlen,_.minlen)})}),b}function n(v){var b=new r({multigraph:v.isMultigraph()}).setGraph(v.graph());return e.forEach(v.nodes(),function(m){v.children(m).length||b.setNode(m,v.node(m))}),e.forEach(v.edges(),function(m){b.setEdge(m,v.edge(m))}),b}function d(v){var b=e.map(v.nodes(),function(m){var p={};return e.forEach(v.outEdges(m),function(_){p[_.w]=(p[_.w]||0)+v.edge(_).weight}),p});return e.zipObject(v.nodes(),b)}function f(v){var b=e.map(v.nodes(),function(m){var p={};return e.forEach(v.inEdges(m),function(_){p[_.v]=(p[_.v]||0)+v.edge(_).weight}),p});return e.zipObject(v.nodes(),b)}function t(v,b){var m=v.x,p=v.y,_=b.x-m,y=b.y-p,k=v.width/2,q=v.height/2;if(!_&&!y)throw new Error("Not possible to find intersection inside of the rectangle");var S,C;return Math.abs(y)*k>Math.abs(_)*q?(y<0&&(q=-q),S=q*_/y,C=q):(_<0&&(k=-k),S=k,C=k*y/_),{x:m+S,y:p+C}}function s(v){var b=e.map(e.range(h(v)+1),function(){return[]});return e.forEach(v.nodes(),function(m){var p=v.node(m),_=p.rank;e.isUndefined(_)||(b[_][p.order]=m)}),b}function u(v){var b=e.min(e.map(v.nodes(),function(m){return v.node(m).rank}));e.forEach(v.nodes(),function(m){var p=v.node(m);e.has(p,"rank")&&(p.rank-=b)})}function o(v){var b=e.min(e.map(v.nodes(),function(y){return v.node(y).rank})),m=[];e.forEach(v.nodes(),function(y){var k=v.node(y).rank-b;m[k]||(m[k]=[]),m[k].push(y)});var p=0,_=v.graph().nodeRankFactor;e.forEach(m,function(y,k){e.isUndefined(y)&&k%_!==0?--p:p&&e.forEach(y,function(q){v.node(q).rank+=p})})}function c(v,b,m,p){var _={width:0,height:0};return arguments.length>=4&&(_.rank=m,_.order=p),i(v,"border",_,b)}function h(v){return e.max(e.map(v.nodes(),function(b){var m=v.node(b).rank;if(!e.isUndefined(m))return m}))}function l(v,b){var m={lhs:[],rhs:[]};return e.forEach(v,function(p){b(p)?m.lhs.push(p):m.rhs.push(p)}),m}function w(v,b){var m=e.now();try{return b()}finally{console.log(v+" time: "+(e.now()-m)+"ms")}}function g(v,b){return b()}return jr}var $r,Yt;function Ru(){if(Yt)return $r;Yt=1;var e=F(),r=z();$r={run:i,undo:n};function i(d){d.graph().dummyChains=[],e.forEach(d.edges(),function(f){a(d,f)})}function a(d,f){var t=f.v,s=d.node(t).rank,u=f.w,o=d.node(u).rank,c=f.name,h=d.edge(f),l=h.labelRank;if(o!==s+1){d.removeEdge(f);var w,g,v;for(v=0,++s;s<o;++v,++s)h.points=[],g={width:0,height:0,edgeLabel:h,edgeObj:f,rank:s},w=r.addDummyNode(d,"edge",g,"_d"),s===l&&(g.width=h.width,g.height=h.height,g.dummy="edge-label",g.labelpos=h.labelpos),d.setEdge(t,w,{weight:h.weight},c),v===0&&d.graph().dummyChains.push(w),t=w;d.setEdge(t,u,{weight:h.weight},c)}}function n(d){e.forEach(d.graph().dummyChains,function(f){var t=d.node(f),s=t.edgeLabel,u;for(d.setEdge(t.edgeObj,s);t.dummy;)u=d.successors(f)[0],d.removeNode(f),s.points.push({x:t.x,y:t.y}),t.dummy==="edge-label"&&(s.x=t.x,s.y=t.y,s.width=t.width,s.height=t.height),f=u,t=d.node(f)})}return $r}var Gr,Ht;function be(){if(Ht)return Gr;Ht=1;var e=F();Gr={longestPath:r,slack:i};function r(a){var n={};function d(f){var t=a.node(f);if(e.has(n,f))return t.rank;n[f]=!0;var s=e.min(e.map(a.outEdges(f),function(u){return d(u.w)-a.edge(u).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),t.rank=s}e.forEach(a.sources(),d)}function i(a,n){return a.node(n.w).rank-a.node(n.v).rank-a.edge(n).minlen}return Gr}var Br,Wt;function sa(){if(Wt)return Br;Wt=1;var e=F(),r=K().Graph,i=be().slack;Br=a;function a(t){var s=new r({directed:!1}),u=t.nodes()[0],o=t.nodeCount();s.setNode(u,{});for(var c,h;n(s,t)<o;)c=d(s,t),h=s.hasNode(c.v)?i(t,c):-i(t,c),f(s,t,h);return s}function n(t,s){function u(o){e.forEach(s.nodeEdges(o),function(c){var h=c.v,l=o===h?c.w:h;!t.hasNode(l)&&!i(s,c)&&(t.setNode(l,{}),t.setEdge(o,l,{}),u(l))})}return e.forEach(t.nodes(),u),t.nodeCount()}function d(t,s){return e.minBy(s.edges(),function(u){if(t.hasNode(u.v)!==t.hasNode(u.w))return i(s,u)})}function f(t,s,u){e.forEach(t.nodes(),function(o){s.node(o).rank+=u})}return Br}var Dr,Xt;function Nu(){if(Xt)return Dr;Xt=1;var e=F(),r=sa(),i=be().slack,a=be().longestPath,n=K().alg.preorder,d=K().alg.postorder,f=z().simplify;Dr=t,t.initLowLimValues=c,t.initCutValues=s,t.calcCutValue=o,t.leaveEdge=l,t.enterEdge=w,t.exchangeEdges=g;function t(p){p=f(p),a(p);var _=r(p);c(_),s(_,p);for(var y,k;y=l(_);)k=w(_,p,y),g(_,p,y,k)}function s(p,_){var y=d(p,p.nodes());y=y.slice(0,y.length-1),e.forEach(y,function(k){u(p,_,k)})}function u(p,_,y){var k=p.node(y),q=k.parent;p.edge(y,q).cutvalue=o(p,_,y)}function o(p,_,y){var k=p.node(y),q=k.parent,S=!0,C=_.edge(y,q),M=0;return C||(S=!1,C=_.edge(q,y)),M=C.weight,e.forEach(_.nodeEdges(y),function(N){var I=N.v===y,P=I?N.w:N.v;if(P!==q){var O=I===S,T=_.edge(N).weight;if(M+=O?T:-T,b(p,y,P)){var $=p.edge(y,P).cutvalue;M+=O?-$:$}}}),M}function c(p,_){arguments.length<2&&(_=p.nodes()[0]),h(p,{},1,_)}function h(p,_,y,k,q){var S=y,C=p.node(k);return _[k]=!0,e.forEach(p.neighbors(k),function(M){e.has(_,M)||(y=h(p,_,y,M,k))}),C.low=S,C.lim=y++,q?C.parent=q:delete C.parent,y}function l(p){return e.find(p.edges(),function(_){return p.edge(_).cutvalue<0})}function w(p,_,y){var k=y.v,q=y.w;_.hasEdge(k,q)||(k=y.w,q=y.v);var S=p.node(k),C=p.node(q),M=S,N=!1;S.lim>C.lim&&(M=C,N=!0);var I=e.filter(_.edges(),function(P){return N===m(p,p.node(P.v),M)&&N!==m(p,p.node(P.w),M)});return e.minBy(I,function(P){return i(_,P)})}function g(p,_,y,k){var q=y.v,S=y.w;p.removeEdge(q,S),p.setEdge(k.v,k.w,{}),c(p),s(p,_),v(p,_)}function v(p,_){var y=e.find(p.nodes(),function(q){return!_.node(q).parent}),k=n(p,y);k=k.slice(1),e.forEach(k,function(q){var S=p.node(q).parent,C=_.edge(q,S),M=!1;C||(C=_.edge(S,q),M=!0),_.node(q).rank=_.node(S).rank+(M?C.minlen:-C.minlen)})}function b(p,_,y){return p.hasEdge(_,y)}function m(p,_,y){return y.low<=_.lim&&_.lim<=y.lim}return Dr}var Vr,Kt;function Mu(){if(Kt)return Vr;Kt=1;var e=be(),r=e.longestPath,i=sa(),a=Nu();Vr=n;function n(s){switch(s.graph().ranker){case"network-simplex":t(s);break;case"tight-tree":f(s);break;case"longest-path":d(s);break;default:t(s)}}var d=r;function f(s){r(s),i(s)}function t(s){a(s)}return Vr}var zr,Zt;function Su(){if(Zt)return zr;Zt=1;var e=F();zr=r;function r(n){var d=a(n);e.forEach(n.graph().dummyChains,function(f){for(var t=n.node(f),s=t.edgeObj,u=i(n,d,s.v,s.w),o=u.path,c=u.lca,h=0,l=o[h],w=!0;f!==s.w;){if(t=n.node(f),w){for(;(l=o[h])!==c&&n.node(l).maxRank<t.rank;)h++;l===c&&(w=!1)}if(!w){for(;h<o.length-1&&n.node(l=o[h+1]).minRank<=t.rank;)h++;l=o[h]}n.setParent(f,l),f=n.successors(f)[0]}})}function i(n,d,f,t){var s=[],u=[],o=Math.min(d[f].low,d[t].low),c=Math.max(d[f].lim,d[t].lim),h,l;h=f;do h=n.parent(h),s.push(h);while(h&&(d[h].low>o||c>d[h].lim));for(l=h,h=t;(h=n.parent(h))!==l;)u.push(h);return{path:s.concat(u.reverse()),lca:l}}function a(n){var d={},f=0;function t(s){var u=f;e.forEach(n.children(s),t),d[s]={low:u,lim:f++}}return e.forEach(n.children(),t),d}return zr}var Ur,Qt;function Cu(){if(Qt)return Ur;Qt=1;var e=F(),r=z();Ur={run:i,cleanup:f};function i(t){var s=r.addDummyNode(t,"root",{},"_root"),u=n(t),o=e.max(e.values(u))-1,c=2*o+1;t.graph().nestingRoot=s,e.forEach(t.edges(),function(l){t.edge(l).minlen*=c});var h=d(t)+1;e.forEach(t.children(),function(l){a(t,s,c,h,o,u,l)}),t.graph().nodeRankFactor=c}function a(t,s,u,o,c,h,l){var w=t.children(l);if(!w.length){l!==s&&t.setEdge(s,l,{weight:0,minlen:u});return}var g=r.addBorderNode(t,"_bt"),v=r.addBorderNode(t,"_bb"),b=t.node(l);t.setParent(g,l),b.borderTop=g,t.setParent(v,l),b.borderBottom=v,e.forEach(w,function(m){a(t,s,u,o,c,h,m);var p=t.node(m),_=p.borderTop?p.borderTop:m,y=p.borderBottom?p.borderBottom:m,k=p.borderTop?o:2*o,q=_!==y?1:c-h[l]+1;t.setEdge(g,_,{weight:k,minlen:q,nestingEdge:!0}),t.setEdge(y,v,{weight:k,minlen:q,nestingEdge:!0})}),t.parent(l)||t.setEdge(s,g,{weight:0,minlen:c+h[l]})}function n(t){var s={};function u(o,c){var h=t.children(o);h&&h.length&&e.forEach(h,function(l){u(l,c+1)}),s[o]=c}return e.forEach(t.children(),function(o){u(o,1)}),s}function d(t){return e.reduce(t.edges(),function(s,u){return s+t.edge(u).weight},0)}function f(t){var s=t.graph();t.removeNode(s.nestingRoot),delete s.nestingRoot,e.forEach(t.edges(),function(u){var o=t.edge(u);o.nestingEdge&&t.removeEdge(u)})}return Ur}var Yr,Jt;function Lu(){if(Jt)return Yr;Jt=1;var e=F(),r=z();Yr=i;function i(n){function d(f){var t=n.children(f),s=n.node(f);if(t.length&&e.forEach(t,d),e.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var u=s.minRank,o=s.maxRank+1;u<o;++u)a(n,"borderLeft","_bl",f,s,u),a(n,"borderRight","_br",f,s,u)}}e.forEach(n.children(),d)}function a(n,d,f,t,s,u){var o={width:0,height:0,rank:u,borderType:d},c=s[d][u-1],h=r.addDummyNode(n,"border",o,f);s[d][u]=h,n.setParent(h,t),c&&n.setEdge(c,h,{weight:1})}return Yr}var Hr,ei;function Iu(){if(ei)return Hr;ei=1;var e=F();Hr={adjust:r,undo:i};function r(u){var o=u.graph().rankdir.toLowerCase();(o==="lr"||o==="rl")&&a(u)}function i(u){var o=u.graph().rankdir.toLowerCase();(o==="bt"||o==="rl")&&d(u),(o==="lr"||o==="rl")&&(t(u),a(u))}function a(u){e.forEach(u.nodes(),function(o){n(u.node(o))}),e.forEach(u.edges(),function(o){n(u.edge(o))})}function n(u){var o=u.width;u.width=u.height,u.height=o}function d(u){e.forEach(u.nodes(),function(o){f(u.node(o))}),e.forEach(u.edges(),function(o){var c=u.edge(o);e.forEach(c.points,f),e.has(c,"y")&&f(c)})}function f(u){u.y=-u.y}function t(u){e.forEach(u.nodes(),function(o){s(u.node(o))}),e.forEach(u.edges(),function(o){var c=u.edge(o);e.forEach(c.points,s),e.has(c,"x")&&s(c)})}function s(u){var o=u.x;u.x=u.y,u.y=o}return Hr}var Wr,ri;function Pu(){if(ri)return Wr;ri=1;var e=F();Wr=r;function r(i){var a={},n=e.filter(i.nodes(),function(u){return!i.children(u).length}),d=e.max(e.map(n,function(u){return i.node(u).rank})),f=e.map(e.range(d+1),function(){return[]});function t(u){if(!e.has(a,u)){a[u]=!0;var o=i.node(u);f[o.rank].push(u),e.forEach(i.successors(u),t)}}var s=e.sortBy(n,function(u){return i.node(u).rank});return e.forEach(s,t),f}return Wr}var Xr,ni;function Ou(){if(ni)return Xr;ni=1;var e=F();Xr=r;function r(a,n){for(var d=0,f=1;f<n.length;++f)d+=i(a,n[f-1],n[f]);return d}function i(a,n,d){for(var f=e.zipObject(d,e.map(d,function(h,l){return l})),t=e.flatten(e.map(n,function(h){return e.sortBy(e.map(a.outEdges(h),function(l){return{pos:f[l.w],weight:a.edge(l).weight}}),"pos")}),!0),s=1;s<d.length;)s<<=1;var u=2*s-1;s-=1;var o=e.map(new Array(u),function(){return 0}),c=0;return e.forEach(t.forEach(function(h){var l=h.pos+s;o[l]+=h.weight;for(var w=0;l>0;)l%2&&(w+=o[l+1]),l=l-1>>1,o[l]+=h.weight;c+=h.weight*w})),c}return Xr}var Kr,ti;function Au(){if(ti)return Kr;ti=1;var e=F();Kr=r;function r(i,a){return e.map(a,function(n){var d=i.inEdges(n);if(d.length){var f=e.reduce(d,function(t,s){var u=i.edge(s),o=i.node(s.v);return{sum:t.sum+u.weight*o.order,weight:t.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:f.sum/f.weight,weight:f.weight}}else return{v:n}})}return Kr}var Zr,ii;function Tu(){if(ii)return Zr;ii=1;var e=F();Zr=r;function r(n,d){var f={};e.forEach(n,function(s,u){var o=f[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:u};e.isUndefined(s.barycenter)||(o.barycenter=s.barycenter,o.weight=s.weight)}),e.forEach(d.edges(),function(s){var u=f[s.v],o=f[s.w];!e.isUndefined(u)&&!e.isUndefined(o)&&(o.indegree++,u.out.push(f[s.w]))});var t=e.filter(f,function(s){return!s.indegree});return i(t)}function i(n){var d=[];function f(u){return function(o){o.merged||(e.isUndefined(o.barycenter)||e.isUndefined(u.barycenter)||o.barycenter>=u.barycenter)&&a(u,o)}}function t(u){return function(o){o.in.push(u),--o.indegree===0&&n.push(o)}}for(;n.length;){var s=n.pop();d.push(s),e.forEach(s.in.reverse(),f(s)),e.forEach(s.out,t(s))}return e.map(e.filter(d,function(u){return!u.merged}),function(u){return e.pick(u,["vs","i","barycenter","weight"])})}function a(n,d){var f=0,t=0;n.weight&&(f+=n.barycenter*n.weight,t+=n.weight),d.weight&&(f+=d.barycenter*d.weight,t+=d.weight),n.vs=d.vs.concat(n.vs),n.barycenter=f/t,n.weight=t,n.i=Math.min(d.i,n.i),d.merged=!0}return Zr}var Qr,ai;function Fu(){if(ai)return Qr;ai=1;var e=F(),r=z();Qr=i;function i(d,f){var t=r.partition(d,function(g){return e.has(g,"barycenter")}),s=t.lhs,u=e.sortBy(t.rhs,function(g){return-g.i}),o=[],c=0,h=0,l=0;s.sort(n(!!f)),l=a(o,u,l),e.forEach(s,function(g){l+=g.vs.length,o.push(g.vs),c+=g.barycenter*g.weight,h+=g.weight,l=a(o,u,l)});var w={vs:e.flatten(o,!0)};return h&&(w.barycenter=c/h,w.weight=h),w}function a(d,f,t){for(var s;f.length&&(s=e.last(f)).i<=t;)f.pop(),d.push(s.vs),t++;return t}function n(d){return function(f,t){return f.barycenter<t.barycenter?-1:f.barycenter>t.barycenter?1:d?t.i-f.i:f.i-t.i}}return Qr}var Jr,oi;function ju(){if(oi)return Jr;oi=1;var e=F(),r=Au(),i=Tu(),a=Fu();Jr=n;function n(t,s,u,o){var c=t.children(s),h=t.node(s),l=h?h.borderLeft:void 0,w=h?h.borderRight:void 0,g={};l&&(c=e.filter(c,function(y){return y!==l&&y!==w}));var v=r(t,c);e.forEach(v,function(y){if(t.children(y.v).length){var k=n(t,y.v,u,o);g[y.v]=k,e.has(k,"barycenter")&&f(y,k)}});var b=i(v,u);d(b,g);var m=a(b,o);if(l&&(m.vs=e.flatten([l,m.vs,w],!0),t.predecessors(l).length)){var p=t.node(t.predecessors(l)[0]),_=t.node(t.predecessors(w)[0]);e.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+p.order+_.order)/(m.weight+2),m.weight+=2}return m}function d(t,s){e.forEach(t,function(u){u.vs=e.flatten(u.vs.map(function(o){return s[o]?s[o].vs:o}),!0)})}function f(t,s){e.isUndefined(t.barycenter)?(t.barycenter=s.barycenter,t.weight=s.weight):(t.barycenter=(t.barycenter*t.weight+s.barycenter*s.weight)/(t.weight+s.weight),t.weight+=s.weight)}return Jr}var en,ui;function $u(){if(ui)return en;ui=1;var e=F(),r=K().Graph;en=i;function i(n,d,f){var t=a(n),s=new r({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(u){return n.node(u)});return e.forEach(n.nodes(),function(u){var o=n.node(u),c=n.parent(u);(o.rank===d||o.minRank<=d&&d<=o.maxRank)&&(s.setNode(u),s.setParent(u,c||t),e.forEach(n[f](u),function(h){var l=h.v===u?h.w:h.v,w=s.edge(l,u),g=e.isUndefined(w)?0:w.weight;s.setEdge(l,u,{weight:n.edge(h).weight+g})}),e.has(o,"minRank")&&s.setNode(u,{borderLeft:o.borderLeft[d],borderRight:o.borderRight[d]}))}),s}function a(n){for(var d;n.hasNode(d=e.uniqueId("_root")););return d}return en}var rn,si;function Gu(){if(si)return rn;si=1;var e=F();rn=r;function r(i,a,n){var d={},f;e.forEach(n,function(t){for(var s=i.parent(t),u,o;s;){if(u=i.parent(s),u?(o=d[u],d[u]=s):(o=f,f=s),o&&o!==s){a.setEdge(o,s);return}s=u}})}return rn}var nn,fi;function Bu(){if(fi)return nn;fi=1;var e=F(),r=Pu(),i=Ou(),a=ju(),n=$u(),d=Gu(),f=K().Graph,t=z();nn=s;function s(h){var l=t.maxRank(h),w=u(h,e.range(1,l+1),"inEdges"),g=u(h,e.range(l-1,-1,-1),"outEdges"),v=r(h);c(h,v);for(var b=Number.POSITIVE_INFINITY,m,p=0,_=0;_<4;++p,++_){o(p%2?w:g,p%4>=2),v=t.buildLayerMatrix(h);var y=i(h,v);y<b&&(_=0,m=e.cloneDeep(v),b=y)}c(h,m)}function u(h,l,w){return e.map(l,function(g){return n(h,g,w)})}function o(h,l){var w=new f;e.forEach(h,function(g){var v=g.graph().root,b=a(g,v,w,l);e.forEach(b.vs,function(m,p){g.node(m).order=p}),d(g,w,b.vs)})}function c(h,l){e.forEach(l,function(w){e.forEach(w,function(g,v){h.node(g).order=v})})}return nn}var tn,di;function Du(){if(di)return tn;di=1;var e=F(),r=K().Graph,i=z();tn={positionX:w,findType1Conflicts:a,findType2Conflicts:n,addConflict:f,hasConflict:t,verticalAlignment:s,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:c,balance:l};function a(b,m){var p={};function _(y,k){var q=0,S=0,C=y.length,M=e.last(k);return e.forEach(k,function(N,I){var P=d(b,N),O=P?b.node(P).order:C;(P||N===M)&&(e.forEach(k.slice(S,I+1),function(T){e.forEach(b.predecessors(T),function($){var J=b.node($),ee=J.order;(ee<q||O<ee)&&!(J.dummy&&b.node(T).dummy)&&f(p,$,T)})}),S=I+1,q=O)}),k}return e.reduce(m,_),p}function n(b,m){var p={};function _(k,q,S,C,M){var N;e.forEach(e.range(q,S),function(I){N=k[I],b.node(N).dummy&&e.forEach(b.predecessors(N),function(P){var O=b.node(P);O.dummy&&(O.order<C||O.order>M)&&f(p,P,N)})})}function y(k,q){var S=-1,C,M=0;return e.forEach(q,function(N,I){if(b.node(N).dummy==="border"){var P=b.predecessors(N);P.length&&(C=b.node(P[0]).order,_(q,M,I,S,C),M=I,S=C)}_(q,M,q.length,C,k.length)}),q}return e.reduce(m,y),p}function d(b,m){if(b.node(m).dummy)return e.find(b.predecessors(m),function(p){return b.node(p).dummy})}function f(b,m,p){if(m>p){var _=m;m=p,p=_}var y=b[m];y||(b[m]=y={}),y[p]=!0}function t(b,m,p){if(m>p){var _=m;m=p,p=_}return e.has(b[m],p)}function s(b,m,p,_){var y={},k={},q={};return e.forEach(m,function(S){e.forEach(S,function(C,M){y[C]=C,k[C]=C,q[C]=M})}),e.forEach(m,function(S){var C=-1;e.forEach(S,function(M){var N=_(M);if(N.length){N=e.sortBy(N,function($){return q[$]});for(var I=(N.length-1)/2,P=Math.floor(I),O=Math.ceil(I);P<=O;++P){var T=N[P];k[M]===M&&C<q[T]&&!t(p,M,T)&&(k[T]=M,k[M]=y[M]=y[T],C=q[T])}}})}),{root:y,align:k}}function u(b,m,p,_,y){var k={},q=o(b,m,p,y),S=y?"borderLeft":"borderRight";function C(I,P){for(var O=q.nodes(),T=O.pop(),$={};T;)$[T]?I(T):($[T]=!0,O.push(T),O=O.concat(P(T))),T=O.pop()}function M(I){k[I]=q.inEdges(I).reduce(function(P,O){return Math.max(P,k[O.v]+q.edge(O))},0)}function N(I){var P=q.outEdges(I).reduce(function(T,$){return Math.min(T,k[$.w]-q.edge($))},Number.POSITIVE_INFINITY),O=b.node(I);P!==Number.POSITIVE_INFINITY&&O.borderType!==S&&(k[I]=Math.max(k[I],P))}return C(M,q.predecessors.bind(q)),C(N,q.successors.bind(q)),e.forEach(_,function(I){k[I]=k[p[I]]}),k}function o(b,m,p,_){var y=new r,k=b.graph(),q=g(k.nodesep,k.edgesep,_);return e.forEach(m,function(S){var C;e.forEach(S,function(M){var N=p[M];if(y.setNode(N),C){var I=p[C],P=y.edge(I,N);y.setEdge(I,N,Math.max(q(b,M,C),P||0))}C=M})}),y}function c(b,m){return e.minBy(e.values(m),function(p){var _=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY;return e.forIn(p,function(k,q){var S=v(b,q)/2;_=Math.max(k+S,_),y=Math.min(k-S,y)}),_-y})}function h(b,m){var p=e.values(m),_=e.min(p),y=e.max(p);e.forEach(["u","d"],function(k){e.forEach(["l","r"],function(q){var S=k+q,C=b[S],M;if(C!==m){var N=e.values(C);M=q==="l"?_-e.min(N):y-e.max(N),M&&(b[S]=e.mapValues(C,function(I){return I+M}))}})})}function l(b,m){return e.mapValues(b.ul,function(p,_){if(m)return b[m.toLowerCase()][_];var y=e.sortBy(e.map(b,_));return(y[1]+y[2])/2})}function w(b){var m=i.buildLayerMatrix(b),p=e.merge(a(b,m),n(b,m)),_={},y;e.forEach(["u","d"],function(q){y=q==="u"?m:e.values(m).reverse(),e.forEach(["l","r"],function(S){S==="r"&&(y=e.map(y,function(I){return e.values(I).reverse()}));var C=(q==="u"?b.predecessors:b.successors).bind(b),M=s(b,y,p,C),N=u(b,y,M.root,M.align,S==="r");S==="r"&&(N=e.mapValues(N,function(I){return-I})),_[q+S]=N})});var k=c(b,_);return h(_,k),l(_,b.graph().align)}function g(b,m,p){return function(_,y,k){var q=_.node(y),S=_.node(k),C=0,M;if(C+=q.width/2,e.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":M=-q.width/2;break;case"r":M=q.width/2;break}if(M&&(C+=p?M:-M),M=0,C+=(q.dummy?m:b)/2,C+=(S.dummy?m:b)/2,C+=S.width/2,e.has(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":M=S.width/2;break;case"r":M=-S.width/2;break}return M&&(C+=p?M:-M),M=0,C}}function v(b,m){return b.node(m).width}return tn}var an,ci;function Vu(){if(ci)return an;ci=1;var e=F(),r=z(),i=Du().positionX;an=a;function a(d){d=r.asNonCompoundGraph(d),n(d),e.forEach(i(d),function(f,t){d.node(t).x=f})}function n(d){var f=r.buildLayerMatrix(d),t=d.graph().ranksep,s=0;e.forEach(f,function(u){var o=e.max(e.map(u,function(c){return d.node(c).height}));e.forEach(u,function(c){d.node(c).y=s+o/2}),s+=o+t})}return an}var on,hi;function zu(){if(hi)return on;hi=1;var e=F(),r=qu(),i=Ru(),a=Mu(),n=z().normalizeRanks,d=Su(),f=z().removeEmptyRanks,t=Cu(),s=Lu(),u=Iu(),o=Bu(),c=Vu(),h=z(),l=K().Graph;on=w;function w(x,E){var R=E&&E.debugTiming?h.time:h.notime;R("layout",function(){var L=R("  buildLayoutGraph",function(){return C(x)});R("  runLayout",function(){g(L,R)}),R("  updateInputGraph",function(){v(x,L)})})}function g(x,E){E("    makeSpaceForEdgeLabels",function(){M(x)}),E("    removeSelfEdges",function(){W(x)}),E("    acyclic",function(){r.run(x)}),E("    nestingGraph.run",function(){t.run(x)}),E("    rank",function(){a(h.asNonCompoundGraph(x))}),E("    injectEdgeLabelProxies",function(){N(x)}),E("    removeEmptyRanks",function(){f(x)}),E("    nestingGraph.cleanup",function(){t.cleanup(x)}),E("    normalizeRanks",function(){n(x)}),E("    assignRankMinMax",function(){I(x)}),E("    removeEdgeLabelProxies",function(){P(x)}),E("    normalize.run",function(){i.run(x)}),E("    parentDummyChains",function(){d(x)}),E("    addBorderSegments",function(){s(x)}),E("    order",function(){o(x)}),E("    insertSelfEdges",function(){ma(x)}),E("    adjustCoordinateSystem",function(){u.adjust(x)}),E("    position",function(){c(x)}),E("    positionSelfEdges",function(){ga(x)}),E("    removeBorderNodes",function(){ee(x)}),E("    normalize.undo",function(){i.undo(x)}),E("    fixupEdgeLabelCoords",function(){$(x)}),E("    undoCoordinateSystem",function(){u.undo(x)}),E("    translateGraph",function(){O(x)}),E("    assignNodeIntersects",function(){T(x)}),E("    reversePoints",function(){J(x)}),E("    acyclic.undo",function(){r.undo(x)})}function v(x,E){e.forEach(x.nodes(),function(R){var L=x.node(R),A=E.node(R);L&&(L.x=A.x,L.y=A.y,E.children(R).length&&(L.width=A.width,L.height=A.height))}),e.forEach(x.edges(),function(R){var L=x.edge(R),A=E.edge(R);L.points=A.points,e.has(A,"x")&&(L.x=A.x,L.y=A.y)}),x.graph().width=E.graph().width,x.graph().height=E.graph().height}var b=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},p=["acyclicer","ranker","rankdir","align"],_=["width","height"],y={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function C(x){var E=new l({multigraph:!0,compound:!0}),R=Me(x.graph());return E.setGraph(e.merge({},m,Ne(R,b),e.pick(R,p))),e.forEach(x.nodes(),function(L){var A=Me(x.node(L));E.setNode(L,e.defaults(Ne(A,_),y)),E.setParent(L,x.parent(L))}),e.forEach(x.edges(),function(L){var A=Me(x.edge(L));E.setEdge(L,e.merge({},q,Ne(A,k),e.pick(A,S)))}),E}function M(x){var E=x.graph();E.ranksep/=2,e.forEach(x.edges(),function(R){var L=x.edge(R);L.minlen*=2,L.labelpos.toLowerCase()!=="c"&&(E.rankdir==="TB"||E.rankdir==="BT"?L.width+=L.labeloffset:L.height+=L.labeloffset)})}function N(x){e.forEach(x.edges(),function(E){var R=x.edge(E);if(R.width&&R.height){var L=x.node(E.v),A=x.node(E.w),j={rank:(A.rank-L.rank)/2+L.rank,e:E};h.addDummyNode(x,"edge-proxy",j,"_ep")}})}function I(x){var E=0;e.forEach(x.nodes(),function(R){var L=x.node(R);L.borderTop&&(L.minRank=x.node(L.borderTop).rank,L.maxRank=x.node(L.borderBottom).rank,E=e.max(E,L.maxRank))}),x.graph().maxRank=E}function P(x){e.forEach(x.nodes(),function(E){var R=x.node(E);R.dummy==="edge-proxy"&&(x.edge(R.e).labelRank=R.rank,x.removeNode(E))})}function O(x){var E=Number.POSITIVE_INFINITY,R=0,L=Number.POSITIVE_INFINITY,A=0,j=x.graph(),G=j.marginx||0,U=j.marginy||0;function Mn(Y){var D=Y.x,se=Y.y,Sn=Y.width,Cn=Y.height;E=Math.min(E,D-Sn/2),R=Math.max(R,D+Sn/2),L=Math.min(L,se-Cn/2),A=Math.max(A,se+Cn/2)}e.forEach(x.nodes(),function(Y){Mn(x.node(Y))}),e.forEach(x.edges(),function(Y){var D=x.edge(Y);e.has(D,"x")&&Mn(D)}),E-=G,L-=U,e.forEach(x.nodes(),function(Y){var D=x.node(Y);D.x-=E,D.y-=L}),e.forEach(x.edges(),function(Y){var D=x.edge(Y);e.forEach(D.points,function(se){se.x-=E,se.y-=L}),e.has(D,"x")&&(D.x-=E),e.has(D,"y")&&(D.y-=L)}),j.width=R-E+G,j.height=A-L+U}function T(x){e.forEach(x.edges(),function(E){var R=x.edge(E),L=x.node(E.v),A=x.node(E.w),j,G;R.points?(j=R.points[0],G=R.points[R.points.length-1]):(R.points=[],j=A,G=L),R.points.unshift(h.intersectRect(L,j)),R.points.push(h.intersectRect(A,G))})}function $(x){e.forEach(x.edges(),function(E){var R=x.edge(E);if(e.has(R,"x"))switch((R.labelpos==="l"||R.labelpos==="r")&&(R.width-=R.labeloffset),R.labelpos){case"l":R.x-=R.width/2+R.labeloffset;break;case"r":R.x+=R.width/2+R.labeloffset;break}})}function J(x){e.forEach(x.edges(),function(E){var R=x.edge(E);R.reversed&&R.points.reverse()})}function ee(x){e.forEach(x.nodes(),function(E){if(x.children(E).length){var R=x.node(E),L=x.node(R.borderTop),A=x.node(R.borderBottom),j=x.node(e.last(R.borderLeft)),G=x.node(e.last(R.borderRight));R.width=Math.abs(G.x-j.x),R.height=Math.abs(A.y-L.y),R.x=j.x+R.width/2,R.y=L.y+R.height/2}}),e.forEach(x.nodes(),function(E){x.node(E).dummy==="border"&&x.removeNode(E)})}function W(x){e.forEach(x.edges(),function(E){if(E.v===E.w){var R=x.node(E.v);R.selfEdges||(R.selfEdges=[]),R.selfEdges.push({e:E,label:x.edge(E)}),x.removeEdge(E)}})}function ma(x){var E=h.buildLayerMatrix(x);e.forEach(E,function(R){var L=0;e.forEach(R,function(A,j){var G=x.node(A);G.order=j+L,e.forEach(G.selfEdges,function(U){h.addDummyNode(x,"selfedge",{width:U.label.width,height:U.label.height,rank:G.rank,order:j+ ++L,e:U.e,label:U.label},"_se")}),delete G.selfEdges})})}function ga(x){e.forEach(x.nodes(),function(E){var R=x.node(E);if(R.dummy==="selfedge"){var L=x.node(R.e.v),A=L.x+L.width/2,j=L.y,G=R.x-A,U=L.height/2;x.setEdge(R.e,R.label),x.removeNode(E),R.label.points=[{x:A+2*G/3,y:j-U},{x:A+5*G/6,y:j-U},{x:A+G,y:j},{x:A+5*G/6,y:j+U},{x:A+2*G/3,y:j+U}],R.label.x=R.x,R.label.y=R.y}})}function Ne(x,E){return e.mapValues(e.pick(x,E),Number)}function Me(x){var E={};return e.forEach(x,function(R,L){E[L.toLowerCase()]=R}),E}return on}var un,li;function Uu(){if(li)return un;li=1;var e=F(),r=z(),i=K().Graph;un={debugOrdering:a};function a(n){var d=r.buildLayerMatrix(n),f=new i({compound:!0,multigraph:!0}).setGraph({});return e.forEach(n.nodes(),function(t){f.setNode(t,{label:t}),f.setParent(t,"layer"+n.node(t).rank)}),e.forEach(n.edges(),function(t){f.setEdge(t.v,t.w,{},t.name)}),e.forEach(d,function(t,s){var u="layer"+s;f.setNode(u,{rank:"same"}),e.reduce(t,function(o,c){return f.setEdge(o,c,{style:"invis"}),c})}),f}return un}var sn,vi;function Yu(){return vi||(vi=1,sn="0.8.5"),sn}var fn,pi;function Hu(){return pi||(pi=1,fn={graphlib:K(),layout:zu(),debug:Uu(),util:{time:z().time,notime:z().notime},version:Yu()}),fn}var Wu=Hu();const nf=bo(Wu);function me(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Xu(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function fa(e){let r,i,a;e.length!==2?(r=me,i=(t,s)=>me(e(t),s),a=(t,s)=>e(t)-s):(r=e===me||e===Xu?e:Ku,i=e,a=e);function n(t,s,u=0,o=t.length){if(u<o){if(r(s,s)!==0)return o;do{const c=u+o>>>1;i(t[c],s)<0?u=c+1:o=c}while(u<o)}return u}function d(t,s,u=0,o=t.length){if(u<o){if(r(s,s)!==0)return o;do{const c=u+o>>>1;i(t[c],s)<=0?u=c+1:o=c}while(u<o)}return u}function f(t,s,u=0,o=t.length){const c=n(t,s,u,o-1);return c>u&&a(t[c-1],s)>-a(t[c],s)?c-1:c}return{left:n,center:f,right:d}}function Ku(){return 0}function Zu(e){return e===null?NaN:+e}const Qu=fa(me),Ju=Qu.right;fa(Zu).center;const es=Math.sqrt(50),rs=Math.sqrt(10),ns=Math.sqrt(2);function ye(e,r,i){const a=(r-e)/Math.max(0,i),n=Math.floor(Math.log10(a)),d=a/Math.pow(10,n),f=d>=es?10:d>=rs?5:d>=ns?2:1;let t,s,u;return n<0?(u=Math.pow(10,-n)/f,t=Math.round(e*u),s=Math.round(r*u),t/u<e&&++t,s/u>r&&--s,u=-u):(u=Math.pow(10,n)*f,t=Math.round(e/u),s=Math.round(r/u),t*u<e&&++t,s*u>r&&--s),s<t&&.5<=i&&i<2?ye(e,r,i*2):[t,s,u]}function ts(e,r,i){if(r=+r,e=+e,i=+i,!(i>0))return[];if(e===r)return[e];const a=r<e,[n,d,f]=a?ye(r,e,i):ye(e,r,i);if(!(d>=n))return[];const t=d-n+1,s=new Array(t);if(a)if(f<0)for(let u=0;u<t;++u)s[u]=(d-u)/-f;else for(let u=0;u<t;++u)s[u]=(d-u)*f;else if(f<0)for(let u=0;u<t;++u)s[u]=(n+u)/-f;else for(let u=0;u<t;++u)s[u]=(n+u)*f;return s}function ln(e,r,i){return r=+r,e=+e,i=+i,ye(e,r,i)[2]}function is(e,r,i){r=+r,e=+e,i=+i;const a=r<e,n=a?ln(r,e,i):ln(e,r,i);return(a?-1:1)*(n<0?1/-n:n)}function as(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function kn(e,r,i){e.prototype=r.prototype=i,i.constructor=e}function da(e,r){var i=Object.create(e.prototype);for(var a in r)i[a]=r[a];return i}function he(){}var fe=.7,we=1/fe,oe="\\s*([+-]?\\d+)\\s*",de="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Q="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",os=/^#([0-9a-f]{3,8})$/,us=new RegExp(`^rgb\\(${oe},${oe},${oe}\\)$`),ss=new RegExp(`^rgb\\(${Q},${Q},${Q}\\)$`),fs=new RegExp(`^rgba\\(${oe},${oe},${oe},${de}\\)$`),ds=new RegExp(`^rgba\\(${Q},${Q},${Q},${de}\\)$`),cs=new RegExp(`^hsl\\(${de},${Q},${Q}\\)$`),hs=new RegExp(`^hsla\\(${de},${Q},${Q},${de}\\)$`),mi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kn(he,ce,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gi,formatHex:gi,formatHex8:ls,formatHsl:vs,formatRgb:bi,toString:bi});function gi(){return this.rgb().formatHex()}function ls(){return this.rgb().formatHex8()}function vs(){return ca(this).formatHsl()}function bi(){return this.rgb().formatRgb()}function ce(e){var r,i;return e=(e+"").trim().toLowerCase(),(r=os.exec(e))?(i=r[1].length,r=parseInt(r[1],16),i===6?yi(r):i===3?new V(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):i===8?le(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):i===4?le(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=us.exec(e))?new V(r[1],r[2],r[3],1):(r=ss.exec(e))?new V(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=fs.exec(e))?le(r[1],r[2],r[3],r[4]):(r=ds.exec(e))?le(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=cs.exec(e))?xi(r[1],r[2]/100,r[3]/100,1):(r=hs.exec(e))?xi(r[1],r[2]/100,r[3]/100,r[4]):mi.hasOwnProperty(e)?yi(mi[e]):e==="transparent"?new V(NaN,NaN,NaN,0):null}function yi(e){return new V(e>>16&255,e>>8&255,e&255,1)}function le(e,r,i,a){return a<=0&&(e=r=i=NaN),new V(e,r,i,a)}function ps(e){return e instanceof he||(e=ce(e)),e?(e=e.rgb(),new V(e.r,e.g,e.b,e.opacity)):new V}function vn(e,r,i,a){return arguments.length===1?ps(e):new V(e,r,i,a??1)}function V(e,r,i,a){this.r=+e,this.g=+r,this.b=+i,this.opacity=+a}kn(V,vn,da(he,{brighter(e){return e=e==null?we:Math.pow(we,e),new V(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fe:Math.pow(fe,e),new V(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new V(ie(this.r),ie(this.g),ie(this.b),_e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wi,formatHex:wi,formatHex8:ms,formatRgb:_i,toString:_i}));function wi(){return`#${te(this.r)}${te(this.g)}${te(this.b)}`}function ms(){return`#${te(this.r)}${te(this.g)}${te(this.b)}${te((isNaN(this.opacity)?1:this.opacity)*255)}`}function _i(){const e=_e(this.opacity);return`${e===1?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${e===1?")":`, ${e})`}`}function _e(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ie(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function te(e){return e=ie(e),(e<16?"0":"")+e.toString(16)}function xi(e,r,i,a){return a<=0?e=r=i=NaN:i<=0||i>=1?e=r=NaN:r<=0&&(e=NaN),new X(e,r,i,a)}function ca(e){if(e instanceof X)return new X(e.h,e.s,e.l,e.opacity);if(e instanceof he||(e=ce(e)),!e)return new X;if(e instanceof X)return e;e=e.rgb();var r=e.r/255,i=e.g/255,a=e.b/255,n=Math.min(r,i,a),d=Math.max(r,i,a),f=NaN,t=d-n,s=(d+n)/2;return t?(r===d?f=(i-a)/t+(i<a)*6:i===d?f=(a-r)/t+2:f=(r-i)/t+4,t/=s<.5?d+n:2-d-n,f*=60):t=s>0&&s<1?0:f,new X(f,t,s,e.opacity)}function gs(e,r,i,a){return arguments.length===1?ca(e):new X(e,r,i,a??1)}function X(e,r,i,a){this.h=+e,this.s=+r,this.l=+i,this.opacity=+a}kn(X,gs,da(he,{brighter(e){return e=e==null?we:Math.pow(we,e),new X(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fe:Math.pow(fe,e),new X(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*r,n=2*i-a;return new V(dn(e>=240?e-240:e+120,n,a),dn(e,n,a),dn(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new X(Ei(this.h),ve(this.s),ve(this.l),_e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_e(this.opacity);return`${e===1?"hsl(":"hsla("}${Ei(this.h)}, ${ve(this.s)*100}%, ${ve(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ei(e){return e=(e||0)%360,e<0?e+360:e}function ve(e){return Math.max(0,Math.min(1,e||0))}function dn(e,r,i){return(e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r)*255}const qn=e=>()=>e;function bs(e,r){return function(i){return e+i*r}}function ys(e,r,i){return e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(a){return Math.pow(e+a*r,i)}}function ws(e){return(e=+e)==1?ha:function(r,i){return i-r?ys(r,i,e):qn(isNaN(r)?i:r)}}function ha(e,r){var i=r-e;return i?bs(e,i):qn(isNaN(e)?r:e)}const ki=function e(r){var i=ws(r);function a(n,d){var f=i((n=vn(n)).r,(d=vn(d)).r),t=i(n.g,d.g),s=i(n.b,d.b),u=ha(n.opacity,d.opacity);return function(o){return n.r=f(o),n.g=t(o),n.b=s(o),n.opacity=u(o),n+""}}return a.gamma=e,a}(1);function _s(e,r){r||(r=[]);var i=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(d){for(n=0;n<i;++n)a[n]=e[n]*(1-d)+r[n]*d;return a}}function xs(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Es(e,r){var i=r?r.length:0,a=e?Math.min(i,e.length):0,n=new Array(a),d=new Array(i),f;for(f=0;f<a;++f)n[f]=Rn(e[f],r[f]);for(;f<i;++f)d[f]=r[f];return function(t){for(f=0;f<a;++f)d[f]=n[f](t);return d}}function ks(e,r){var i=new Date;return e=+e,r=+r,function(a){return i.setTime(e*(1-a)+r*a),i}}function xe(e,r){return e=+e,r=+r,function(i){return e*(1-i)+r*i}}function qs(e,r){var i={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?i[n]=Rn(e[n],r[n]):a[n]=r[n];return function(d){for(n in i)a[n]=i[n](d);return a}}var pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(pn.source,"g");function Rs(e){return function(){return e}}function Ns(e){return function(r){return e(r)+""}}function Ms(e,r){var i=pn.lastIndex=cn.lastIndex=0,a,n,d,f=-1,t=[],s=[];for(e=e+"",r=r+"";(a=pn.exec(e))&&(n=cn.exec(r));)(d=n.index)>i&&(d=r.slice(i,d),t[f]?t[f]+=d:t[++f]=d),(a=a[0])===(n=n[0])?t[f]?t[f]+=n:t[++f]=n:(t[++f]=null,s.push({i:f,x:xe(a,n)})),i=cn.lastIndex;return i<r.length&&(d=r.slice(i),t[f]?t[f]+=d:t[++f]=d),t.length<2?s[0]?Ns(s[0].x):Rs(r):(r=s.length,function(u){for(var o=0,c;o<r;++o)t[(c=s[o]).i]=c.x(u);return t.join("")})}function Rn(e,r){var i=typeof r,a;return r==null||i==="boolean"?qn(r):(i==="number"?xe:i==="string"?(a=ce(r))?(r=a,ki):Ms:r instanceof ce?ki:r instanceof Date?ks:xs(r)?_s:Array.isArray(r)?Es:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?qs:xe)(e,r)}function Ss(e,r){return e=+e,r=+r,function(i){return Math.round(e*(1-i)+r*i)}}function Cs(e){return function(){return e}}function Ls(e){return+e}var qi=[0,1];function ae(e){return e}function mn(e,r){return(r-=e=+e)?function(i){return(i-e)/r}:Cs(isNaN(r)?NaN:.5)}function Is(e,r){var i;return e>r&&(i=e,e=r,r=i),function(a){return Math.max(e,Math.min(r,a))}}function Ps(e,r,i){var a=e[0],n=e[1],d=r[0],f=r[1];return n<a?(a=mn(n,a),d=i(f,d)):(a=mn(a,n),d=i(d,f)),function(t){return d(a(t))}}function Os(e,r,i){var a=Math.min(e.length,r.length)-1,n=new Array(a),d=new Array(a),f=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++f<a;)n[f]=mn(e[f],e[f+1]),d[f]=i(r[f],r[f+1]);return function(t){var s=Ju(e,t,1,a)-1;return d[s](n[s](t))}}function As(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ts(){var e=qi,r=qi,i=Rn,a,n,d,f=ae,t,s,u;function o(){var h=Math.min(e.length,r.length);return f!==ae&&(f=Is(e[0],e[h-1])),t=h>2?Os:Ps,s=u=null,c}function c(h){return h==null||isNaN(h=+h)?d:(s||(s=t(e.map(a),r,i)))(a(f(h)))}return c.invert=function(h){return f(n((u||(u=t(r,e.map(a),xe)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,Ls),o()):e.slice()},c.range=function(h){return arguments.length?(r=Array.from(h),o()):r.slice()},c.rangeRound=function(h){return r=Array.from(h),i=Ss,o()},c.clamp=function(h){return arguments.length?(f=h?!0:ae,o()):f!==ae},c.interpolate=function(h){return arguments.length?(i=h,o()):i},c.unknown=function(h){return arguments.length?(d=h,c):d},function(h,l){return a=h,n=l,o()}}function Fs(){return Ts()(ae,ae)}function js(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ee(e,r){if((i=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var i,a=e.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+e.slice(i+1)]}function ue(e){return e=Ee(Math.abs(e)),e?e[1]:NaN}function $s(e,r){return function(i,a){for(var n=i.length,d=[],f=0,t=e[0],s=0;n>0&&t>0&&(s+t+1>a&&(t=Math.max(1,a-s)),d.push(i.substring(n-=t,n+t)),!((s+=t+1)>a));)t=e[f=(f+1)%e.length];return d.reverse().join(r)}}function Gs(e){return function(r){return r.replace(/[0-9]/g,function(i){return e[+i]})}}var Bs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ke(e){if(!(r=Bs.exec(e)))throw new Error("invalid format: "+e);var r;return new Nn({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}ke.prototype=Nn.prototype;function Nn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ds(e){e:for(var r=e.length,i=1,a=-1,n;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":a===0&&(a=i),n=i;break;default:if(!+e[i])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var la;function Vs(e,r){var i=Ee(e,r);if(!i)return e+"";var a=i[0],n=i[1],d=n-(la=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,f=a.length;return d===f?a:d>f?a+new Array(d-f+1).join("0"):d>0?a.slice(0,d)+"."+a.slice(d):"0."+new Array(1-d).join("0")+Ee(e,Math.max(0,r+d-1))[0]}function Ri(e,r){var i=Ee(e,r);if(!i)return e+"";var a=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const Ni={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:js,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>Ri(e*100,r),r:Ri,s:Vs,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mi(e){return e}var Si=Array.prototype.map,Ci=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zs(e){var r=e.grouping===void 0||e.thousands===void 0?Mi:$s(Si.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",d=e.numerals===void 0?Mi:Gs(Si.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",t=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(c){c=ke(c);var h=c.fill,l=c.align,w=c.sign,g=c.symbol,v=c.zero,b=c.width,m=c.comma,p=c.precision,_=c.trim,y=c.type;y==="n"?(m=!0,y="g"):Ni[y]||(p===void 0&&(p=12),_=!0,y="g"),(v||h==="0"&&l==="=")&&(v=!0,h="0",l="=");var k=g==="$"?i:g==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",q=g==="$"?a:/[%p]/.test(y)?f:"",S=Ni[y],C=/[defgprs%]/.test(y);p=p===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function M(N){var I=k,P=q,O,T,$;if(y==="c")P=S(N)+P,N="";else{N=+N;var J=N<0||1/N<0;if(N=isNaN(N)?s:S(Math.abs(N),p),_&&(N=Ds(N)),J&&+N==0&&w!=="+"&&(J=!1),I=(J?w==="("?w:t:w==="-"||w==="("?"":w)+I,P=(y==="s"?Ci[8+la/3]:"")+P+(J&&w==="("?")":""),C){for(O=-1,T=N.length;++O<T;)if($=N.charCodeAt(O),48>$||$>57){P=($===46?n+N.slice(O+1):N.slice(O))+P,N=N.slice(0,O);break}}}m&&!v&&(N=r(N,1/0));var ee=I.length+N.length+P.length,W=ee<b?new Array(b-ee+1).join(h):"";switch(m&&v&&(N=r(W+N,W.length?b-P.length:1/0),W=""),l){case"<":N=I+N+P+W;break;case"=":N=I+W+N+P;break;case"^":N=W.slice(0,ee=W.length>>1)+I+N+P+W.slice(ee);break;default:N=W+I+N+P;break}return d(N)}return M.toString=function(){return c+""},M}function o(c,h){var l=u((c=ke(c),c.type="f",c)),w=Math.max(-8,Math.min(8,Math.floor(ue(h)/3)))*3,g=Math.pow(10,-w),v=Ci[8+w/3];return function(b){return l(g*b)+v}}return{format:u,formatPrefix:o}}var pe,va,pa;Us({thousands:",",grouping:[3],currency:["$",""]});function Us(e){return pe=zs(e),va=pe.format,pa=pe.formatPrefix,pe}function Ys(e){return Math.max(0,-ue(Math.abs(e)))}function Hs(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ue(r)/3)))*3-ue(Math.abs(e)))}function Ws(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,ue(r)-ue(e))+1}function Xs(e,r,i,a){var n=is(e,r,i),d;switch(a=ke(a??",f"),a.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(d=Hs(n,f))&&(a.precision=d),pa(a,f)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(d=Ws(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=d-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(d=Ys(n))&&(a.precision=d-(a.type==="%")*2);break}}return va(a)}function Ks(e){var r=e.domain;return e.ticks=function(i){var a=r();return ts(a[0],a[a.length-1],i??10)},e.tickFormat=function(i,a){var n=r();return Xs(n[0],n[n.length-1],i??10,a)},e.nice=function(i){i==null&&(i=10);var a=r(),n=0,d=a.length-1,f=a[n],t=a[d],s,u,o=10;for(t<f&&(u=f,f=t,t=u,u=n,n=d,d=u);o-- >0;){if(u=ln(f,t,i),u===s)return a[n]=f,a[d]=t,r(a);if(u>0)f=Math.floor(f/u)*u,t=Math.ceil(t/u)*u;else if(u<0)f=Math.ceil(f*u)/u,t=Math.floor(t*u)/u;else break;s=u}return e},e}function Zs(){var e=Fs();return e.copy=function(){return As(e,Zs())},as.apply(e,arguments),Ks(e)}export{ef as _,rf as a,nf as d,Zs as l};
