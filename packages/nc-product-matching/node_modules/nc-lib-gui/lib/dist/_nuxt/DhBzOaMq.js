import{_ as W}from"./Dv0nYk-Y.js";import E from"./Dhm6ckbD.js";import{bi as C,c as i,o as a,a as t,e as J,bk as q,a9 as F,r as p,J as Q,al as U,n as S,fh as X,aG as Y,$ as Z,ac as ee,I as l,w as s,b as o,K as u,L as c,g7 as te,ao as f,eC as oe,t as d,mG as se,bf as ne,b8 as ae,ad as A,d as M,mH as ce,_ as re}from"./DRA9KN5F.js";import{_ as ie}from"./C6QQc8aM.js";import{a as le,_ as ue,c as de}from"./D8vl_16c.js";import"./C2UaKEE0.js";import"./C_VN1MCC.js";import"./DJYXGfCo.js";import"./D_txg4HT.js";import"./BMPzbwPk.js";const _e={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function me(h,n){return a(),i("svg",_e,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"},null,-1)]))}const pe=C({name:"mdi-logout",render:me}),fe={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function he(h,n){return a(),i("svg",fe,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2M7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.5.88 4.93 1.78A7.9 7.9 0 0 1 12 20c-1.86 0-3.57-.64-4.93-1.72m11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33A7.93 7.93 0 0 1 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.5-1.64 4.83M12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6m0 5a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 12 8a1.5 1.5 0 0 1 1.5 1.5A1.5 1.5 0 0 1 12 11"},null,-1)]))}const ge=C({name:"mdi-account-circle-outline",render:he}),ve={class:"flex w-full h-full items-center nc-header-content"},we={class:"flex-1 min-w-0 w-50"},xe={key:0,class:"flex gap-1"},be={class:"flex-1 min-w-0 flex justify-end gap-2"},ye={class:"flex flex-row flex-grow"},ke={key:0,class:"flex items-center"},$e={class:"flex items-center gap-1 cursor-pointer","data-testid":"nc-ws-account-menu-dropdown"},Se={class:"h-8.5 w-8.5 rounded-full text-xs bg-secondary flex items-center justify-center font-weight-bold text-black uppercase"},Ae={class:"prose group-hover:text-primary"},Me={class:"text-xs text-gray-500"},Ce={class:"prose group-hover:text-primary"},Be={class:"w-full h-[calc(100vh_-_var(--new-header-height))]"},De={name:"DefaultLayout"},Le=J({...De,setup(h){var w;const n=q(),{te:B,t:D}=F(),g=p(!0),L=p(!0),{signOut:N,user:H}=Q(),{clearWorkspaces:V}=U(),_=S(()=>{var e;return((e=H.value)==null?void 0:e.email)??"---"}),v=p(!1);X((w=n.meta)!=null&&w.title&&B(n.meta.title)?`${D(n.meta.title)}`:"NocoDB");const m=S(()=>{var e;return(e=n.meta)==null?void 0:e.public});Y(g,e=>{e||(v.value=!0,Z(()=>{v.value=!1}))});const O=async()=>{await N({redirectToSignin:!0}),await V()};return(e,r)=>{const x=W,R=E,T=se,G=ge,b=ae,y=ce,I=pe,j=ne,z=oe,K=le,P=de,k=ue,$=ee("e");return a(),l(k,null,{default:s(()=>[o(K,{class:"max-h-[var(--new-header-height)] !px-2"},{default:s(()=>[t("div",ve,[t("div",we,[o(x,{to:c(m)?"":"/"},{default:s(()=>r[0]||(r[0]=[t("img",{src:ie,class:"h-11"},null,-1)])),_:1,__:[0]},8,["to"])]),(e._.provides[te]||e.$route).name==="index-index"?(a(),i("div",xe)):u("",!0),t("div",be,[t("div",ye,[f(e.$slots,"navbar",{},void 0,!0)]),c(m)?u("",!0):(a(),i("div",ke,[o(R,{class:"mr-2","data-testid":"nc-notification-bell-icon"})])),c(m)?u("",!0):(a(),l(z,{key:1,trigger:["click"],"overlay-class-name":"nc-dropdown-user-accounts-menu"},{overlay:s(()=>[o(j,{class:"!py-0 leading-8 !rounded min-w-40"},{default:s(()=>[o(b,{key:"0","data-testid":"nc-menu-accounts__user-settings",class:"!rounded-t"},{default:s(()=>[A((a(),l(x,{class:"nc-base-menu-item group !no-underline",to:"/account/users"},{default:s(()=>[o(G,{class:"mt-1 group-hover:text-accent"}),r[1]||(r[1]=M("  ")),t("div",Ae,[t("div",null,d(e.$t("labels.account")),1),t("div",Me,d(c(_)),1)])]),_:1,__:[1]})),[[$,["c:navbar:user:email"]]])]),_:1}),o(y,{class:"!m-0"}),o(y,{class:"!m-0"}),o(b,{key:"1",class:"!rounded-b group","data-testid":"nc-menu-accounts__sign-out"},{default:s(()=>[A((a(),i("div",{class:"nc-base-menu-item group","data-testid":"nc-logout-btn",onClick:O},[o(I,{class:"group-hover:text-accent"}),r[2]||(r[2]=M("  ")),t("span",Ce,d(e.$t("general.signOut")),1)])),[[$,["a:navbar:user:sign-out"]]])]),_:1})]),_:1})]),default:s(()=>[t("div",$e,[t("div",Se,d(c(_)?c(_).split("@")[0].slice(0,2):"A"),1),o(T)])]),_:1}))])])]),_:3}),o(k,{class:"nc-root"},{default:s(()=>[c(g)?(a(),l(P,{key:0,ref:"sidebar",collapsed:!c(L),width:"250","collapsed-width":"50",class:"relative shadow-md h-full z-1 nc-left-sidebar h-[calc(100vh_-_var(--new-header-height))] !shadow-none border-gray-100 border-r-1 !overflow-x-hidden",trigger:null,collapsible:"",theme:"light"},{default:s(()=>[f(e.$slots,"sidebar",{},void 0,!0)]),_:3},8,["collapsed"])):u("",!0),t("div",Be,[f(e.$slots,"default",{},void 0,!0)])]),_:3})]),_:3})}}}),Ke=re(Le,[["__scopeId","data-v-451df467"]]);export{Ke as default};
