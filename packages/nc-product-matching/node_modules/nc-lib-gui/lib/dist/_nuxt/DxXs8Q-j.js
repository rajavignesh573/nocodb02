import{bi as d,c as i,o as u,a as t,e as k,f as M,J as z,n as B,g as N,K as R,L as m,b as o,w as c,N as H,t as r,d as p,bC as I,eC as A,a4 as D,a5 as E}from"./DRA9KN5F.js";import{_ as G}from"./Dv0nYk-Y.js";const S={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function T(_,n){return u(),i("svg",S,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"},null,-1)]))}const j=d({name:"mdi-close",render:T}),J={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function K(_,n){return u(),i("svg",J,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"m13.16 22.19l-1.66-3.84c1.6-.58 3.07-1.35 4.43-2.27l-2.78 6.11m-7.5-9.69l-3.84-1.65l6.11-2.78C7 9.43 6.23 10.91 5.65 12.5M20 4c-2.96-.22-5.2.83-7.55 3.31c-2.36 2.47-3.36 4.5-3.95 6.04l2.17 2.1c2.29-.87 4.33-2.18 6.03-3.89C20 8.27 20.17 5.4 20 4m-9 1.9c2.63-2.8 7-4.82 10.66-3.55c0 0 2.12 4.96-3.55 10.65c-2.2 2.17-4.58 3.5-6.72 4.34c-.24.09-1.15.39-2.13-.46l-2.13-2.13c-.56-.56-.74-1.38-.47-2.13C7.5 10.5 8.41 8.69 11 5.9M6.25 22H4.84l4.09-4.1c.3.21.63.36.97.45zM2 22v-1.41l4.77-4.78l1.43 1.42L3.41 22zm0-2.83v-1.42l3.65-3.65c.09.35.24.68.45.97zM16 6a2 2 0 0 1 2 2c0 1.11-.89 2-2 2a2 2 0 1 1 0-4"},null,-1)]))}const O=d({name:"mdi-rocket-launch-outline",render:K}),q={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function F(_,n){return u(),i("svg",q,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"M15 20a1 1 0 0 0 1-1V4H8a1 1 0 0 0-1 1v11H5V5a3 3 0 0 1 3-3h11a3 3 0 0 1 3 3v1h-2V5a1 1 0 0 0-1-1a1 1 0 0 0-1 1v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-1h11a2 2 0 0 0 2 2M9 6h5v2H9zm0 4h5v2H9zm0 4h5v2H9z"},null,-1)]))}const P=d({name:"mdi-script-text-outline",render:F}),Q={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function U(_,n){return u(),i("svg",Q,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"m7 10l5 5l5-5z"},null,-1)]))}const W=d({name:"mdi-menu-down",render:U}),X={key:0,class:"flex items-center"},Y={class:"flex gap-1 items-center text-white"},Z={class:"text-sm font-weight-medium"},ee={class:"mt-1 bg-white shadow-lg !border"},ne={class:"nc-menu-item"},te={class:"nc-menu-item"},oe=k({__name:"ReleaseInfo",setup(_){const{$api:n}=M(),{currentVersion:a,latestRelease:s,hiddenRelease:v,appInfo:g}=z(),h=B({get(){var e,l;return(e=a.value)!=null&&e.includes("-beta.")||(l=s.value)!=null&&l.includes("-beta.")?!1:a.value&&s.value&&a.value!==s.value&&s.value!==v.value},set(e){v.value=e?null:s.value}});async function w(){try{const e=await n.utils.appVersion();e&&e.releaseVersion&&e.currentVersion?(a.value=e.currentVersion,s.value=e.releaseVersion):(a.value=null,s.value=null)}catch(e){D.error(await E(e))}}return N(async()=>await w()),(e,l)=>{const x=W,b=H,$=P,f=G,y=O,C=I,L=j,V=A;return m(h)&&!m(g).ee?(u(),i("div",X,[o(V,{trigger:["click"],placement:"bottom","overlay-class-name":"nc-dropdown-upgrade-menu"},{overlay:c(()=>[t("div",ee,[o(f,{"no-prefetch":"","no-rel":"",class:"!text-primary !no-underline",to:"https://github.com/nocodb/nocodb/releases",target:"_blank"},{default:c(()=>[t("div",ne,[o($),p(" "+r(m(s))+" "+r(e.$t("activity.upgrade.releaseNote")),1)])]),_:1}),o(f,{"no-prefetch":"",rel:"noopener",class:"!text-primary !no-underline",to:"https://nocodb.com/docs/self-hosting/upgrading",target:"_blank"},{default:c(()=>[t("div",te,[o(y),p(" "+r(e.$t("activity.upgrade.howTo")),1)])]),_:1}),o(C,{class:"!m-0"}),t("div",{class:"nc-menu-item",onClick:l[0]||(l[0]=se=>h.value=!1)},[o(L),p(" "+r(e.$t("general.hideMenu")),1)])])]),default:c(()=>[o(b,{class:"!bg-primary !border-none !mr-3",size:"small"},{default:c(()=>[t("div",Y,[t("span",Z,r(e.$t("activity.upgrade.available")),1),o(x)])]),_:1})]),_:1})])):R("",!0)}}}),ce=Object.assign(oe,{__name:"GeneralReleaseInfo"});export{ce as default};
