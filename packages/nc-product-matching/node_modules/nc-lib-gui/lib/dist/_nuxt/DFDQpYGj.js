import{e as L,T as S,G as p,fO as T,r as _,b5 as $,bX as R,gz as U,as as F,a$ as G,n as P,iS as z,I as c,o as r,w as i,a as K,O as y,c as Q,K as d,b as v,L as e,ap as X,M as q,d as b,t as w,Q as C,eC as J,_ as W}from"./DRA9KN5F.js";import{b as Y}from"./CC4cUItJ.js";import"./EcM5l_HA.js";import"./C2UaKEE0.js";import"./BLPDl4Qg.js";import"./CsX17Y_h.js";import"./CHRPOXXy.js";import"./gByPF8bR.js";import"./BCBMEREK.js";import"./CQa0sIfA.js";import"./DkDj6Z7Z.js";import"./C_gbauhL.js";import"./C_VN1MCC.js";import"./D7poRkS0.js";import"./BmscXXs6.js";import"./gAYHr7Gr.js";import"./By5RWL3d.js";const Z={key:0,class:"h-[1px]"},ee=L({__name:"Menu",props:{virtual:{type:Boolean},isOpen:{type:Boolean},isHiddenCol:{type:Boolean}},emits:["edit","addColumn","update:isOpen"],setup(k,{emit:h}){const O=k,m=h,o=S(O,"isOpen",m),t=p(T),B=p($,_(null)),M=p(R,_(!1)),l=p(U,_(!1)),{isUIAllowed:j}=F(),{aiIntegrations:E}=G(),f=P(()=>t!=null&&t.value?z(t.value,E.value,M.value||!j("dataEdit")):{isInvalid:!1,tooltip:""}),N=()=>{B.value||(o.value=!o.value)},D=(...n)=>{m("addColumn",...n)},V=(...n)=>{m("edit",...n)};return(n,s)=>{const u=q,x=X,A=Y,H=J;return r(),c(H,{visible:e(o),"onUpdate:visible":s[2]||(s[2]=a=>C(o)?o.value=a:null),trigger:["click"],placement:e(l)?"bottomLeft":"bottomRight","overlay-class-name":`nc-dropdown-column-operations ${e(o)?"active":""} !border-1 rounded-lg !shadow-xl`,onClick:y(N,["stop"])},{overlay:i(()=>[v(A,{"is-open":e(o),"onUpdate:isOpen":s[1]||(s[1]=a=>C(o)?o.value=a:null),column:e(t),virtual:n.virtual,"is-hidden-col":n.isHiddenCol,onAddColumn:D,onEdit:V},null,8,["is-open","column","virtual","is-hidden-col"])]),default:i(()=>{var a,I;return[K("div",{class:"flex gap-1 items-center",onDblclick:s[0]||(s[0]=y(()=>{},["stop"]))},[e(l)?(r(),Q("div",Z,"Â ")):d("",!0),(I=(a=e(t))==null?void 0:a.description)!=null&&I.length&&!e(l)?(r(),c(x,{key:1,class:"flex"},{title:i(()=>{var g;return[b(w((g=e(t))==null?void 0:g.description),1)]}),default:i(()=>[v(u,{icon:"info",class:"group-hover:opacity-100 !w-3.5 !h-3.5 !text-gray-500 flex-none"})]),_:1})):d("",!0),v(x,{class:"flex items-center"},{title:i(()=>[b(w(n.$t(e(f).tooltip)),1)]),default:i(()=>[e(f).isInvalid&&!e(l)?(r(),c(u,{key:0,class:"text-red-300 w-3.5 h-3.5",icon:"alertTriangle"})):d("",!0)]),_:1}),e(l)?d("",!0):(r(),c(u,{key:2,icon:"arrowDown",class:"text-grey h-full text-grey nc-ui-dt-dropdown cursor-pointer outline-0 mr-2"}))],32)]}),_:1},8,["visible","placement","overlay-class-name"])}}}),Ie=Object.assign(W(ee,[["__scopeId","data-v-c3ca5a49"]]),{__name:"SmartsheetHeaderMenu"});export{Ie as default};
