import{e as L,n as D,I,o as c,w as l,c as b,an as M,aq as T,b as w,a as v,t as m,d as O,a3 as V,ag as $,L as f,Q as A,bU as K,a9 as N,f as B,bk as J,u as R,V as G,r as E,ab as U,du as j,a4 as C,a5 as z,g as F,i as q,bv as P,aY as H,bx as Q,bG as Y,ax as W,_ as X}from"./DRA9KN5F.js";import{r,a as n}from"./DGFEr0h-.js";import{L as Z,_ as ee}from"./JqUqXTOd.js";import{u as te}from"./BcrYf4lp.js";import"./I4o4wRE2.js";import"./BMPzbwPk.js";import"./CwPFbl3n.js";const oe={class:"font-bold"},se={class:"inline-block"},re={class:"inline-block text-right"},ae=L({__name:"KeyboardShortcuts",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(x,{emit:y}){const p=y,t=D({get:()=>x.modelValue,set:u=>p("update:modelValue",u)}),h=[{title:"General",shortcuts:[{keys:["ALT","T"],behaviour:"Insert new table"},{keys:["ALT","R"],behaviour:"Insert new row"},{keys:["ALT","C"],behaviour:"Insert new column"},{keys:["ALT","F"],behaviour:"Toggle fullscreen mode"},{keys:["ALT","I"],behaviour:"Invite a member to team"},{keys:["ALT",","],behaviour:"Open Team & Settings"}]},{title:"Grid View",shortcuts:[{keys:[r(),"←"],behaviour:"Jump to previous page in this view"},{keys:[r(),"→"],behaviour:"Jump to next page in this view"},{keys:[r(),"↑"],behaviour:"Jump to last page in this view"},{keys:[r(),"↓"],behaviour:"Jump to first page in this view"},{keys:[n(),"←"],behaviour:"Jump to leftmost column in this row"},{keys:[n(),"→"],behaviour:"Jump to rightmost column in this row"},{keys:[n(),"↑"],behaviour:"Jump to first record in this column (in same page)"},{keys:[n(),"↓"],behaviour:"Jump to last record in this column (in same page)"},{keys:[n(),"C"],behaviour:"Copy cell contents"},{keys:["Enter"],behaviour:"Switch cell in focus to EDIT mode; opens modal / picker if cell is associated with one"},{keys:["Esc"],behaviour:"Exit cell EDIT mode"},{keys:["Delete"],behaviour:"Clear cell"},{keys:["Space"],behaviour:"Expand current row"},{keys:["←","→","↑","↓"],behaviour:"General cell navigation"},{keys:["Tab"],behaviour:"Move to next cell horizontally; if on last cell, move to next row beginning"}]},{title:"Text / Number",shortcuts:[{keys:["←"],behaviour:"Move cursor to the left"},{keys:["→"],behaviour:"Move cursor to the right"},{keys:["↑"],behaviour:"Move cursor to the left"},{keys:["↓"],behaviour:"Move cursor to the right"}]},{title:"SingleSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select the current option"}]},{title:"MultiSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select / deselect the current option"}]},{title:"Date / DateTime",shortcuts:[{keys:[n(),";"],behaviour:"Select current date time"}]},{title:"LinkToAnotherRecord",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"}]},{title:"Checkbox",shortcuts:[{keys:["Enter"],behaviour:"Toggle"}]},{title:"Rating",shortcuts:[{keys:["<0 ~ Max>"],behaviour:"Enter number to toggle rating"}]},{title:"Expanded Form",shortcuts:[{keys:[n(),"Enter"],behaviour:"Save current expanded form item"},{keys:[r(),"→"],behaviour:"Switch to next row"},{keys:[r(),"←"],behaviour:"Switch to previous row"},{keys:[r(),"S"],behaviour:"Save current expanded form item"},{keys:[r(),"N"],behaviour:"Create a new row"}]}];return(u,i)=>{const k=ee,_=Z,g=K;return c(),I(g,{visible:f(t),"onUpdate:visible":i[0]||(i[0]=a=>A(t)?t.value=a:null),class:$([{active:f(t)},"p-2"]),width:"max(30vw, 600px)",footer:null,"wrap-class-name":`nc-modal-keyboard-shortcuts ${f(t)?"active":""}`,onKeydown:i[1]||(i[1]=V(a=>t.value=!1,["esc"]))},{title:l(()=>[O(m(u.$t("title.keyboardShortcut")),1)]),default:l(()=>[(c(),b(M,null,T(h,(a,e)=>w(_,{key:e,class:"nc-shortcut-list !mb-5",size:"small",bordered:"","data-source":a.shortcuts},{header:l(()=>[v("div",oe,m(a.title),1)]),renderItem:l(({item:o})=>[w(k,null,{default:l(()=>[v("span",se,[(c(!0),b(M,null,T(o.keys,(s,d)=>(c(),b("kbd",{key:d,class:"ml-[1px] mr-[1px] px-[8px] py-[3px] border-b-[3px] uppercase border-1 border-solid border-primary border-opacity-50 rounded"},m(s),1))),128))]),v("span",re,m(o.behaviour),1)]),_:2},1024)]),_:2},1032,["data-source"])),64))]),_:1},8,["visible","class","wrap-class-name"])}}}),ne=Object.assign(ae,{__name:"DlgKeyboardShortcuts"}),ie=L({__name:"index",setup(x){const{t:y}=N(),{$e:p}=B(),t=J(),h=R(),u=G(),{loadProject:i}=u,{toggle:k,toggleHasSidebar:_}=te("nc-left-sidebar",{hasSidebar:!0,isOpen:!0}),g=E(!1);U("Escape",()=>{g.value=!1},{eventName:"keydown"}),j(async()=>{var d;try{await i()}catch(S){if(((d=S.response)==null?void 0:d.status)===403){C.error(y("msg.error.projectNotAccessible")),h.replace("/");return}C.error(await z(S))}const{type:e,name:o,view:s}=t.query;e&&o&&await h.replace(`/nc/${t.params.baseId}/${e}/${o}${s?`/${s}`:""}`)}),F(()=>{k(!0),_(!0)}),q(()=>{});function a(){p("a:actions:keyboard-shortcut");const e=E(!0),{close:o}=W(ne,{modelValue:e,"onUpdate:modelValue":s});function s(){e.value=!1,o(1e3)}}return P(document,"keydown",async e=>{if(H()?e.metaKey:e.ctrlKey)switch(e.key){case"/":Q()||(p("c:shortcut",{key:"CTRL + /"}),a());break}}),(e,o)=>{const s=Y;return c(),b("div",null,[v("div",null,[w(s)])])}}}),be=X(ie,[["__scopeId","data-v-2b5b0d28"]]);export{be as default};
