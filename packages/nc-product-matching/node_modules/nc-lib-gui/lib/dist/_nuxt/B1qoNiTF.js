const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CZHaB74P.js","./DRA9KN5F.js","./entry.CNP42Mi6.css","./Bm9VFL6M.js","./B94p8ToD.js","./DkDj6Z7Z.js","./gAYHr7Gr.js","./Cd4chHHL.js","./boyBAVNN.js","./AI.DBmQ1Z9_.css","./DBj5Znvf.js","./TextArea.CP5awuq0.css","./Cc3fFKy4.js","./tXIUs16-.js","./CbX26EBz.js","./TimeSelector.DAR2lbHN.css","./Editor.CNNHLwFk.css","./BPAO9gWb.js","./DkpDpjnr.js","./xPXNcuDa.js","./BYKJ-MHf.js","./gByPF8bR.js","./Modal.CB1oWLel.css","./BMufqs0w.js","./Overlay.CpKx7Pnx.css","./yMSt-9W5.js","./C83syoBY.js","./index.Ws4Ly2yP.css","./Bj4kMpzI.js","./CbSESqy_.js","./Dl-un84B.js","./ssgfHuBC.js","./Bm6QmuXP.js","./Readonly.Dqlx6FrM.css","./C14rEdDq.js","./Editor.Cxeo_vFp.css","./CTMaE0Hc.js","./35NZ7kP5.js","./Dv0nYk-Y.js","./B7QiJ8wK.js","./BiKDVTeo.js","./Coql2QrX.js","./BDzYw9yU.js","./CkpISeXq.js","./CYKJe2Bk.js","./Readonly.JdFRDExp.css","./iCEV5Iwo.js","./zMMvJhqz.js","./uk-JUY8g.js","./-rQ54Sq7.js","./C489-INV.js","./BQrX92sk.js","./Json.BOl9d_YA.css","./DIxbqRYZ.js"])))=>i.map(i=>d[i]);
import{aj as zt,gU as yl,aF as ie,a4 as tt,gT as gl,gV as _l,jw as bl,e as Ve,G as u,fO as Te,T as je,r as o,kn as at,bX as Gt,g6 as Se,n as R,Y as dt,bv as kl,kk as We,j1 as Ye,gz as Me,j7 as nt,k5 as Ie,ef as Pe,g as $e,iU as vt,aG as qe,c as L,o as v,b as pe,aH as mt,L as e,Q as W,w as ye,ag as Ee,I as B,K as De,N as wl,a as ee,M as ct,t as be,O as r,X as Vl,eY as Cl,a0 as xl,ar as El,aA as $l,d as Le,kS as Dl,gM as Ml,kT as Ft,_ as Re,el as se,gy as Et,J as pt,gp as $t,kU as he,kV as ft,a9 as Xe,Z as Dt,eI as Ge,aC as lt,iw as Mt,kW as It,a1 as ot,kx as Il,hW as Pl,gx as qt,bz as Wt,V as Ut,fm as Sl,jh as Nt,hy as At,hY as Yl,an as fe,cf as Ae,$ as xt,gq as Fl,kX as hl,h$ as Ol,ad as He,bW as Pt,a3 as z,hG as ht,i as St,kY as it,kZ as Tl,fl as Ot,hC as Rl,hD as Ul,h_ as Tt,ds as zl,ao as Nl,hP as Al,k_ as Ll,kJ as Lt,k$ as jl,l0 as Kl,aY as Bl,a2 as Hl,av as ut,bd as Gl,l1 as ql,j8 as Wl,a8 as Xl,a$ as Jl,l2 as Zl,ba as Ql,l3 as ea,it as ta,im as jt,io as Kt,ja as la,l4 as aa,jj as na,jl as oa,jk as sa,ih as ua,fZ as ra,l5 as ia,jm as da,jn as va,ip as ma,il as ca,jo as pa,iq as fa,ir as ya,is as ga,ik as _a,ii as ba,iE as ka,ij as wa,jp as Va,l6 as Ca,l7 as xa,jq as Bt,iv as Ea,h7 as Ht,b3 as $a,ap as Da,aX as ge,gK as Ma,a_ as _e,bb as rt,kR as Ia}from"./DRA9KN5F.js";import{u as Yt,_ as Pa,a as Xt,b as Jt}from"./CbX26EBz.js";import Sa from"./CYKJe2Bk.js";import{t as Ya,a as Rt}from"./DkpDpjnr.js";import{_ as Fa}from"./Dv0nYk-Y.js";import{a as ha}from"./B94p8ToD.js";import{e as Oa}from"./gAYHr7Gr.js";function Ta(n,X=!1,D=!1){const{to:G,value:d,column:x,files:T=[],oldValue:N,maxAttachmentsAllowedInCell:p,showUpgradeToAddMoreAttachmentsInCell:_,markInfoShown:w}=n,E=p||Math.max(1,+n.appInfo.ncMaxAttachmentsAllowed||50)||50,P=bl(_)?_:({totalAttachments:i,avoidShowError:t})=>{if(!(!n.appInfo.ee||i<=E))return t||tt.error(`You can only upload at most ${E} file${E>1?"s":""} to this cell.`),!0};if(d===""&&G!==zt.Attachment)return null;let b=d;try{b=yl.serializeValue(d,{col:x,isMysql:i=>X,isMultipleCellPaste:D}),b=A(b,d)}catch(i){throw i}function A(i,t){switch(G){case zt.Attachment:{const c=ie(N),F=c&&Array.isArray(c)?c:[];if(!t&&!T.length)return F.length?void 0:null;let g=[];if(t){if(!i)return null;g=i}const a={...{...n.appInfo.ee&&{maxNumberOfAttachments:E,maxAttachmentSize:Math.max(1,+n.appInfo.ncAttachmentFieldSize||20)||20,supportedAttachmentMimeTypes:["*"]}},...ie(x==null?void 0:x.meta)},l=[],C=t?g.length:T.length;for(const V of t?g:T){if(n.appInfo.ee){if(P({totalAttachments:F.length+C,forceShowToastMessage:D,avoidShowError:n.isInfoShown})){w==null||w();return}if(V.size>a.maxAttachmentSize*1024*1024){tt.error(`The size of ${V.name} exceeds the maximum file size ${a.maxAttachmentSize} MB.`);continue}if(!a.supportedAttachmentMimeTypes.includes("*")&&!a.supportedAttachmentMimeTypes.includes(V.type)&&!a.supportedAttachmentMimeTypes.includes(V.type.split("/")[0])){tt.error(`${V.name} has the mime type ${V.type} which is not allowed in this column.`);continue}}l.push(V)}if(F.length&&!l.length)return;if(t&&l.length){const V=[];for(const y of l)gl(y)&&V.push({...y,title:_l(y.title,F.concat(V).map(Q=>(Q==null?void 0:Q.title)||(Q==null?void 0:Q.fileName)),y.mimetype)});return JSON.stringify(F.concat(V))}else return T.length&&l.length?l:null}default:return i}}return b}const Ra={class:"flex items-center px-2 gap-2"},Ua={class:"text-tiny"},za={class:"flex px-3 mt-2 flex-col gap-2"},Na={class:"flex"},Aa={class:"flex gap-2"},La={class:"flex items-center gap-2"},ja={key:0,class:"flex gap-2"},Ka={class:"flex items-center gap-2"},Ba={class:"flex items-center gap-2"},Ha={class:"flex gap-3 justify-end"},Ga=Ve({__name:"GeoData",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(Te),x=je(D,"modelValue",G),T=u(at,o(!1)),N=u(Gt,o(!1)),p=u(Se,o(!1)),_=o(!1),w=o(!1),E=R(()=>({latitude:Math.random().toString(36).substring(2,15),longitude:Math.random().toString(36).substring(2,15)})),P=R(()=>!!x.value),[b,A]=(x.value||"").split(";"),i=R(()=>{const[U,h]=(x.value||"").split(";");return U&&h?`${U}; ${h}`:"Set location"}),t=dt({latitude:b,longitude:A}),c=()=>{x.value=Dl(parseFloat(t.latitude),parseFloat(t.longitude)),_.value=!1},F=()=>{_.value=!1,t.latitude=b,t.longitude=A},g=()=>{w.value=!0;const U=k=>{const s=k.coords;t.latitude=`${Ft(s.latitude)}`,t.longitude=`${Ft(s.longitude)}`,w.value=!1},h=k=>{console.error(`ERROR(${k.code}): ${k.message}`),w.value=!1},j={enableHighAccuracy:!0,timeout:2e4,maximumAge:2e3};navigator.geolocation.getCurrentPosition(U,h,j)},M=()=>{const[U,h]=(x.value||"").split(";"),j=`https://www.google.com/maps/search/?api=1&query=${U},${h}`;window.open(j,"_blank","noopener,noreferrer")},a=()=>{const[U,h]=(x.value||"").split(";"),j=`https://www.openstreetmap.org/?mlat=${U}&mlon=${h}#map=15/${U}/${h}`;window.open(j,"_blank","'noopener,noreferrer'")};kl(document,"click",U=>{U.target instanceof HTMLElement&&!U.target.closest(".nc-geodata-picker-overlay")&&(_.value=!1)},!0);const C=U=>{var j,k;if([E.value.latitude,E.value.longitude].includes((j=U.target)==null?void 0:j.id))return;const h=((k=U.clipboardData)==null?void 0:k.getData("text/plain"))||"";if(_.value)try{const s=Ta({value:h,to:d.value.uidt,column:d.value},!1);s&&(t.latitude=s.split(";")[0],t.longitude=s.split(";")[1])}catch(s){if(!(s instanceof Ml))throw s}},V=u(We,o(!1)),y=u(Ye,!1),Q=u(Me,o(!1)),ve=u(nt,o(!1)),de=u(Ie,o(!1)),ue=u(Pe,o(!1)),me=U=>{const h=U.target.value,j=Ft(Number(h));j!==h&&(U.target.id===E.value.latitude?t.latitude=j:U.target.id===E.value.longitude&&(t.longitude=j))};$e(()=>{!V.value&&y&&!Q.value&&ve.value&&!de.value&&vt(()=>{_.value=!0})}),qe(()=>x,(U,h)=>{var j,k;h.value?(t.latitude=(j=h.value)==null?void 0:j.split(";")[0],t.longitude=(k=h.value)==null?void 0:k.split(";")[1]):(t.latitude="",t.longitude="")});const te=U=>{if(U.key==="Escape"&&_.value&&(U.preventDefault(),U.stopImmediatePropagation(),_.value=!1),U.key==="Enter"){if(U.preventDefault(),p.value)return;_.value=!_.value}};return(U,h)=>{const j=ct,k=wl,s=El,le=xl,ae=Cl,f=$l,H=Vl,m=mt;return v(),L("div",{tabindex:"0",class:"focus-visible:outline-none",onPaste:C,onKeydown:te},[pe(m,{visible:e(_),"onUpdate:visible":h[9]||(h[9]=Y=>W(_)?_.value=Y:null),disabled:e(p),"overlay-class-name":"!min-w-[27.25rem]"},{overlay:ye(()=>[ee("div",{class:"flex rounded-md nc-geodata-picker-overlay py-3",onClick:h[8]||(h[8]=r(()=>{},["stop"])),onPaste:C},[pe(H,{layout:"vertical",model:e(t),class:"flex flex-col",onFinish:c},{default:ye(()=>[pe(ae,{class:"flex gap-3 px-3"},{default:ye(()=>[pe(le,{label:U.$t("labels.latitude")},{default:ye(()=>[pe(s,{id:e(E).latitude,value:e(t).latitude,"onUpdate:value":h[0]||(h[0]=Y=>e(t).latitude=Y),"data-testid":"nc-geo-data-latitude",type:"number",step:"0.0000000001",class:"nc-input-shadow !w-50",min:-90,disabled:e(p),required:"",max:90,onBlur:me,onKeydown:h[1]||(h[1]=r(()=>{},["stop"])),onSelectstartCapture:h[2]||(h[2]=r(()=>{},["stop"])),onMousedown:h[3]||(h[3]=r(()=>{},["stop"]))},null,8,["id","value","disabled"])]),_:1},8,["label"]),pe(le,{label:U.$t("labels.longitude")},{default:ye(()=>[pe(s,{id:e(E).longitude,value:e(t).longitude,"onUpdate:value":h[4]||(h[4]=Y=>e(t).longitude=Y),class:"nc-input-shadow !w-50","data-testid":"nc-geo-data-longitude",type:"number",step:"0.0000000001",required:"",min:-180,disabled:e(p),max:180,onBlur:me,onKeydown:h[5]||(h[5]=r(()=>{},["stop"])),onSelectstartCapture:h[6]||(h[6]=r(()=>{},["stop"])),onMousedown:h[7]||(h[7]=r(()=>{},["stop"]))},null,8,["id","value","disabled"])]),_:1},8,["label"])]),_:1}),pe(f),ee("div",za,[ee("div",Na,[ee("div",Aa,[pe(k,{size:"small",type:"secondary",onClick:g},{default:ye(()=>[ee("div",La,[pe(j,{icon:"currentLocation"}),Le(" "+be(U.$t("labels.currentLocation")),1)])]),_:1})]),h[10]||(h[10]=ee("div",{class:"flex-1"},null,-1)),e(x)?(v(),L("div",ja,[pe(k,{type:"secondary",size:"small",onClick:M},{default:ye(()=>[ee("div",Ka,[pe(j,{icon:"ncLogoGoogleMapColored"}),Le(" "+be(U.$t("activity.map.googleMaps")),1)])]),_:1}),pe(k,{type:"secondary",size:"small",onClick:a},{default:ye(()=>[ee("div",Ba,[pe(j,{class:"w-4 h-4",icon:"ncLogoOpenStreetMapColored"}),Le(" "+be(U.$t("activity.map.osm")),1)])]),_:1})])):De("",!0)]),ee("div",Ha,[pe(k,{type:"secondary",size:"small",onClick:F},{default:ye(()=>[Le(be(U.$t("general.cancel")),1)]),_:1}),pe(k,{"html-type":"submit",size:"small","data-testid":"nc-geo-data-save"},{default:ye(()=>[Le(be(U.$t("general.submit")),1)]),_:1})])])]),_:1},8,["model"])],32)]),default:ye(()=>[e(P)?(v(),L("div",{key:1,"data-testid":"nc-geo-data-lat-long-set",tabindex:"1",class:Ee([{"!py-1":!e(ue),"pt-1":e(ue)&&!e(N)},"nc-cell-field h-full w-full flex items-center focus-visible:!outline-none focus:!outline-none"])},be(e(i)),3)):(v(),L("div",{key:0,class:Ee([{"!justify-start !ml-0 ":e(Q)||e(ue),"mt-0.5":e(ue)&&!e(N),"!-mt-0.25":e(ue)&&e(N)},"w-full flex justify-center max-w-64 mx-auto"])},[e(T)&&!e(p)||e(ue)?(v(),B(k,{key:0,size:"xsmall",type:"secondary","data-testid":"nc-geo-data-set-location-button"},{default:ye(()=>[ee("div",Ra,[pe(j,{class:"text-gray-500 h-3.5 w-3.5",icon:"ncMapPin"}),ee("span",Ua,be(e(i)),1)])]),_:1})):De("",!0)],2))]),_:1},8,["visible","disabled"])],32)}}}),qa=Object.assign(Re(Ga,[["__scopeId","data-v-119ca7f3"]]),{__name:"CellGeoData"}),Wa=["title"],Xa=Ve({__name:"Readonly",props:{modelValue:{}},setup(n){const X=R(()=>{if(!n.modelValue)return;const D=se(n.modelValue.toString(),"YYYY");if(D.isValid())return D});return(D,G)=>{var d,x;return v(),L("div",{title:(d=e(X))==null?void 0:d.format("YYYY"),class:"nc-year-picker nc-cell-field tracking-tight truncate"},be(((x=e(X))==null?void 0:x.format("YYYY"))??""),9,Wa)}}}),Ja=Object.assign(Xa,{__name:"CellYearReadonly"}),Za=["title"],Qa=["value","placeholder","readonly"],en={key:1},tn={class:"w-[256px]"},ln=Ve({__name:"Editor",props:{modelValue:{},isPk:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:X}){const D=X,G=u(Et,null),{showNull:d}=pt(),x=u(Te,null),T=u(Se,o(!1)),N=u($t,o(!1)),p=u(at,o(!0)),_=u(he,o(!1)),w=u(Ie,o(!1)),E=u(nt,o(!1)),P=u(Pe,o(!1)),b=u(ft,o(!1)),A=u(Me,o(!1)),i=o(!1),t=o(),c=o(!1),{t:F}=Xe(),g=o(!1),M=o(),a=R({get(){if(!n.modelValue||c.value)return;const k=se(n.modelValue.toString(),"YYYY");if(!k.isValid()){i.value=!0;return}return k},set(k){c.value=!1,C(k),g.value=!1}}),l=o();function C(k){if(!k){if(l.value===k)return;l.value=null,D("update:modelValue",null);return}if(k!=null&&k.isValid()){const s=k.format("YYYY");if(l.value===s)return;l.value=s,D("update:modelValue",k.format("YYYY"))}}Dt(()=>{a.value&&(M.value=a.value)});const V=(k,s=!1,le)=>{const ae=le||k.target.value;if(!ae){M.value=void 0;return}const f=se(ae,"YYYY");f.isValid()&&(M.value=f,s&&C(f))},y=`picker_${Math.floor(Math.random()*99999)}`;Ge(t,k=>{var s,le,ae;(s=k.target)!=null&&s.closest(`.${y}, .nc-${y}`)||((ae=(le=t.value)==null?void 0:le.blur)==null||ae.call(le),g.value=!1)});const Q=k=>{var le,ae,f;const s=(le=k==null?void 0:k.target)==null?void 0:le.value;s&&se(s,"YYYY").isValid()&&V(k,!0,se(se(s).format("YYYY"))),!((ae=k==null?void 0:k.relatedTarget)!=null&&ae.closest(`.${y}, .nc-${y}`)||(f=k==null?void 0:k.target)!=null&&f.closest(`.${y}, .nc-${y}`))&&(g.value=!1)};qe(g,k=>{var s,le;k?(_.value=!0,(le=(s=t.value)==null?void 0:s.focus)==null||le.call(s),Ge(document.querySelector(`.${y}`),ae=>{var f;(f=ae==null?void 0:ae.target)!=null&&f.closest(`.nc-${y}`)||(g.value=!1)})):c.value=!1},{flush:"post"});const ve=R(()=>(P.value||A.value)&&!i.value||E.value&&!d.value&&!i.value&&!lt(x.value)&&p.value||w.value?"YYYY":n.modelValue===null&&d.value?F("general.null").toUpperCase():i.value?F("msg.invalidTime"):""),de=R(()=>a.value&&n.isPk&&!p.value&&!_.value?!1:g.value),ue=()=>{g.value||(g.value=p.value||_.value)},me=(k,s)=>{var le,ae,f,H,m,Y,q,O;switch(k.key!=="Enter"&&k.key!=="Tab"&&k.stopPropagation(),k.key){case"Enter":k.preventDefault(),b.value&&k.stopPropagation(),a.value=M.value,g.value=!s,g.value||(_.value=!1,E.value&&!A.value&&!w.value&&((ae=(le=t.value)==null?void 0:le.blur)==null||ae.call(le)));return;case"Tab":g.value=!1,E.value&&(_.value=!1,(H=(f=t.value)==null?void 0:f.blur)==null||H.call(f));return;case"Escape":if(G){G.trigger();return}s?(g.value=!1,_.value=!1,E.value&&!A.value&&!w.value&&((Y=(m=t.value)==null?void 0:m.blur)==null||Y.call(m))):(_.value=!1,(O=(q=t.value)==null?void 0:q.blur)==null||O.call(q));return;default:!s&&/^[0-9a-z]$/i.test(k.key)&&(g.value=!0)}};Yt(p,k=>{if(!(k.altKey||k.shiftKey)){if(k.metaKey||k.ctrlKey)if(k.key===";")E.value&&!A.value&&!w.value&&(a.value=se(new Date),k.preventDefault());else return;!de.value&&t.value&&/^[0-9a-z]$/i.test(k.key)&&(c.value=!0,t.value.focus(),_.value=!0,g.value=!0)}},{immediate:!0,isGridCell:!0});function te(k){M.value=k,a.value=k,g.value=!1}const U=u(Ye,!1),h=u(We,o(!1)),j=u(Mt,dt({}));return $e(()=>{E.value&&U&&!A.value&&!w.value&&!h.value&&(g.value=!0,vt(()=>{g.value=!0;const k=j.keyboardKey;k&&It(k)&&t.value&&(t.value.value=k)}))}),(k,s)=>{const le=ct,ae=Pa,f=mt;return v(),B(f,{visible:e(de),"auto-close":!1,trigger:["click"],class:Ee(["nc-cell-field",[`nc-${y}`,{"nc-null":k.modelValue===null&&e(d)}]]),"overlay-class-name":`${y} nc-picker-year ${e(g)?"active":""} !min-w-[260px]`},{overlay:ye(()=>[ee("div",tn,[pe(ae,{"page-date":e(M),"onUpdate:pageDate":s[4]||(s[4]=H=>W(M)?M.value=H:null),"selected-date":e(a),"onUpdate:selectedDate":s[5]||(s[5]=H=>W(a)?a.value=H:null),"is-open":e(de),"is-year-picker":"","is-cell-input-field":"",size:"medium"},null,8,["page-date","selected-date","is-open"])])]),default:ye(()=>{var H,m,Y;return[ee("div",ot(k.$attrs,{title:(H=e(a))==null?void 0:H.format("YYYY"),class:"nc-year-picker flex items-center justify-between ant-picker-input relative"}),[e(N)?(v(),L("span",en,be(((Y=e(a))==null?void 0:Y.format("YYYY"))??""),1)):(v(),L("input",{key:0,ref_key:"datePickerRef",ref:t,type:"text",value:((m=e(a))==null?void 0:m.format("YYYY"))??"",placeholder:e(ve),class:"nc-year-input border-none outline-none !text-current bg-transparent !focus:border-none !focus:outline-none !focus:ring-transparent",readonly:e(T),onBlur:Q,onKeydown:s[0]||(s[0]=q=>me(q,e(g))),onMouseup:s[1]||(s[1]=r(()=>{},["stop"])),onMousedown:s[2]||(s[2]=r(()=>{},["stop"])),onClick:ue,onInput:V},null,40,Qa)),e(a)&&!e(T)?(v(),B(le,{key:2,icon:"closeCircle",class:"nc-clear-year-icon nc-action-icon absolute right-0 top-[50%] transform -translate-y-1/2 invisible cursor-pointer",onClick:s[3]||(s[3]=r(q=>te(),["stop"]))})):De("",!0)],16,Za)]}),_:1},8,["visible","class","overlay-class-name"])}}}),an=Object.assign(Re(ln,[["__scopeId","data-v-696d6943"]]),{__name:"CellYearEditor"}),nn=["title"],on=["value","placeholder","readonly"],sn={key:1},un={class:"w-[256px]"},rn=Ve({__name:"Editor",props:{modelValue:{},isPk:{type:Boolean},showCurrentDateOption:{type:[Boolean,String]}},emits:["update:modelValue","currentDate"],setup(n,{emit:X}){const D=X,{t:G}=Xe(),{showNull:d}=pt(),x=u(Te,null),T=u(Se,o(!1)),N=u($t,o(!1)),p=u(Ie,o(!1)),_=u(at,o(!1)),w=u(he,o(!1)),E=u(nt,o(!1)),P=u(Et,null),b=u(Pe,o(!1)),A=u(ft,o(!1)),i=u(Me,o(!1)),t=o(!1),c=o(),F=R(()=>{var m,Y;return((Y=ie((m=x==null?void 0:x.value)==null?void 0:m.meta))==null?void 0:Y.date_format)??"YYYY-MM-DD"}),g=R(()=>Il(F.value)?"month":""),M=o(!1),a=o(!1),l=o(),C=u(Mt,dt({})),V=R({get(){if(!n.modelValue||M.value)return;if(!se(n.modelValue).isValid()){const q=Pl(n.modelValue);if(q)return q;t.value=!0;return}const m=g.value==="month"?F:"YYYY-MM-DD";return se(/^\d+$/.test(n.modelValue)?+n.modelValue:n.modelValue,m)},set(m){M.value=!1,Q(m),a.value=!1}}),y=o();function Q(m){if(!m){if(y.value===m)return;y.value=null,D("update:modelValue",null);return}if(g.value==="month"&&(m=se(m).date(1)),m.isValid()){const Y=m==null?void 0:m.format("YYYY-MM-DD");if(y.value===Y)return;y.value=Y,D("update:modelValue",Y)}}Dt(()=>{V.value&&(l.value=V.value)});const ve=(m,Y=!1,q)=>{const O=q||m.target.value;if(!O){l.value=void 0;return}const ne=se(O,F.value);ne.isValid()&&(l.value=ne,Y&&Q(ne))},de=`picker_${Math.floor(Math.random()*99999)}`;Ge(c,m=>{var Y,q,O;(Y=m.target)!=null&&Y.closest(`.${de}, .nc-${de}`)||((O=(q=c.value)==null?void 0:q.blur)==null||O.call(q),a.value=!1)});const ue=m=>{var q,O,ne;const Y=(q=m==null?void 0:m.target)==null?void 0:q.value;Y&&se(Y,F.value).isValid()&&ve(m,!0),!((O=m==null?void 0:m.relatedTarget)!=null&&O.closest(`.${de}, .nc-${de}`)||(ne=m==null?void 0:m.target)!=null&&ne.closest(`.${de}, .nc-${de}`))&&(a.value=!1)},me=()=>{a.value=!0};qe(a,m=>{var Y,q;m?(w.value=!0,(q=(Y=c.value)==null?void 0:Y.focus)==null||q.call(Y),Ge(document.querySelector(`.${de}`),O=>{var ne;(ne=O==null?void 0:O.target)!=null&&ne.closest(`.nc-${de}`)||(a.value=!1)})):M.value=!1},{flush:"post"});const te=R(()=>(b.value||i.value)&&!t.value||E.value&&!d.value&&!t.value&&!lt(x.value)&&_.value||p.value?F.value:n.modelValue===null&&d.value?G("general.null").toUpperCase():t.value?G("msg.invalidDate"):""),U=R(()=>T.value||(T.value||V.value&&n.isPk)&&!_.value&&!w.value?!1:a.value),h=u(qt,null),j=()=>{T.value||a.value||(a.value=_.value||w.value)};$e(()=>{h==null||h.on(j)}),Wt(()=>{h==null||h.off(j)});const k=()=>{h||j()},s=(m,Y)=>{var q,O,ne,J,Ce,Oe,xe,Ke;switch(m.key!=="Enter"&&m.key!=="Tab"&&m.stopPropagation(),m.key){case"Enter":m.preventDefault(),A.value&&m.stopPropagation(),V.value=l.value,a.value=!Y,a.value||(w.value=!1,E.value&&!i.value&&!p.value&&((O=(q=c.value)==null?void 0:q.blur)==null||O.call(q)));return;case"Escape":if(P){P.trigger();return}Y?(a.value=!1,w.value=!1,E.value&&!i.value&&!p.value&&((J=(ne=c.value)==null?void 0:ne.blur)==null||J.call(ne))):(w.value=!1,(Oe=(Ce=c.value)==null?void 0:Ce.blur)==null||Oe.call(Ce));return;case"Tab":a.value=!1,E.value&&(w.value=!1,(Ke=(xe=c.value)==null?void 0:xe.blur)==null||Ke.call(xe));return;default:!Y&&/^[0-9a-z]$/i.test(m.key)&&(a.value=!0)}};Yt(_,m=>{if(!(m.altKey||m.shiftKey)){if(m.metaKey||m.ctrlKey)if(m.key===";")E.value&&!i.value&&!p.value&&(V.value=se(new Date),m.preventDefault());else return;!U.value&&c.value&&/^[0-9a-z]$/i.test(m.key)&&(M.value=!0,c.value.focus(),w.value=!0,a.value=!0),!U.value&&m.key==="Enter"&&(w.value=!0,a.value=!0)}},{immediate:!0,isGridCell:!0});function le(m){l.value=m,V.value=m,a.value=!1}const ae=m=>{D("currentDate",m),a.value=!1},f=u(Ye,!1),H=u(We,o(!1));return $e(()=>{E.value&&f&&!i.value&&!p.value&&!H.value&&(a.value=!0,vt(()=>{const m=C.keyboardKey;m&&It(m)&&c.value&&(c.value.value=m),a.value=!0}))}),(m,Y)=>{const q=ct,O=Xt,ne=mt;return v(),B(ne,{visible:e(U),"auto-close":!1,trigger:["click"],class:Ee(["nc-cell-field",[`nc-${de}`,{"nc-null":m.modelValue===null&&e(d)}]]),"overlay-class-name":`${de} nc-picker-date ${e(a)?"active":""} !min-w-[260px]`},{overlay:ye(()=>[ee("div",un,[e(g)==="month"?(v(),B(O,{key:0,"page-date":e(l),"onUpdate:pageDate":Y[4]||(Y[4]=J=>W(l)?l.value=J:null),"selected-date":e(V),"onUpdate:selectedDate":Y[5]||(Y[5]=J=>W(V)?V.value=J:null),"is-open":e(U),type:"month",size:"medium","show-current-date-option":m.showCurrentDateOption,onCurrentDate:ae},null,8,["page-date","selected-date","is-open","show-current-date-option"])):(v(),B(O,{key:1,"page-date":e(l),"onUpdate:pageDate":Y[6]||(Y[6]=J=>W(l)?l.value=J:null),"is-open":e(U),"selected-date":e(V),type:"date",size:"medium","show-current-date-option":m.showCurrentDateOption,"onUpdate:selectedDate":le,onCurrentDate:ae},null,8,["page-date","is-open","selected-date","show-current-date-option"]))])]),default:ye(()=>{var J,Ce,Oe;return[ee("div",ot(m.$attrs,{title:(J=e(V))==null?void 0:J.format(e(F)),class:"nc-date-picker h-full flex items-center justify-between ant-picker-input relative"}),[e(N)?(v(),L("span",sn,be(((Oe=e(V))==null?void 0:Oe.format(e(F)))??""),1)):(v(),L("input",{key:0,ref_key:"datePickerRef",ref:c,type:"text",value:((Ce=e(V))==null?void 0:Ce.format(e(F)))??"",placeholder:e(te),class:"nc-date-input border-none outline-none !text-current bg-transparent !focus:border-none !focus:outline-none !focus:ring-transparent",readonly:e(T),onBlur:ue,onFocus:me,onKeydown:Y[0]||(Y[0]=xe=>s(xe,e(a))),onMouseup:Y[1]||(Y[1]=r(()=>{},["stop"])),onMousedown:Y[2]||(Y[2]=r(()=>{},["stop"])),onClick:k,onInput:ve},null,40,on)),e(V)&&!e(T)?(v(),B(q,{key:2,icon:"closeCircle",class:"nc-clear-date-icon nc-action-icon absolute right-0 top-[50%] transform -translate-y-1/2 invisible cursor-pointer",onClick:Y[3]||(Y[3]=r(xe=>le(),["stop"]))})):De("",!0)],16,nn)]}),_:1},8,["visible","class","overlay-class-name"])}}}),dn=Object.assign(Re(rn,[["__scopeId","data-v-c47e8d92"]]),{__name:"CellDateEditor"}),vn=["title"],mn=["value","placeholder","readonly"],cn=["value","placeholder","readonly"],pn=Ve({__name:"Editor",props:{modelValue:{},isPk:{type:Boolean},showCurrentDateOption:{type:[Boolean,String]},isUpdatedFromCopyNPaste:{}},emits:["update:modelValue","currentDate"],setup(n,{emit:X}){var gt,_t;const D=X,{isXcdbBase:G}=Ut(),{showNull:d}=pt(),x=u(Se,o(!1)),T=u($t,o(!1)),N=u(at,o(!1)),p=u(he,o(!1)),_=u(Ye,!1),w=u(We,o(!1)),E=u(Et,null),P=u(nt,o(!1)),b=u(Pe,o(!1)),A=u(Mt,dt({})),i=u(ft,o(!1)),{t}=Xe(),c=u(Ie,o(!1)),F=u(Me,o(!1)),g=u(Te),M=o(!1),a=o(),l=o(),{width:C}=Sl(l),V=R(()=>{var re,oe,ke,we;const I=((oe=ie((re=g==null?void 0:g.value)==null?void 0:re.meta))==null?void 0:oe.date_format)??Nt[0],$=((we=ie((ke=g==null?void 0:g.value)==null?void 0:ke.meta))==null?void 0:we.time_format)??At[0];return`${I} ${$}`}),y=R(()=>{var I,$;return(($=ie((I=g==null?void 0:g.value)==null?void 0:I.meta))==null?void 0:$.date_format)??Nt[0]}),Q=R(()=>{var I,$;return(($=ie((I=g==null?void 0:g.value)==null?void 0:I.meta))==null?void 0:$.time_format)??At[0]}),{dayjsTz:ve,timezonize:de}=Yl((_t=(gt=g.value)==null?void 0:gt.meta)==null?void 0:_t.timezone);let ue=n.modelValue?de(se(n.modelValue)):void 0;const me=o(!1),te=o(!1),U=o(),h=o(!0),j=R({get(){var $;if(!n.modelValue||me.value)return;if(!se(n.modelValue).isValid()){M.value=!0;return}const I=G(g.value.source_id);if(g.value.title in(n.isUpdatedFromCopyNPaste??{}))return ue=de(se(n.modelValue)),ue;if(!I)return/^\d+$/.test(n.modelValue)?de(se(+n.modelValue)):de(se(n.modelValue));if(($=g==null?void 0:g.value)!=null&&$.cdf)return de(se(n.modelValue));if(ue){const re=ue;return ue=void 0,re}return de(se(n.modelValue))},set(I){me.value=!1,le(I)}}),k=R(()=>{}),s=o();function le(I,$=!1){var re;if(!I){if(s.value===null)return;s.value=null,D("update:modelValue",null);return}if(!($&&((re=j.value)!=null&&re.isSame(I)))&&I.isValid()){ue=ve(I);const oe=ve(I).utc().format("YYYY-MM-DD HH:mm:ssZ");if(s.value===oe)return;s.value=oe,D("update:modelValue",oe)}}Dt(()=>{j.value&&(U.value=j.value)});const ae=R(()=>lt(g.value)||x.value||j.value&&n.isPk),f=R(()=>x.value||ae.value||x.value||j.value&&n.isPk?!1:te.value&&(N.value||p.value)),H=(I,$,re=!1)=>{let oe=I.target.value;if($){if(!oe){U.value=void 0;return}if(se(oe,y.value).isValid()){const ke=ve(oe,y.value);j.value?U.value=ve(`${ke.format("YYYY-MM-DD")} ${j.value.format(Q.value)}`):U.value=ke,re&&le(U.value,!0)}}if(!$){if(!oe){U.value=ve(ve().format("YYYY-MM-DD"));return}if(oe=ie(g.value.meta).is12hrFormat?oe.trim().toUpperCase().replace(/(AM|PM)$/," $1").replace(/\s+/g," "):oe.trim(),se(oe,ie(g.value.meta).is12hrFormat?Rt[Q.value]:Q.value).isValid()){const we=ve(oe,ie(g.value.meta).is12hrFormat?Rt[Q.value]:Q.value);U.value=ve(`${(U.value??ve()).format("YYYY-MM-DD")} ${we.format(Q.value)}`),re&&le(U.value,!0)}}},m=`picker_${Math.floor(Math.random()*99999)}`;Ge(a,I=>{var $,re,oe,ke,we;($=I.target)!=null&&$.closest(`.${m}, .nc-${m}`)||((oe=(re=a.value)==null?void 0:re.blur)==null||oe.call(re),(we=(ke=l.value)==null?void 0:ke.blur)==null||we.call(ke),te.value=!1)});const Y=I=>{h.value=I,te.value=!0},q=(I,$)=>{H(I,$,!0)};qe(te,I=>{var $,re,oe,ke;I?(p.value=!0,h.value?(re=($=a.value)==null?void 0:$.focus)==null||re.call($):(ke=(oe=l.value)==null?void 0:oe.focus)==null||ke.call(oe),Ge(document.querySelector(`.${m}`),we=>{var Fe;(Fe=we==null?void 0:we.target)!=null&&Fe.closest(`.nc-${m}`)||(te.value=!1)})):me.value=!1},{flush:"post"});const O=R(()=>(b.value||F.value)&&!M.value||P.value&&!d.value&&!M.value&&!lt(g.value)&&N.value||c.value?{dateTime:V.value,date:y.value,time:ie(g.value.meta).is12hrFormat?`${Q.value} AM`:Q.value}:n.modelValue===null&&d.value?t("general.null").toUpperCase():M.value?t("msg.invalidDate"):""),ne=u(qt,null),J=()=>{x.value||te.value||(te.value=N.value||p.value)};Wt(()=>{ne==null||ne.off(J)});const Ce=(I,$=!1)=>{h.value=$,!ne&&J()},Oe=(I,$,re=!1)=>{var oe,ke,we,Fe,Ue,Ne,ze,Be,ce,bt,Je,kt,Ze,wt,Qe,Vt,et,Ct;switch(I.key!=="Enter"&&I.stopPropagation(),I.key){case"Enter":I.preventDefault(),i.value&&I.stopPropagation(),j.value=U.value,re?((Ne=(Ue=a.value)==null?void 0:Ue.blur)==null||Ne.call(Ue),te.value=!1,p.value=!1):(I.stopPropagation(),(ke=(oe=l.value)==null?void 0:oe.blur)==null||ke.call(oe),h.value=!1,(Fe=(we=a.value)==null?void 0:we.focus)==null||Fe.call(we),J());return;case"Escape":if(E){E.trigger();return}$?(te.value=!1,p.value=!1,P.value&&!F.value&&!c.value&&(re?(Be=(ze=a.value)==null?void 0:ze.blur)==null||Be.call(ze):(bt=(ce=l.value)==null?void 0:ce.blur)==null||bt.call(ce))):(p.value=!1,re?(kt=(Je=a.value)==null?void 0:Je.blur)==null||kt.call(Je):(wt=(Ze=l.value)==null?void 0:Ze.blur)==null||wt.call(Ze));return;case"Tab":te.value=!1,P.value&&!F.value&&!c.value&&(re?(Vt=(Qe=a.value)==null?void 0:Qe.blur)==null||Vt.call(Qe):(Ct=(et=l.value)==null?void 0:et.blur)==null||Ct.call(et),I.shiftKey&&re||!I.shiftKey&&!re?p.value=!1:I.stopPropagation());return;default:!$&&/^[0-9a-z]$/i.test(I.key)&&(te.value=!0)}};Yt(N,I=>{var $,re;if(!(I.altKey||I.shiftKey)){if(I.metaKey||I.ctrlKey)if(I.key===";")P.value&&!F.value&&!c.value&&(j.value=ve(new Date),I.preventDefault());else return;!f.value&&(a.value||l.value)&&/^[0-9a-z]$/i.test(I.key)&&(me.value=!0,h.value?($=a.value)==null||$.focus():(re=l.value)==null||re.focus(),p.value=!0,te.value=!0)}},{immediate:!0,isGridCell:!0}),qe(p,I=>{P.value&&I&&!te.value&&(h.value=!0,te.value=!0)});function xe(I){if(I&&j.value){const $=ve(`${I.format("YYYY-MM-DD")} ${j.value.format(Q.value)}`);U.value=$,j.value=$}else U.value=I,j.value=I;te.value=!1}function Ke(I){if(I.isValid()){if(j.value){const $=ve(`${j.value.format("YYYY-MM-DD")} ${I.format("HH:mm")}:00`);U.value=$,j.value=$}else{const $=ve(`${ve().format("YYYY-MM-DD")} ${I.format("HH:mm")}:00`);U.value=$,j.value=$}te.value=!1}}const Z=R(()=>{var I,$;return($=(I=Ya)==null?void 0:I[Q.value])==null?void 0:$[ie(g.value.meta).is12hrFormat?12:24]}),S=R(()=>{var I;return((I=j.value)==null?void 0:I.format(ie(g.value.meta).is12hrFormat?Rt[Q.value]:Q.value))??""}),yt=I=>{te.value=!1,D("currentDate",I)};$e(()=>{P.value&&_&&!F.value&&!c.value&&!w.value&&(h.value=!0,te.value=!0,vt(()=>{const I=A.keyboardKey;I&&It(I)&&a.value&&(a.value.value=I),h.value=!0,te.value=!0})),ne==null||ne.on(J)});const st=R(()=>F.value||b.value||!P.value||c.value);return(I,$)=>{const re=Xt,oe=Jt,ke=mt,we=ct;return v(),L("div",ot(I.$attrs,{class:"nc-cell-field relative flex items-center gap-2"}),[pe(ke,{visible:e(f),placement:e(h)?"bottomLeft":"bottomRight","auto-close":!1,trigger:["click"],class:Ee(["nc-cell-picker-datetime",[`nc-${m}`,{"nc-null":I.modelValue===null&&e(d)}]]),"overlay-class-name":`${m} nc-picker-datetime ${e(te)?"active":""} !min-w-[0] overflow-hidden`},{overlay:ye(()=>{var Fe,Ue,Ne,ze;return[ee("div",{class:"min-w-[120px]",style:Ae({width:e(h)?"256px":`${e(C)+8}px`})},[e(h)?(v(),B(re,{key:0,"page-date":e(U),"onUpdate:pageDate":$[14]||($[14]=Be=>W(U)?U.value=Be:null),"selected-date":e(j),"is-open":e(f),type:"date",size:"medium",timezone:(Ue=(Fe=e(g))==null?void 0:Fe.meta)==null?void 0:Ue.timezone,"show-current-date-option":I.showCurrentDateOption,"onUpdate:selectedDate":xe,onCurrentDate:yt},null,8,["page-date","selected-date","is-open","timezone","show-current-date-option"])):(v(),B(oe,{key:1,"selected-date":e(j),"min-granularity":30,"is-min-granularity-picker":"","is12hr-format":!!("parseProp"in I?I.parseProp:e(ie))(e(g).meta).is12hrFormat,"is-open":e(f),"show-current-date-option":I.showCurrentDateOption,timezone:(ze=(Ne=e(g))==null?void 0:Ne.meta)==null?void 0:ze.timezone,"onUpdate:selectedDate":Ke,onCurrentDate:yt},null,8,["selected-date","is12hr-format","is-open","show-current-date-option","timezone"]))],4)]}),default:ye(()=>{var Fe,Ue,Ne,ze,Be;return[ee("div",{title:(Fe=e(j))==null?void 0:Fe.format(e(V)),class:Ee(["nc-date-picker ant-picker-input flex items-center relative gap-2 !truncate !w-auto",{"max-w-[calc(100%_-_70px)]":e(st)}])},[ee("div",{class:Ee(["flex rounded-md box-border w-[60%] max-w-[110px]",{"py-0":e(b),"py-0.5":!e(b)&&!e(ae),"px-1":!e(ae)}])},[e(T)?(v(),L(fe,{key:1},[Le(be(((ze=e(j))==null?void 0:ze.format(e(y)))??""),1)],64)):(v(),L("input",{key:0,ref_key:"datePickerRef",ref:a,value:((Ue=e(j))==null?void 0:Ue.format(e(y)))??"",placeholder:typeof e(O)=="string"?e(O):(Ne=e(O))==null?void 0:Ne.date,class:"nc-date-input w-full !truncate border-transparent outline-none !text-current !bg-transparent !focus:border-none !focus:ring-transparent",readonly:e(ae),onFocus:$[0]||($[0]=ce=>Y(!0)),onBlur:$[1]||($[1]=ce=>q(ce,!0)),onKeydown:$[2]||($[2]=ce=>Oe(ce,e(f),!0)),onMouseup:$[3]||($[3]=r(()=>{},["stop"])),onMousedown:$[4]||($[4]=r(()=>{},["stop"])),onClick:$[5]||($[5]=r(ce=>Ce(ce,!0),["stop"])),onInput:$[6]||($[6]=ce=>H(ce,!0))},null,40,mn))],2),ee("div",{class:Ee(["rounded-md box-border",[`${e(Z)}`,{"py-0":e(b),"py-0.5":!e(b)&&!e(ae),"px-1":!e(ae)}]])},[e(T)?(v(),L(fe,{key:1},[Le(be(e(S)),1)],64)):(v(),L("input",{key:0,ref_key:"timePickerRef",ref:l,value:e(S),placeholder:typeof e(O)=="string"?e(O):(Be=e(O))==null?void 0:Be.time,class:"nc-time-input w-full !truncate border-transparent outline-none !text-current !bg-transparent !focus:border-none !focus:ring-transparent",readonly:e(ae),onFocus:$[7]||($[7]=ce=>Y(!1)),onBlur:$[8]||($[8]=ce=>q(ce,!1)),onKeydown:$[9]||($[9]=ce=>Oe(ce,e(te))),onMouseup:$[10]||($[10]=r(()=>{},["stop"])),onMousedown:$[11]||($[11]=r(()=>{},["stop"])),onClick:$[12]||($[12]=r(ce=>Ce(ce,!1),["stop"])),onInput:$[13]||($[13]=ce=>H(ce,!1))},null,40,cn))],2)],10,vn)]}),_:1},8,["visible","placement","class","overlay-class-name"]),e(k)?(v(),L("div",{key:0,class:Ee(["nc-timezone-field text-nc-content-gray-muted whitespace-nowrap text-tiny transition-all duration-300 text-right flex-1",{"nc-flex-1":e(st)}])},be(e(k)),3)):De("",!0),e(j)&&e(st)&&!e(x)?(v(),B(we,{key:1,icon:"closeCircle",class:"nc-clear-date-time-icon nc-action-icon h-4 w-4 absolute right-0 top-[50%] transform -translate-y-1/2 invisible cursor-pointer",onClick:$[15]||($[15]=r(Fe=>xe(),["stop"]))})):De("",!0)],16)}}}),fn=Object.assign(Re(pn,[["__scopeId","data-v-5e79bd81"]]),{__name:"CellDateTimeEditor"}),yn=["title"],gn=["value","placeholder","readonly"],_n={key:1},bn={class:"min-w-[120px]"},kn={key:0,class:"absolute inset-0 z-90 cursor-pointer"},wn=Ve({__name:"Editor",props:{modelValue:{},isPk:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:X}){const D=X,{isMysql:G}=Ut(),{showNull:d}=pt(),x=u(Se,o(!1)),T=u($t,o(!1)),N=u(at,o(!1)),p=u(he,o(!1)),_=u(Ie,o(!1)),w=u(nt,o(!1)),E=u(Pe,o(!1)),P=u(ft,o(!1)),b=u(Me,o(!1)),A=u(Ye,!1),i=u(Et,null),t=u(We,o(!1)),c=u(Te),F=G(c.value.source_id)?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm:ssZ",g=o(!1),M=o(),a=o(!1),{t:l}=Xe(),C=o(!1),V=o(),y=R({get(){if(!n.modelValue||a.value)return;let f=se(n.modelValue);if(f.isValid()||(f=se(n.modelValue,"HH:mm:ss")),f.isValid()||(f=se(`1999-01-01 ${n.modelValue}`)),!f.isValid()){g.value=!0;return}return f},set(f){a.value=!1,ve(f)}}),Q=o();function ve(f){if(!f){if(Q.value===f)return;Q.value=null,D("update:modelValue",null);return}if(f.isValid()){const H=f.format("HH:mm"),m=se(`1999-01-01 ${H}:00`),Y=m.format(F);if(Q.value===Y)return;Q.value=Y,D("update:modelValue",m.format(F))}}Dt(()=>{y.value&&(V.value=y.value)});const de=(f,H=!1)=>{let m=f.target.value;if(!m){V.value=void 0;return}m=ie(c.value.meta).is12hrFormat?m.trim().toUpperCase().replace(/(AM|PM)$/," $1").replace(/\s+/g," "):m.trim();const Y=se(m,ie(c.value.meta).is12hrFormat?"hh:mm A":"HH:mm");Y.isValid()&&(V.value=se(`${se().format("YYYY-MM-DD")} ${Y.format("HH:mm")}`),H&&ve(V.value))},ue=`picker_${Math.floor(Math.random()*99999)}`;Ge(M,f=>{var H,m,Y;(H=f.target)!=null&&H.closest(`.${ue}, .nc-${ue}`)||((Y=(m=M.value)==null?void 0:m.blur)==null||Y.call(m),C.value=!1)});const me=f=>{var H,m;de(f,!0),!((H=f==null?void 0:f.relatedTarget)!=null&&H.closest(`.${ue}, .nc-${ue}`)||(m=f==null?void 0:f.target)!=null&&m.closest(`.${ue}, .nc-${ue}`))&&(C.value=!1)},te=()=>{C.value=!0};qe(C,f=>{var H,m;f?(p.value=!0,(m=(H=M.value)==null?void 0:H.focus)==null||m.call(H),Ge(document.querySelector(`.${ue}`),Y=>{var q;(q=Y==null?void 0:Y.target)!=null&&q.closest(`.nc-${ue}`)||(C.value=!1)})):a.value=!1},{flush:"post"}),qe(p,f=>{w.value&&f&&!C.value&&(C.value=!0)});const U=R(()=>(E.value||b.value)&&!g.value||w.value&&!d.value&&!g.value&&!lt(c.value)&&N.value||_.value?ie(c.value.meta).is12hrFormat?"hh:mm AM":"HH:mm":n.modelValue===null&&d.value?l("general.null").toUpperCase():g.value?l("msg.invalidTime"):""),h=R(()=>x.value||(x.value||y.value&&n.isPk)&&!N.value&&!p.value?!1:C.value),j=()=>{x.value||C.value||(C.value=N.value||p.value)},k=(f,H)=>{var m,Y,q,O,ne,J,Ce,Oe;switch(f.key!=="Enter"&&f.stopPropagation(),f.key){case"Enter":f.preventDefault(),P.value&&f.stopPropagation(),y.value=V.value,C.value=!H,C.value||w.value&&!b.value&&!_.value&&(p.value=!1,(Y=(m=M.value)==null?void 0:m.blur)==null||Y.call(m));return;case"Tab":C.value=!1,w.value&&!b.value&&!_.value&&(p.value=!1,(O=(q=M.value)==null?void 0:q.blur)==null||O.call(q));return;case"Escape":if(i){i.trigger();return}H?(C.value=!1,w.value&&!b.value&&!_.value&&(p.value=!1,(J=(ne=M.value)==null?void 0:ne.blur)==null||J.call(ne))):(p.value=!1,(Oe=(Ce=M.value)==null?void 0:Ce.blur)==null||Oe.call(Ce));return;default:if(!H&&/^[0-9a-z]$/i.test(f.key)){C.value=!0;const xe=f.target,Ke=xe.value;xt(()=>{xe.value=Ke})}}};Yt(N,f=>{if(!(f.altKey||f.shiftKey)){if(f.metaKey||f.ctrlKey)if(f.key===";")w.value&&!b.value&&!_.value&&(y.value=se(new Date),f.preventDefault());else return;!h.value&&M.value&&/^[0-9a-z]$/i.test(f.key)&&(a.value=!0,M.value.focus(),p.value=!0,C.value=!0)}},{immediate:!0,isGridCell:!0});function s(f){if(f||(V.value=void 0,y.value=void 0),!!(f!=null&&f.isValid())){if(y.value){const H=se(`${y.value.format("YYYY-MM-DD")} ${f.format("HH:mm")}:00`);V.value=H,y.value=H}else{const H=se(`${se().format("YYYY-MM-DD")} ${f.format("HH:mm")}:00`);V.value=H,y.value=H}C.value=!1}}const le=R(()=>{var f;return((f=y.value)==null?void 0:f.format(ie(c.value.meta).is12hrFormat?"hh:mm A":"HH:mm"))??""}),ae=u(Mt,dt({}));return $e(()=>{w.value&&A&&!b.value&&!_.value&&!t.value&&(C.value=!0,vt(()=>{C.value=!0;const f=ae.keyboardKey;f&&It(f)&&M.value&&(M.value.value=f)}))}),(f,H)=>{const m=ct,Y=Jt,q=mt;return v(),L(fe,null,[pe(q,{visible:e(h),"auto-close":!1,trigger:["click"],class:Ee(["nc-cell-field",[`nc-${ue}`,{"nc-null":f.modelValue===null&&e(d)}]]),"overlay-class-name":`${ue} nc-picker-time ${e(h)?"active":""} !min-w-[0]`},{overlay:ye(()=>[ee("div",bn,[pe(Y,{"selected-date":e(y),"min-granularity":30,"is-min-granularity-picker":"","is12hr-format":!!("parseProp"in f?f.parseProp:e(ie))(e(c).meta).is12hrFormat,"is-open":e(h),"onUpdate:selectedDate":s},null,8,["selected-date","is12hr-format","is-open"])])]),default:ye(()=>{var O;return[ee("div",ot(f.$attrs,{title:(O=e(y))==null?void 0:O.format("HH:mm"),class:"nc-time-picker h-full flex items-center justify-between ant-picker-input relative"}),[e(T)?(v(),L("span",_n,be(e(le)),1)):(v(),L("input",{key:0,ref_key:"datePickerRef",ref:M,type:"text",value:e(le),placeholder:e(U),class:"nc-time-input border-none outline-none !text-current bg-transparent !focus:border-none !focus:outline-none !focus:ring-transparent",readonly:e(x),onBlur:me,onFocus:te,onKeydown:H[0]||(H[0]=ne=>k(ne,e(h))),onMouseup:H[1]||(H[1]=r(()=>{},["stop"])),onMousedown:H[2]||(H[2]=r(()=>{},["stop"])),onClick:j,onInput:de},null,40,gn)),e(y)&&!e(x)?(v(),B(m,{key:2,icon:"closeCircle",class:"nc-clear-time-icon nc-action-icon absolute right-0 top-[50%] transform -translate-y-1/2 invisible cursor-pointer",onClick:H[3]||(H[3]=r(ne=>s(),["stop"]))})):De("",!0)],16,yn)]}),_:1},8,["visible","class","overlay-class-name"]),!e(p)&&e(w)?(v(),L("div",kn)):De("",!0)],64)}}}),Vn=Object.assign(Re(wn,[["__scopeId","data-v-8a007b1f"]]),{__name:"CellTimeEditor"}),Cn={class:"duration-cell-wrapper"},xn=["placeholder","disabled"],En={key:0,class:"nc-cell-field duration-warning"},$n=Ve({__name:"Editor",props:{modelValue:{},showValidationError:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(Te),x=u(Ie,o(!1)),T=u(Se,o(!1)),N=u(Me,o(!1)),p=u(Pe),_=u(Ye,!1),w=o(!1),E=o(0),P=o(!1),b=o(),A=R(()=>{var a,l;return((l=ie((a=d==null?void 0:d.value)==null?void 0:a.meta))==null?void 0:l.duration)||0}),i=R(()=>Fl[A.value].title),t=o(),c=R({get:()=>t.value===void 0?Ol(D.modelValue,A.value):t.value,set:a=>{t.value=a,P.value=!0;const l=hl(a,A.value);l._isValid&&(E.value=l._sec),a?G("update:modelValue",E.value):(G("update:modelValue",null),P.value=!1,t.value=void 0)}}),F=a=>{a=a||window.event;const l=a.which?a.which:a.keyCode,C=l>31,V=l<48||l>57;if(C&&V&&l!==58&&l!==46)w.value=!0,a.preventDefault();else return w.value=!1,!0},g=()=>{P.value&&G("update:modelValue",E.value),P.value=!1,t.value=void 0},M=a=>{!N.value&&!x.value&&!p.value&&(b.value=a,xt(()=>{var l;(l=b.value)==null||l.focus()}))};return $e(()=>{_&&!N.value&&!x.value&&!p.value&&xt(()=>{var a;(a=b.value)==null||a.focus()})}),(a,l)=>(v(),L("div",Cn,[He(ee("input",{ref:M,"onUpdate:modelValue":l[0]||(l[0]=C=>W(c)?c.value=C:null),class:"nc-cell-field w-full !border-none !outline-none py-1",placeholder:e(i),disabled:e(T),onBlur:g,onKeypress:l[1]||(l[1]=C=>F(C)),onKeydown:[z(g,["enter"]),l[2]||(l[2]=z(r(()=>{},["stop"]),["down"])),l[3]||(l[3]=z(r(()=>{},["stop"]),["left"])),l[4]||(l[4]=z(r(()=>{},["stop"]),["right"])),l[5]||(l[5]=z(r(()=>{},["stop"]),["up"])),l[6]||(l[6]=z(r(()=>{},["stop"]),["delete"])),l[7]||(l[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:l[8]||(l[8]=r(()=>{},["stop"])),onMousedown:l[9]||(l[9]=r(()=>{},["stop"]))},null,40,xn),[[Pt,e(c)]]),e(w)&&D.showValidationError?(v(),L("div",En,be(a.$t("msg.plsEnterANumber")),1)):De("",!0)]))}}),Dn=Object.assign(Re($n,[["__scopeId","data-v-a6157b1b"]]),{__name:"CellDurationEditor"}),Mn=["disabled"],In={key:0,class:"nc-cell-field nc-cell-link-preview absolute inset-0 flex items-center max-w-full overflow-hidden pointer-events-none"},Pn=Ve({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,{t:d}=Xe(),x=u(he,o(!1)),T=u(Se,o(!1)),N=u(Te),p=u(Ie,o(!1)),_=u(Me,o(!1)),w=u(Pe),E=u(Ye,!1),P=u(We,o(!1)),b=o(D.modelValue),A=o(),i=o(!1),t=R({get:()=>D.modelValue,set:l=>{var C;b.value=l,(!((C=ie(N.value.meta))!=null&&C.validate)||l&&ht(l)||!l||w.value||p.value)&&G("update:modelValue",l)}}),c=l=>{var C;!_.value&&!p.value&&!w.value&&(A.value=l,(C=A.value)==null||C.focus())},F=l=>{var V;const C=((V=l.clipboardData)==null?void 0:V.getData("text"))??"";ie(N.value.meta).validate?t.value=Tl(C)||C:t.value=C};St(()=>{var l;if(!w.value&&((l=ie(N.value.meta))!=null&&l.validate)&&(!x.value||E)&&b.value&&!ht(b.value)){p.value||tt.error(d("msg.error.invalidEmail")),b.value=void 0;return}b.value=D.modelValue}),$e(()=>{var l;E&&!_.value&&!p.value&&!w.value&&!P.value&&((l=A.value)==null||l.focus())});const g=()=>{x.value=!1,i.value=!1},M=R(()=>t.value&&ht(t.value)),a=R(()=>(_.value||w.value)&&!i.value&&M.value);return(l,C)=>{const V=Fa;return v(),L(fe,null,[He(ee("input",ot(l.$attrs,{ref:c,"onUpdate:modelValue":C[0]||(C[0]=y=>W(t)?t.value=y:null),class:["nc-cell-field w-full outline-none py-1",{"nc-text-transparent":e(a)}],disabled:e(T),onBlur:g,onFocus:C[1]||(C[1]=y=>i.value=!0),onKeydown:[C[2]||(C[2]=z(r(()=>{},["stop"]),["down"])),C[3]||(C[3]=z(r(()=>{},["stop"]),["left"])),C[4]||(C[4]=z(r(()=>{},["stop"]),["right"])),C[5]||(C[5]=z(r(()=>{},["stop"]),["up"])),C[6]||(C[6]=z(r(()=>{},["stop"]),["delete"])),C[7]||(C[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:C[8]||(C[8]=r(()=>{},["stop"])),onMousedown:C[9]||(C[9]=r(()=>{},["stop"])),onPaste:r(F,["prevent"])}),null,16,Mn),[[it,e(t)]]),e(a)?(v(),L("div",In,[pe(V,{"no-ref":"",class:"truncate text-primary cursor-pointer pointer-events-auto no-user-select",href:`mailto:${e(t)}`,target:"_blank",tabindex:-1},{default:ye(()=>[Le(be(e(t)),1)]),_:1},8,["href"])])):De("",!0)],64)}}}),Sn=Object.assign(Pn,{__name:"CellEmailEditor"}),Yn={class:"flex flex-row items-center justify-between w-full h-full"},Fn=["disabled"],hn={key:0,class:"nc-cell-field nc-cell-link-preview absolute inset-0 flex items-center max-w-full overflow-hidden pointer-events-none"},On=["href"],Tn=Ve({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,{t:d}=Xe(),x=u(Te),T=u(he,o(!1)),N=u(Ie,o(!1)),p=u(Se,o(!1)),_=u(Me,o(!1)),w=u(Pe),E=u(Ye,!1),P=a=>{var l;return(l=a==null?void 0:a.trim)==null?void 0:l.call(a)},b=o(D.modelValue),A=o(),i=o(!1),t=R({get:()=>D.modelValue,set:a=>{var l;b.value=a,(!((l=ie(x.value.meta))!=null&&l.validate)||a&&Ot(P(a))||!a||w.value||N.value)&&G("update:modelValue",a)}}),c=R(()=>{if(!t.value)return"";const a=Rl(t.value??"");return Ot(a)?a:""}),F=a=>{var l;!_.value&&!N.value&&!w.value&&(A.value=a,(l=A.value)==null||l.focus())};St(()=>{var a;if(!w.value&&((a=ie(x.value.meta))!=null&&a.validate)&&(!T.value||E)&&b.value&&!Ot(P(b.value))){N.value||tt.error(d("msg.error.invalidURL")),b.value=void 0;return}b.value=D.modelValue}),$e(()=>{var a;!_.value&&!N.value&&!w.value&&((a=A.value)==null||a.focus())});const g=()=>{T.value=!1,i.value=!1},M=R(()=>(_.value||w.value)&&!i.value&&c.value);return(a,l)=>(v(),L("div",Yn,[He(ee("input",{ref:F,"onUpdate:modelValue":l[0]||(l[0]=C=>W(t)?t.value=C:null),class:Ee(["nc-cell-field outline-none w-full py-1 bg-transparent h-full",{"nc-text-transparent":e(M)}]),disabled:e(p),onBlur:g,onFocus:l[1]||(l[1]=C=>i.value=!0),onKeydown:[l[2]||(l[2]=z(r(()=>{},["stop"]),["down"])),l[3]||(l[3]=z(r(()=>{},["stop"]),["left"])),l[4]||(l[4]=z(r(()=>{},["stop"]),["right"])),l[5]||(l[5]=z(r(()=>{},["stop"]),["up"])),l[6]||(l[6]=z(r(()=>{},["stop"]),["delete"])),l[7]||(l[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:l[8]||(l[8]=r(()=>{},["stop"])),onMousedown:l[9]||(l[9]=r(()=>{},["stop"]))},null,42,Fn),[[Pt,e(t)]]),e(M)?(v(),L("div",hn,[ee("a",{class:"truncate text-primary cursor-pointer pointer-events-auto no-user-select",href:e(c),onClick:l[10]||(l[10]=r(C=>("confirmPageLeavingRedirect"in a?a.confirmPageLeavingRedirect:e(Ul))(e(c)),["prevent"]))},be(e(t)),9,On)])):De("",!0)]))}}),Rn=Object.assign(Tn,{__name:"CellUrlEditor"}),Un=["disabled"],zn={key:0,class:"nc-cell-field nc-cell-link-preview absolute inset-0 flex items-center max-w-full overflow-hidden pointer-events-none"},Nn=["href"],An=Ve({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,{t:d}=Xe(),x=u(he,o(!1)),T=u(Ie,o(!1)),N=u(Se,o(!1)),p=u(Te),_=u(Pe),w=u(Me,o(!1)),E=u(Ye,!1),P=o(D.modelValue),b=o(),A=o(!1),i=R({get:()=>D.modelValue,set:M=>{var a;P.value=M,(!((a=ie(p.value.meta))!=null&&a.validate)||M&&Tt(M)||!M||_.value||T.value)&&G("update:modelValue",M)}}),t=M=>{var a;!w.value&&!T.value&&!_.value&&(b.value=M,(a=b.value)==null||a.focus())};St(()=>{var M;if((M=ie(p.value.meta))!=null&&M.validate&&P.value&&!Tt(P.value.toString())){T.value||tt.error(d("msg.invalidPhoneNumber")),P.value=void 0;return}P.value=D.modelValue}),$e(()=>{var M;E&&!w.value&&!T.value&&!_.value&&((M=b.value)==null||M.focus())});const c=()=>{x.value=!1,A.value=!1},F=R(()=>i.value&&Tt(i.value.toString())),g=R(()=>(w.value||_.value)&&!A.value&&F.value);return(M,a)=>(v(),L(fe,null,[He(ee("input",ot(M.$attrs,{ref:t,"onUpdate:modelValue":a[0]||(a[0]=l=>W(i)?i.value=l:null),class:["nc-cell-field w-full outline-none py-1",{"nc-text-transparent":e(g)}],disabled:e(N),onBlur:c,onFocus:a[1]||(a[1]=l=>A.value=!0),onKeydown:[a[2]||(a[2]=z(r(()=>{},["stop"]),["down"])),a[3]||(a[3]=z(r(()=>{},["stop"]),["left"])),a[4]||(a[4]=z(r(()=>{},["stop"]),["right"])),a[5]||(a[5]=z(r(()=>{},["stop"]),["up"])),a[6]||(a[6]=z(r(()=>{},["stop"]),["delete"])),a[7]||(a[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:a[8]||(a[8]=r(()=>{},["stop"])),onMousedown:a[9]||(a[9]=r(()=>{},["stop"]))}),null,16,Un),[[it,e(i)]]),e(g)?(v(),L("div",zn,[ee("a",{"no-ref":"",class:"truncate text-primary cursor-pointer pointer-events-auto no-user-select tracking-tighter",href:`tel:${e(i)}`,target:"_blank",rel:"noopener noreferrer",tabindex:-1},be(e(i)),9,Nn)])):De("",!0)],64))}}),Ln=Object.assign(An,{__name:"CellPhoneNumberEditor"}),jn={class:"flex flex-col w-full progress-container min-h-[4px]",style:{"align-self":"stretch","justify-self":"stretch",height:"100%","border-radius":"9999px"}},Kn={class:"w-full progress-bar flex",style:{"align-self":"stretch","border-radius":"9999px",overflow:"hidden",height:"100%"}},Bn=Ve({__name:"ProgressBar",props:{percentage:{},isShowNumber:{type:Boolean}},setup(n){const X=n,D=R(()=>Math.max(0,Math.min(100,X.percentage))),G=R(()=>Math.max(1,Math.min(X.percentage/2,50))),d=zl(),x=T=>{var N,p;return(((p=(N=d[T??"default"])==null?void 0:N.call(d))==null?void 0:p.length)??0)>0};return(T,N)=>(v(),L("div",jn,[ee("div",{class:Ee(["progress-bar-input",x()?"has-child":""])},[Nl(T.$slots,"default",{},void 0,!0)],2),ee("div",Kn,[ee("div",{style:Ae([{"align-self":"stretch","background-color":"#3366ff"},{width:`${e(D)}%`}])},null,4),ee("div",{style:Ae([{"align-self":"stretch","background-color":"#e5e5e5"},{width:`${100-e(D)}%`}])},null,4),T.isShowNumber?(v(),L(fe,{key:0},[ee("div",{style:Ae([{position:"absolute"},{"margin-left":`${e(G)}%`}])},[ee("span",{style:Ae([{"mix-blend-mode":"difference",color:"#ffffff"},{"margin-left":`${-Math.min(e(D),50)}%`}])},be(`${T.percentage}%`),5)],4),ee("div",{style:Ae([{position:"absolute"},{"margin-left":`${e(G)}%`}])},[ee("span",{style:Ae([{"mix-blend-mode":"overlay",color:"#ffffff"},{"margin-left":`${-Math.min(e(D),50)}%`}])},be(`${T.percentage}%`),5)],4)],64)):De("",!0)])]))}}),Hn=Object.assign(Re(Bn,[["__scopeId","data-v-a4072fc0"]]),{__name:"CellPercentProgressBar"}),Gn=["type","placeholder","disabled"],qn={key:1},Wn=["type","placeholder","disabled"],Xn=Ve({__name:"Editor",props:{modelValue:{},placeholder:{},localEditEnabled:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(Te),x=u(he,o(!1)),T=u(Ie,o(!1)),N=u(Se,o(!1)),p=u(Me,o(!1)),_=u(Pe),w=u(Ye,!1),E=je(D,"modelValue",G),P=je(D,"localEditEnabled",G,{defaultValue:!1}),b=o(!1),A=o(),i=a=>{var l,C,V;if((!p.value||P.value)&&!T.value){if(A.value=a,b.value)return;p.value?((l=A.value)==null||l.focus(),(C=A.value)==null||C.select()):_.value||(V=A.value)==null||V.focus()}},t=R({get:()=>_.value&&!T.value&&E.value&&!b.value&&!isNaN(Number(E.value))?`${E.value}%`:E.value,set:a=>{a===""?E.value=null:_.value&&!T.value?E.value=isNaN(Number(a))?a:Number(a):E.value=a}}),c=R(()=>E.value&&E.value!==""&&!isNaN(Number(E.value))?Number(E.value):0),F=R(()=>_.value&&!T.value?"text":"number"),g=()=>{p.value&&(x.value=!1,b.value=!1,P.value=!1)},M=()=>{b.value=!0};return $e(()=>{var a,l;(w||!T.value&&!_.value)&&((a=A.value)==null||a.focus(),p.value&&((l=A.value)==null||l.select()))}),(a,l)=>{const C=Hn;return("parseProp"in a?a.parseProp:e(ie))(e(d).meta).is_progress&&(e(_)||e(p))?(v(),B(C,{key:0,style:Ae({...(e(_)||e(p))&&{"min-height":"22px",height:"22px"}}),"is-show-number":!0,percentage:e(c)},{default:ye(()=>[He(ee("input",{ref:i,"onUpdate:modelValue":l[0]||(l[0]=V=>W(t)?t.value=V:null),class:Ee(["nc-cell-field w-full !border-none !outline-none focus:ring-0 h-full min-h-[18px]",e(p)?"py-1":""]),type:e(F),placeholder:a.placeholder,disabled:e(N),onBlur:g,onFocus:M,onKeydown:[l[1]||(l[1]=z(r(()=>{},["stop"]),["down"])),l[2]||(l[2]=z(r(()=>{},["stop"]),["left"])),l[3]||(l[3]=z(r(()=>{},["stop"]),["right"])),l[4]||(l[4]=z(r(()=>{},["stop"]),["up"])),l[5]||(l[5]=z(r(()=>{},["stop"]),["delete"])),l[6]||(l[6]=r(()=>{},["alt","stop"]))],onSelectstartCapture:l[7]||(l[7]=r(()=>{},["stop"])),onMousedown:l[8]||(l[8]=r(()=>{},["stop"]))},null,42,Gn),[[it,e(t)]])]),_:1},8,["style","percentage"])):(v(),L("div",qn,[He(ee("input",{ref:i,"onUpdate:modelValue":l[9]||(l[9]=V=>W(t)?t.value=V:null),class:"nc-cell-field w-full !border-none !outline-none focus:ring-0 py-1",type:e(F),placeholder:a.placeholder,disabled:e(N),onBlur:g,onFocus:M,onKeydown:[l[10]||(l[10]=z(r(()=>{},["stop"]),["down"])),l[11]||(l[11]=z(r(()=>{},["stop"]),["left"])),l[12]||(l[12]=z(r(()=>{},["stop"]),["right"])),l[13]||(l[13]=z(r(()=>{},["stop"]),["up"])),l[14]||(l[14]=z(r(()=>{},["stop"]),["delete"])),l[15]||(l[15]=r(()=>{},["alt","stop"]))],onSelectstartCapture:l[16]||(l[16]=r(()=>{},["stop"])),onMousedown:l[17]||(l[17]=r(()=>{},["stop"]))},null,40,Wn),[[it,e(t)]])]))}}}),Jn=Object.assign(Re(Xn,[["__scopeId","data-v-50354903"]]),{__name:"CellPercentEditor"}),Zn={key:0,class:"nc-currency-code h-full !bg-gray-100 border-r border-gray-200 px-3 mr-1 flex items-center"},Qn=["placeholder","disabled"],eo=["value","placeholder","disabled"],to=Ve({__name:"Editor",props:{modelValue:{},placeholder:{},hidePrefix:{type:Boolean}},emits:["update:modelValue","save"],setup(n,{emit:X}){const D=n,G=X,d=u(Te),x=u(he,o(!1)),T=u(Ie,o(!1)),N=u(Se,o(!1)),p=u(Me,o(!1)),_=u(Pe),w=u(Ye,!1),E=o(),P=je(D,"modelValue",G),b=o(),A=o(!1),i=R(()=>p.value&&!A.value?"text":"number"),t=R(()=>{var V;return{currency_locale:"en-US",currency_code:"USD",precision:2,...ie((V=d==null?void 0:d.value)==null?void 0:V.meta)}}),c=R(()=>{try{if(P.value===null||P.value===void 0||isNaN(P.value))return P.value;const V=Al(Number(P.value),t.value.precision??2);return new Intl.NumberFormat(t.value.currency_locale||"en-US",{style:"currency",currency:t.value.currency_code||"USD",minimumFractionDigits:t.value.precision??2,maximumFractionDigits:t.value.precision??2}).format(V)}catch{return P.value}}),F=R({get:()=>P.value,set:V=>{V===""?P.value=null:P.value=V}}),g=V=>{var y;!p.value&&!T.value&&!_.value&&(E.value=V,(y=E.value)==null||y.focus()),i.value==="number"&&!_.value&&(V==null||V.focus())},M=()=>{b.value!==F.value&&(F.value=b.value=F.value??null,G("save")),x.value=!1,A.value=!1},a=()=>{M()},l=()=>{A.value=!0},C=()=>{/(Firefox|Safari)/.test(navigator.userAgent)&&M()};return $e(()=>{var V;b.value=F.value,w&&!p.value&&!T.value&&!_.value&&((V=E.value)==null||V.focus())}),(V,y)=>(v(),L(fe,null,[e(_)&&!e(T)&&e(x)&&!V.hidePrefix?(v(),L("div",Zn,[ee("span",null,be(e(t).currency_code),1)])):De("",!0),e(i)==="number"?He((v(),L("input",{key:1,ref:g,"onUpdate:modelValue":y[0]||(y[0]=Q=>W(F)?F.value=Q:null),type:"number",class:Ee(["nc-cell-field h-full border-none rounded-md py-1 outline-none focus:outline-none focus:ring-0",e(_)&&!e(T)&&!V.hidePrefix?"flex flex-1":"w-full"]),placeholder:V.placeholder,disabled:e(N),onBlur:a,onKeydown:[z(C,["enter"]),y[1]||(y[1]=z(r(()=>{},["stop"]),["down"])),y[2]||(y[2]=z(r(()=>{},["stop"]),["left"])),y[3]||(y[3]=z(r(()=>{},["stop"]),["right"])),y[4]||(y[4]=z(r(()=>{},["stop"]),["up"])),y[5]||(y[5]=z(r(()=>{},["stop"]),["delete"])),y[6]||(y[6]=r(()=>{},["alt","stop"]))],onSelectstartCapture:y[7]||(y[7]=r(()=>{},["stop"])),onMousedown:y[8]||(y[8]=r(()=>{},["stop"])),onContextmenu:y[9]||(y[9]=r(()=>{},["stop"]))},null,42,Qn)),[[Pt,e(F)]]):(v(),L("input",{key:2,ref:g,value:e(c),type:"text",class:Ee(["nc-cell-field h-full border-none rounded-md py-1 outline-none focus:outline-none focus:ring-0",e(_)&&!e(T)&&!V.hidePrefix?"flex flex-1":"w-full"]),placeholder:V.placeholder,disabled:e(N),onFocus:l,onKeydown:[y[10]||(y[10]=z(r(()=>{},["stop"]),["down"])),y[11]||(y[11]=z(r(()=>{},["stop"]),["left"])),y[12]||(y[12]=z(r(()=>{},["stop"]),["right"])),y[13]||(y[13]=z(r(()=>{},["stop"]),["up"])),y[14]||(y[14]=z(r(()=>{},["stop"]),["delete"])),y[15]||(y[15]=r(()=>{},["alt","stop"]))],onSelectstartCapture:y[16]||(y[16]=r(()=>{},["stop"])),onMousedown:y[17]||(y[17]=r(()=>{},["stop"])),onContextmenu:y[18]||(y[18]=r(()=>{},["stop"]))},null,42,eo))],64))}}),lo=Object.assign(Re(to,[["__scopeId","data-v-bdb97cf9"]]),{__name:"CellCurrencyEditor"}),ao=["placeholder","disabled"],no=Ve({__name:"DecimalInput",props:{placeholder:{},inputStyle:{type:[Boolean,null,String,Object,Array]},modelValue:{},disabled:{type:Boolean},precision:{},isFocusOnMounted:{type:Boolean}},emits:["update:modelValue","blur"],setup(n,{emit:X}){const D=n,G=X,d=je(D,"modelValue",G),x=Ll("input-ref"),T=(i,t)=>{if(!t||t==="")return{changed:!1};const c=i.selectionEnd,F=i.value,g=jl({selectionStart:i.selectionStart,selectionEnd:i.selectionEnd,lastValue:F,newValue:t});if(i.value!==g&&(i.value=g),c||c===0){const M=i.value.length-(F.length-c);i.setSelectionRange(M,M)}},N=()=>{if(x.value&&(d.value||d.value===0)){if(typeof d.value=="number")D.precision?x.value.value=d.value.toFixed(D.precision)??"":x.value.value=d.value.toString();else if(typeof d.value=="string"){const i=Number(d.value);Lt(i)||(D.precision?x.value.value=i.toFixed(D.precision)??"":x.value.value=i.toString())}}},p=i=>{if(i===""){d.value=null;return}const t=Number(i);if(Lt(t)){d.value=null;return}d.value=t};let _;const w=(i,t=!0)=>{var F;const c=i.target;c&&((F=c.value.match(/\.\s/))!=null&&F[0]&&(c.value=c.value.replace(/\.\s/,"")),_&&clearTimeout(_),t?_=setTimeout(()=>{p(c.value)},100):p(c.value))},E=i=>{const t=i.target;if(!(!t||["ArrowLeft","ArrowRight","Enter","Escape","Home","End","PageUp","PageDown","Delete","Backspace","Tab",...["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]].includes(i.key)||i.ctrlKey||i.altKey||i.metaKey)){if(i.key==="ArrowDown"){t.setSelectionRange(t.value.length,t.value.length);return}else if(i.key==="ArrowUp"){t.setSelectionRange(0,0);return}else if(i.key.match("[^-0-9.]")){i.preventDefault(),i.stopPropagation();return}T(t,i.key),i.preventDefault(),i.stopPropagation()}},P=i=>{if(i.clipboardData===null||typeof i.clipboardData>"u")return;const t=i.target;if(!t)return;const c=i.clipboardData.getData("text/plain");c===null||c===""||typeof c>"u"||(i.preventDefault(),i.stopPropagation(),T(t,c))},b=i=>{if(G("blur",i),i.target){const t=i.target.value;p(t),setTimeout(()=>{N()},100)}},A=i=>{i.addEventListener("keydown",E),i.addEventListener("keyup",w),i.addEventListener("paste",P),i.addEventListener("blur",b)};return $e(()=>{x.value&&(A(x.value),xt(()=>{N(),D.isFocusOnMounted&&x.value.focus()}))}),(i,t)=>(v(),L("input",{ref:"input-ref",class:"nc-cell-field outline-none rounded-md",placeholder:i.placeholder,style:Ae([{"letter-spacing":"0.06rem",height:"24px !important"},i.inputStyle]),disabled:i.disabled,onKeydown:[t[0]||(t[0]=z(r(c=>w(c,!1),["exact"]),["enter"])),t[1]||(t[1]=z(r(()=>{},["stop"]),["left"])),t[2]||(t[2]=z(r(()=>{},["stop"]),["right"])),t[3]||(t[3]=z(r(()=>{},["stop"]),["delete"])),t[4]||(t[4]=r(()=>{},["alt","stop"]))],onSelectstartCapture:t[5]||(t[5]=r(()=>{},["stop"])),onMousedown:t[6]||(t[6]=r(()=>{},["stop"]))},null,44,ao))}}),oo=Object.assign(Re(no,[["__scopeId","data-v-df46cd3b"]]),{__name:"CellDecimalInput"}),so=Ve({__name:"Editor",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(he,o(!1)),x=u(Te,null),T=u(Ie,o(!1)),N=u(Se,o(!1)),p=u(Me,o(!1)),_=u(Pe),w=u(Ye,!1),E=o(),P=je(D,"modelValue",G),b=R(()=>ie(x==null?void 0:x.value.meta).precision??1);return $e(()=>{var A;w&&!p.value&&!T.value&&!_.value&&((A=E.value)==null||A.focus())}),(A,i)=>{const t=oo;return v(),B(t,{modelValue:e(P),"onUpdate:modelValue":i[0]||(i[0]=c=>W(P)?P.value=c:null),placeholder:A.placeholder,"is-focus-on-mounted":!e(p)&&!e(T)&&!e(_),style:Ae({...!e(_)&&!e(p)&&{"margin-top":"1px"},...(e(_)||e(p))&&{width:"100%"}}),disabled:e(N),precision:e(b),onBlur:i[1]||(i[1]=c=>d.value=!1)},null,8,["modelValue","placeholder","is-focus-on-mounted","style","disabled","precision"])}}}),uo=Object.assign(so,{__name:"CellDecimalEditor"}),ro=["disabled"],io=Ve({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(he,o(!1)),x=u(Ie,o(!1)),T=u(Se,o(!1)),N=je(D,"modelValue",G),p=R({get:()=>N.value,set:P=>{P===""?N.value=null:N.value=P}}),_=u(Me,o(!1)),w=u(Pe),E=P=>!_.value&&!x.value&&!w.value&&(P==null?void 0:P.focus());return(P,b)=>He((v(),L("input",{ref:E,"onUpdate:modelValue":b[0]||(b[0]=A=>W(p)?p.value=A:null),class:"nc-cell-field outline-none px-1 border-none w-full h-full",type:"number",step:"0.1",disabled:e(T),onBlur:b[1]||(b[1]=A=>d.value=!1),onKeydown:[b[2]||(b[2]=z(r(()=>{},["stop"]),["down"])),b[3]||(b[3]=z(r(()=>{},["stop"]),["left"])),b[4]||(b[4]=z(r(()=>{},["stop"]),["right"])),b[5]||(b[5]=z(r(()=>{},["stop"]),["up"])),b[6]||(b[6]=z(r(()=>{},["stop"]),["delete"])),b[7]||(b[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:b[8]||(b[8]=r(()=>{},["stop"])),onMousedown:b[9]||(b[9]=r(()=>{},["stop"]))},null,40,ro)),[[Pt,e(p)]])}}),vo=Object.assign(Re(io,[["__scopeId","data-v-3377ccc2"]]),{__name:"CellFloatEditor"}),mo=["type","disabled"],co=Ve({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(he),x=u(Ie,o(!1)),T=u(Se,o(!1)),N=u(Me,o(!1)),p=u(Pe),_=u(Ye,!1),w=o(),E=je(D,"modelValue",G),P=R({get:()=>E.value,set:t=>{if(t==="")E.value=null;else if(p.value&&!x.value)E.value=isNaN(Number(t))?t:Number(t);else{const c=+(t??0);E.value=Kl(c)}}}),b=R(()=>p.value&&!x.value?"text":"number"),A=t=>{var c;!N.value&&!x.value&&!p.value&&(w.value=t,(c=w.value)==null||c.focus())};function i(t){var F,g;if((Bl()?t.metaKey:t.ctrlKey)&&!t.altKey)switch(t.keyCode){case 90:{t.stopPropagation();break}}if(t.key===".")return t.preventDefault();t.key==="ArrowDown"?(t.preventDefault(),t.target.type="text",(F=t.target)==null||F.setSelectionRange(t.target.value.length,t.target.value.length),t.target.type="number"):t.key==="ArrowUp"&&(t.preventDefault(),t.target.type="text",(g=t.target)==null||g.setSelectionRange(0,0),t.target.type="number")}return $e(()=>{var t;_&&!N.value&&!x.value&&!p.value&&((t=w.value)==null||t.focus())}),(t,c)=>He((v(),L("input",{ref:A,"onUpdate:modelValue":c[0]||(c[0]=F=>W(P)?P.value=F:null),class:"nc-cell-field outline-none py-1 border-none w-full h-full",type:e(b),style:{"letter-spacing":"0.06rem"},disabled:e(T),onBlur:c[1]||(c[1]=F=>d.value=!1),onKeydown:[i,c[2]||(c[2]=z(r(()=>{},["stop"]),["down"])),c[3]||(c[3]=z(r(()=>{},["stop"]),["left"])),c[4]||(c[4]=z(r(()=>{},["stop"]),["right"])),c[5]||(c[5]=z(r(()=>{},["stop"]),["up"])),c[6]||(c[6]=z(r(()=>{},["stop"]),["delete"])),c[7]||(c[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:c[8]||(c[8]=r(()=>{},["stop"])),onMousedown:c[9]||(c[9]=r(()=>{},["stop"]))},null,40,mo)),[[it,e(P)]])}}),po=Object.assign(Re(co,[["__scopeId","data-v-4793300d"]]),{__name:"CellIntegerEditor"}),fo=["value"],yo=Ve({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:X}){const D=n,G=X,d=u(he,o(!1)),x=u(Ie,o(!1)),T=u(Ye,!1),N=u(We,o(!1)),p=je(D,"modelValue",G),_=u(Me,o(!1)),w=u(Pe),E=o(),P=i=>{var t;!_.value&&!x.value&&!w.value&&(E.value=i,(t=E.value)==null||t.focus())},b=R({get:()=>p.value??"",set:i=>p.value=i});$e(()=>{var i;T&&!N.value&&!_.value&&!x.value&&!w.value&&((i=E.value)==null||i.focus())});function A(i){var t;p.value=((t=i.target)==null?void 0:t.value)??""}return(i,t)=>{const c=Hl;return e(_)?(v(),B(c,{key:1,ref:P,value:e(b),"onUpdate:value":t[9]||(t[9]=F=>W(b)?b.value=F:null),"auto-size":{minRows:1,maxRows:6},class:"!border-0 !border-none !outline-0 !ring-0 focus:!border-0 focus:!outline-0 focus:!ring-0 !px-2 !py-1 nc-scrollbar-thin",style:{color:"inherit",resize:"auto !important","min-height":"32px !important",height:"32px !important"},onKeydown:t[10]||(t[10]=z(r(()=>{},["prevent"]),["enter"]))},null,8,["value"])):(v(),L("input",{key:0,ref:P,value:e(p),class:"nc-cell-field h-full w-full outline-none py-1 bg-transparent",onInput:A,onBlur:t[0]||(t[0]=F=>d.value=!1),onKeydown:[t[1]||(t[1]=z(r(()=>{},["stop"]),["down"])),t[2]||(t[2]=z(r(()=>{},["stop"]),["left"])),t[3]||(t[3]=z(r(()=>{},["stop"]),["right"])),t[4]||(t[4]=z(r(()=>{},["stop"]),["up"])),t[5]||(t[5]=z(r(()=>{},["stop"]),["delete"])),t[6]||(t[6]=r(()=>{},["alt","stop"]))],onSelectstartCapture:t[7]||(t[7]=r(()=>{},["stop"])),onMousedown:t[8]||(t[8]=r(()=>{},["stop"]))},null,40,fo))}}}),go=Object.assign(yo,{__name:"CellTextEditor"}),_o=ge(()=>_e(()=>import("./CZHaB74P.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(n=>n.default||n)),bo=ge(()=>_e(()=>import("./Bm9VFL6M.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9]),import.meta.url).then(n=>n.default||n)),ko=ge(()=>_e(()=>import("./DBj5Znvf.js"),__vite__mapDeps([10,1,2,4,5,6,7,8,11]),import.meta.url).then(n=>n.default||n)),wo=ge(()=>_e(()=>import("./Cc3fFKy4.js"),__vite__mapDeps([12,1,2]),import.meta.url).then(n=>n.default||n)),Vo=ge(()=>_e(()=>import("./tXIUs16-.js"),__vite__mapDeps([13,1,2,14,15,16]),import.meta.url).then(n=>n.default||n)),Co=ge(()=>_e(()=>import("./BPAO9gWb.js"),__vite__mapDeps([17,1,2,18]),import.meta.url).then(n=>n.default||n)),xo=ge(()=>_e(()=>import("./xPXNcuDa.js").then(n=>n.i),__vite__mapDeps([19,1,2,20,21,22,5,4,6,7,8,23,24,25,26,14,15,27]),import.meta.url).then(n=>n.default||n)),Eo=ge(()=>_e(()=>import("./Bj4kMpzI.js").then(n=>n.i),__vite__mapDeps([28,1,2]),import.meta.url).then(n=>n.default||n)),$o=ge(()=>_e(()=>import("./CbSESqy_.js").then(n=>n.i),__vite__mapDeps([29,1,2]),import.meta.url).then(n=>n.default||n)),Do=ge(()=>_e(()=>import("./Dl-un84B.js"),__vite__mapDeps([30,1,2]),import.meta.url).then(n=>n.default||n)),Mo=ge(()=>_e(()=>import("./ssgfHuBC.js"),__vite__mapDeps([31,1,2,32,33]),import.meta.url).then(n=>n.default||n)),Io=ge(()=>_e(()=>import("./C14rEdDq.js"),__vite__mapDeps([34,1,2,14,15,32,35]),import.meta.url).then(n=>n.default||n)),Po=ge(()=>_e(()=>import("./CTMaE0Hc.js"),__vite__mapDeps([36,1,2]),import.meta.url).then(n=>n.default||n)),So=ge(()=>_e(()=>import("./35NZ7kP5.js"),__vite__mapDeps([37,1,2,38]),import.meta.url).then(n=>n.default||n)),Yo=ge(()=>_e(()=>import("./B7QiJ8wK.js"),__vite__mapDeps([39,1,2,38,40]),import.meta.url).then(n=>n.default||n)),Fo=ge(()=>_e(()=>import("./Coql2QrX.js"),__vite__mapDeps([41,1,2]),import.meta.url).then(n=>n.default||n)),ho=ge(()=>_e(()=>import("./BDzYw9yU.js"),__vite__mapDeps([42,1,2,43,14,15,44,18,38,4,5,6,7,8,45]),import.meta.url).then(n=>n.default||n)),Oo=ge(()=>_e(()=>import("./iCEV5Iwo.js"),__vite__mapDeps([46,1,2]),import.meta.url).then(n=>n.default||n)),To=ge(()=>_e(()=>import("./zMMvJhqz.js").then(n=>n.i),__vite__mapDeps([47,1,2]),import.meta.url).then(n=>n.default||n)),Ro=ge(()=>_e(()=>import("./uk-JUY8g.js"),__vite__mapDeps([48,1,2]),import.meta.url).then(n=>n.default||n)),Uo=ge(()=>_e(()=>import("./-rQ54Sq7.js"),__vite__mapDeps([49,1,2]),import.meta.url).then(n=>n.default||n)),zo=ge(()=>_e(()=>import("./C489-INV.js"),__vite__mapDeps([50,1,2]),import.meta.url).then(n=>n.default||n)),No=ge(()=>_e(()=>import("./BQrX92sk.js"),__vite__mapDeps([51,1,2,14,15,52]),import.meta.url).then(n=>n.default||n)),Ao=ge(()=>_e(()=>import("./DIxbqRYZ.js"),__vite__mapDeps([53,1,2]),import.meta.url).then(n=>n.default||n)),Lo={key:0,class:"flex items-center gap-2 w-full"},jo={key:26,class:"nc-locked-overlay"},Ko=Ve({__name:"Cell",props:{column:{},modelValue:{},editEnabled:{type:Boolean},readOnly:{type:Boolean},rowIndex:{},active:{type:Boolean},virtual:{type:Boolean},path:{},isAllowed:{type:Boolean}},emits:["update:modelValue","save","navigate","update:editEnabled","update:cdf","saveWithState"],setup(n,{emit:X}){var xe,Ke;const D=n,G=X,d=ut(D,"column"),x=u(Gl,o()),T=ut(D,"active",!1),N=ut(D,"path",[]),p=ut(D,"readOnly",!1),_=ut(D,"isAllowed",!0);rt(Te,d);const w=je(D,"editEnabled",G),E=o(!1);rt(he,w),rt(at,T),rt(Se,p),rt(Ia,_);const P=u(Pe,o(!1)),b=u(ql,o(!1)),A=u(nt,o(!1)),i=u(Gt,o(!1)),t=u(ft,o(!1)),c=u(Wl,o(!1)),F=u(Ie,o(!1)),g=u(Me,o(!1)),{currentRow:M,state:a}=ha(),{sqlUis:l}=Xl(Ut()),{generatingRows:C,generatingColumns:V}=Jl(),{showNull:y}=pt(),Q=R(()=>{var Z,S;if((Z=x.value)!=null&&Z.columns)return Oa((S=M.value)==null?void 0:S.row,x.value.columns)}),ve=R(()=>Q.value&&d.value.id&&C.value.includes(Q.value)&&V.value.includes(d.value.id)),de=((xe=x.value)==null?void 0:xe.source_id)||((Ke=d.value)==null?void 0:Ke.source_id),ue=o(de&&l.value[de]?l.value[de]:Object.values(l.value)[0]),me=R(()=>d.value&&ue.value.getAbstractType(d.value)),te=()=>{G("save",[M.value,d.value.title,a.value,void 0,void 0,N.value])},U=Ql(()=>{M.value.rowMeta.changed=!1,te()},500,{maxWait:2e3}),h=u(Ye,!1);St(()=>{var Z,S;h&&((Z=M.value.oldRow)==null?void 0:Z[d.value.title])!==((S=M.value.row)==null?void 0:S[d.value.title])&&(M.value.rowMeta.changed=!1,te())});let j;const k=()=>{w.value?(j&&clearTimeout(j),j=window.setTimeout(k,500)):te()},s=R({get:()=>D.modelValue,set:Z=>{F.value?G("update:cdf",Z):Z!==D.modelValue&&(M.value.rowMeta.changed=!0,G("update:modelValue",Z),d.value.pk||d.value.unique?k():Zl(d.value)?U():ea(d.value)||te())}}),le=(Z,S)=>{Bt(d.value)||((M.value.rowMeta.changed||M.value.rowMeta.new)&&(M.value.rowMeta.changed=!1),G("navigate",Z),P.value||S.stopImmediatePropagation())},ae=R(()=>ta(d.value,me.value)),f=Z=>{D.editEnabled&&Ma(d.value)&&Z.stopPropagation()},H=R(()=>{var Z,S;return!F.value||!jt(d.value,me.value)&&!Kt(d.value,me.value)?!1:(S=(Z=ue.value)==null?void 0:Z.getCurrentDateDefault)!=null&&S.call(Z,d.value)?!0:"disabled"}),m=()=>{var Z,S;s.value=(S=(Z=ue.value)==null?void 0:Z.getCurrentDateDefault)==null?void 0:S.call(Z,d.value)},Y=R(()=>la(d.value)),q=R(()=>aa(d.value)),O=R(()=>na(d.value)?"ai":oa(d.value)?"textarea":sa(d.value)?"geoData":ua(d.value,me.value)?"checkbox":ra(d.value)?"attachment":ia(d.value)?"singleSelect":da(d.value)?"multiSelect":jt(d.value,me.value)?"datePicker":va(d.value,me.value)?"yearPicker":Kt(d.value,me.value)?"dateTimePicker":ma(d.value,me.value)?"timePicker":ca(d.value)?"rating":pa(d.value)?"duration":fa(d.value)?"email":ya(d.value)?"url":ga(d.value)?"phoneNumber":_a(d.value)?"percent":ba(d.value)?"currency":ka(d.value)?"user":wa(d.value)?"decimal":Va(d.value,me.value)?"integer":Ca(d.value,me.value)?"float":xa(d.value,me.value)?"text":Bt(d.value)?"json":"text"),ne=R(()=>(p.value||!w.value)&&s.value===null&&Ea(d.value)&&y.value),J=R(()=>{var Z;if(d.value.readonly)return!0;switch(O.value){case"currency":return!(!p.value&&w.value||P&&!F.value&&w.value);case"percent":return!(!p.value&&w.value||g.value&&(E.value||ie((Z=d.value)==null?void 0:Z.meta).is_progress));case"checkbox":case"rating":return p.value;case"singleSelect":case"multiSelect":case"user":return p.value||!(T.value||w.value||P.value);case"datePicker":case"dateTimePicker":case"timePicker":case"yearPicker":return p.value||!(T.value||w.value);default:return p.value||!w.value}}),Ce=R(()=>(i.value&&p.value&&!P.value||lt(d.value))&&O.value!=="attachment"&&O.value!=="textarea"&&O.value!=="ai"&&O.value!=="json"),Oe=R(()=>{var S;let Z=`nc-cell-${(((S=d.value)==null?void 0:S.uidt)||"default").toLowerCase()}`;return Y.value&&!D.virtual&&!P.value&&!c.value&&(Z+=" nc-display-value-cell"),A.value&&ae.value&&!F.value&&!P.value&&!g.value&&O.value!=="rating"&&O.value!=="yearPicker"&&(Z+=" nc-grid-numeric-cell-right"),!F.value&&P.value&&!D.virtual&&O.value!=="attachment"&&O.value!=="textarea"&&O.value!=="ai"&&(Z+=" h-10"),(P.value&&ae.value&&g.value||F.value)&&(Z+=" nc-grid-numeric-cell-left"),O.value==="textarea"&&(P.value||t.value)&&(Z+=" !min-h-30"),O.value==="ai"&&(Z+=" nc-cell-longtext-ai"),Z});return(Z,S)=>{const yt=$a,st=Da,gt=_o,_t=bo,I=ko,$=qa,re=wo,oe=Vo,ke=Ja,we=an,Fe=Sa,Ue=dn,Ne=Co,ze=fn,Be=xo,ce=Eo,bt=$o,Je=Do,kt=Vn,Ze=Mo,wt=Io,Qe=Po,Vt=Dn,et=So,Ct=Sn,Zt=Yo,Qt=Rn,el=Fo,tl=Ln,ll=ho,al=Jn,nl=Oo,ol=lo,sl=To,ul=Ro,rl=uo,il=Uo,dl=vo,vl=zo,ml=po,cl=No,pl=Ao,fl=go;return v(),L("div",{class:Ee([[e(Oe),{"nc-under-ltar":e(b)}],"nc-cell w-full h-full relative"]),onContextmenu:f,onKeydown:[S[26]||(S[26]=z(r(K=>le(e(Ht).NEXT,K),["exact"]),["enter"])),S[27]||(S[27]=z(r(K=>le(e(Ht).PREV,K),["shift","exact"]),["enter"]))]},[e(d)?(v(),L(fe,{key:0},[e(ve)?(v(),L("div",Lo,[pe(yt),pe(st,{class:"truncate max-w-[calc(100%_-_24px)]","show-on-truncate-only":""},{title:ye(()=>[Le(be(Z.$t("general.generating")),1)]),default:ye(()=>[Le(" "+be(Z.$t("general.generating")),1)]),_:1})])):e(ne)?(v(),B(gt,{key:1})):e(O)==="ai"?(v(),B(_t,{key:2,modelValue:e(s),"onUpdate:modelValue":S[0]||(S[0]=K=>W(s)?s.value=K:null),onSave:te},null,8,["modelValue"])):e(O)==="textarea"?(v(),B(I,{key:3,modelValue:e(s),"onUpdate:modelValue":S[1]||(S[1]=K=>W(s)?s.value=K:null),virtual:D.virtual},null,8,["modelValue","virtual"])):e(O)==="geoData"?(v(),B($,{key:4,modelValue:e(s),"onUpdate:modelValue":S[2]||(S[2]=K=>W(s)?s.value=K:null)},null,8,["modelValue"])):e(O)==="checkbox"?(v(),L(fe,{key:5},[e(J)?(v(),B(re,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(oe,{key:1,modelValue:e(s),"onUpdate:modelValue":S[3]||(S[3]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="yearPicker"?(v(),L(fe,{key:6},[e(J)?(v(),B(ke,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(we,{key:1,modelValue:e(s),"onUpdate:modelValue":S[4]||(S[4]=K=>W(s)?s.value=K:null),"is-pk":e(q)},null,8,["modelValue","is-pk"]))],64)):e(O)==="datePicker"?(v(),L(fe,{key:7},[e(J)?(v(),B(Fe,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(Ue,{key:1,modelValue:e(s),"onUpdate:modelValue":S[5]||(S[5]=K=>W(s)?s.value=K:null),"is-pk":e(q),"show-current-date-option":e(H),onCurrentDate:m},null,8,["modelValue","is-pk","show-current-date-option"]))],64)):e(O)==="dateTimePicker"?(v(),L(fe,{key:8},[e(J)?(v(),B(Ne,{key:0,"model-value":e(s),"is-updated-from-copy-n-paste":e(M).rowMeta.isUpdatedFromCopyNPaste},null,8,["model-value","is-updated-from-copy-n-paste"])):(v(),B(ze,{key:1,modelValue:e(s),"onUpdate:modelValue":S[6]||(S[6]=K=>W(s)?s.value=K:null),"is-pk":e(q),"is-updated-from-copy-n-paste":e(M).rowMeta.isUpdatedFromCopyNPaste,"show-current-date-option":e(H),onCurrentDate:m},null,8,["modelValue","is-pk","is-updated-from-copy-n-paste","show-current-date-option"]))],64)):e(O)==="attachment"?(v(),B(Be,{key:9,ref:"attachmentCell",modelValue:e(s),"onUpdate:modelValue":S[7]||(S[7]=K=>W(s)?s.value=K:null),"row-index":D.rowIndex},null,8,["modelValue","row-index"])):e(O)==="singleSelect"?(v(),B(ce,{key:10,modelValue:e(s),"onUpdate:modelValue":S[8]||(S[8]=K=>W(s)?s.value=K:null),"disable-option-creation":e(F),"row-index":D.rowIndex,"show-readonly-field":e(J)},null,8,["modelValue","disable-option-creation","row-index","show-readonly-field"])):e(O)==="multiSelect"?(v(),B(bt,{key:11,modelValue:e(s),"onUpdate:modelValue":S[9]||(S[9]=K=>W(s)?s.value=K:null),"disable-option-creation":e(F),"row-index":D.rowIndex,"show-readonly-field":e(J)},null,8,["modelValue","disable-option-creation","row-index","show-readonly-field"])):e(O)==="timePicker"?(v(),L(fe,{key:12},[e(J)?(v(),B(Je,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(kt,{key:1,modelValue:e(s),"onUpdate:modelValue":S[10]||(S[10]=K=>W(s)?s.value=K:null),"is-pk":e(q)},null,8,["modelValue","is-pk"]))],64)):e(O)==="rating"?(v(),L(fe,{key:13},[e(J)?(v(),B(Ze,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(wt,{key:1,modelValue:e(s),"onUpdate:modelValue":S[11]||(S[11]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="duration"?(v(),L(fe,{key:14},[e(J)?(v(),B(Qe,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(Vt,{key:1,modelValue:e(s),"onUpdate:modelValue":S[12]||(S[12]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="email"?(v(),L(fe,{key:15},[e(J)?(v(),B(et,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(Ct,{key:1,modelValue:e(s),"onUpdate:modelValue":S[13]||(S[13]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="url"?(v(),L(fe,{key:16},[e(J)?(v(),B(Zt,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(Qt,{key:1,modelValue:e(s),"onUpdate:modelValue":S[14]||(S[14]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="phoneNumber"?(v(),L(fe,{key:17},[e(J)?(v(),B(el,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(tl,{key:1,modelValue:e(s),"onUpdate:modelValue":S[15]||(S[15]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="percent"?(v(),L(fe,{key:18},[e(J)?(v(),B(ll,{key:0,"local-edit-enabled":e(E),"onUpdate:localEditEnabled":S[16]||(S[16]=K=>W(E)?E.value=K:null),"model-value":e(s)},null,8,["local-edit-enabled","model-value"])):(v(),B(al,{key:1,modelValue:e(s),"onUpdate:modelValue":S[17]||(S[17]=K=>W(s)?s.value=K:null),"local-edit-enabled":e(E),"onUpdate:localEditEnabled":S[18]||(S[18]=K=>W(E)?E.value=K:null)},null,8,["modelValue","local-edit-enabled"]))],64)):e(O)==="currency"?(v(),L(fe,{key:19},[e(J)?(v(),B(nl,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(ol,{key:1,modelValue:e(s),"onUpdate:modelValue":S[19]||(S[19]=K=>W(s)?s.value=K:null),onSave:te},null,8,["modelValue"]))],64)):e(O)==="user"?(v(),B(sl,{key:20,modelValue:e(s),"onUpdate:modelValue":S[20]||(S[20]=K=>W(s)?s.value=K:null),"row-index":D.rowIndex,"show-readonly-field":e(J)},null,8,["modelValue","row-index","show-readonly-field"])):e(O)==="decimal"?(v(),L(fe,{key:21},[e(J)?(v(),B(ul,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(rl,{key:1,modelValue:e(s),"onUpdate:modelValue":S[21]||(S[21]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="float"?(v(),L(fe,{key:22},[e(J)?(v(),B(il,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(dl,{key:1,modelValue:e(s),"onUpdate:modelValue":S[22]||(S[22]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="integer"?(v(),L(fe,{key:23},[e(J)?(v(),B(vl,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(ml,{key:1,modelValue:e(s),"onUpdate:modelValue":S[23]||(S[23]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)):e(O)==="json"?(v(),B(cl,{key:24,modelValue:e(s),"onUpdate:modelValue":S[24]||(S[24]=K=>W(s)?s.value=K:null)},null,8,["modelValue"])):(v(),L(fe,{key:25},[e(J)?(v(),B(pl,{key:0,"model-value":e(s)},null,8,["model-value"])):(v(),B(fl,{key:1,modelValue:e(s),"onUpdate:modelValue":S[25]||(S[25]=K=>W(s)?s.value=K:null)},null,8,["modelValue"]))],64)),e(Ce)?(v(),L("div",jo)):De("",!0)],64)):De("",!0)],34)}}}),Bo=Object.assign(Re(Ko,[["__scopeId","data-v-166744fe"]]),{__name:"SmartsheetCell"}),Qo=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"}));export{Qo as C,Bo as _,Hn as a,Ta as c};
