const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./uosXAa0K.js","./DRA9KN5F.js","./entry.CNP42Mi6.css","./BaxyS14b.js","./EmojiPicker.BKv0qZ9h.css","./CXvGwtHU.js","./DCa6wpIA.js","./CQa0sIfA.js","./DkDj6Z7Z.js","./YbUkeyWR.js","./C_gbauhL.js","./629XNRmr.js","./C_-gdvC5.js"])))=>i.map(i=>d[i]);
import{bi as oe,c as u,o as n,a as l,e as ne,T as Ke,r as B,aR as Ve,t as r,L as a,b as i,ap as ve,w as v,d as O,ag as ue,I as L,an as le,_ as me,eS as Le,f as qe,J as We,am as Pe,S as Qe,a8 as X,V as je,G as Ae,b5 as Ie,n as _,b1 as f,n_ as be,aF as pe,kA as xe,a4 as se,a5 as de,ac as Ye,K as h,ad as H,Q as J,cU as Xe,by as ke,bB as Ze,M as Ue,aq as ea,aG as aa,b9 as $e,h4 as Se,cf as ta,b6 as Ce,b7 as Fe,aX as De,aE as sa,N as la,bU as oa,a_ as Re}from"./DRA9KN5F.js";import{u as Be}from"./CQa0sIfA.js";import{u as na}from"./DCa6wpIA.js";import{_ as ia,R as ra}from"./YbUkeyWR.js";import{_ as ca}from"./C_gbauhL.js";import{u as da}from"./629XNRmr.js";import{u as Me}from"./C_-gdvC5.js";const ua={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pa(g,c){return n(),u("svg",ua,c[0]||(c[0]=[l("path",{fill:"currentColor",d:"M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"},null,-1)]))}const va=oe({name:"mdi-content-copy",render:pa}),ma={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function _a(g,c){return n(),u("svg",ma,c[0]||(c[0]=[l("path",{fill:"currentColor",d:"M21 7L9 19l-5.5-5.5l1.41-1.41L9 16.17L19.59 5.59z"},null,-1)]))}const fa=oe({name:"mdi-check",render:_a}),ga={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ha(g,c){return n(),u("svg",ga,c[0]||(c[0]=[l("path",{fill:"currentColor",d:"m14.6 16.6l4.6-4.6l-4.6-4.6L16 6l6 6l-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6l6 6z"},null,-1)]))}const wa=oe({name:"mdi-code-tags",render:ha}),ya={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ba(g,c){return n(),u("svg",ya,c[0]||(c[0]=[l("path",{fill:"currentColor",d:"M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm11-3v8h-2V6.413l-7.793 7.794l-1.414-1.414L17.585 5H13V3z"},null,-1)]))}const xa=oe({name:"ri-external-link-line",render:ba}),ka={class:"flex flex-row items-center justify-end text-gray-600 gap-x-1.5 py-1.5 px-1.5 bg-gray-50 rounded-md border-1 border-gray-200"},$a={class:"overflow-hidden whitespace-nowrap text-gray-500"},Sa={class:"flex flex-row gap-x-1"},Ca={class:"flex text-xs",style:{fontWeight:500}},Fa=ne({__name:"CopyUrl",props:{url:{}},emits:["update:url"],setup(g,{emit:c}){const b=Ke(g,"url",c),k=B({link:!1,embed:!1}),{copy:x}=Ve(),K=async()=>{window.open(b.value,"_blank","noopener,noreferrer")},D=async()=>{await x(`<iframe src="${b.value}" width="100%" height="100%" style="border: none;"></iframe>`),k.value.embed=!0},w=async()=>{k.value.link=!1,await x(b.value),k.value.link=!0,setTimeout(()=>{k.value.link=!1},5e3)};return(P,d)=>{const t=xa,F=ve,j=wa,M=fa,o=va;return n(),u("div",ka,[l("div",{class:"flex flex-row block flex-1 overflow-hidden pl-3 cursor-pointer",onClick:w},[l("div",$a,r(a(b)),1)]),l("div",Sa,[i(F,null,{title:v(()=>[O(r(P.$t("activity.openInANewTab")),1)]),default:v(()=>[l("div",{class:"button",onClick:K},[i(t,{class:"h-3.75"})])]),_:1}),i(F,null,{title:v(()=>[O(r(P.$t("activity.copyIFrameCode")),1)]),default:v(()=>[l("div",{class:ue(["button",{"!text-gray-300 !border-gray-200 !cursor-not-allowed":a(k).embed}]),onClick:D},[i(j,{class:"h-4"})],2)]),_:1}),l("div",{class:"button","data-testid":"docs-share-page-copy-link",onClick:w},[a(k).link?(n(),L(M,{key:0,class:"h-3.5"})):(n(),L(o,{key:1,class:"h-3.5"})),l("div",Ca,[a(k).link?(n(),u(le,{key:0},[O(r(P.$t("activity.copiedLink")),1)],64)):(n(),u(le,{key:1},[O(r(P.$t("activity.copyUrl")),1)],64))])])])])}}}),Ma=Object.assign(me(Fa,[["__scopeId","data-v-a590c78f"]]),{__name:"GeneralCopyUrl"}),Va={class:"flex flex-col justify-between mt-1 py-2 px-3 bg-gray-50 rounded-md"},La={class:"flex flex-row items-center justify-between"},Pa={class:"flex text-black items-center gap-1"},ja={class:"text-center"},Aa=ne({__name:"CustomUrl",props:{id:{},dashboardUrl:{},searchQuery:{},tooltip:{},copyCustomUrl:{type:Function},disabled:{type:Boolean}},setup(g){return(c,C)=>{const y=Le,b=ve;return n(),u("div",Va,[l("div",La,[l("div",Pa,r(c.$t("title.customUrl")),1),i(b,null,{title:v(()=>[l("div",ja,r(c.$t("msg.info.thisFeatureIsOnlyAvailableInEnterpriseEdition")),1)]),default:v(()=>[i(y,{checked:!1,disabled:"",class:"share-custom-url-toggle !mt-0.25","data-testid":"share-custom-url-toggle",size:"small"})]),_:1})])])}}}),Ia=Object.assign(Aa,{__name:"DlgShareAndCollaborateCustomUrl"}),Ua={class:"flex flex-col py-2 px-3 mb-1"},Da={class:"flex flex-col w-full mt-2.5 px-3 py-2.5 border-gray-200 border-1 rounded-md gap-y-2"},Ra={class:"flex flex-row w-full justify-between py-0.5"},Ba={class:"text-gray-900 font-medium"},Oa={key:1,class:"text-nc-content-gray-muted"},Na={class:"mt-0.5 border-t-1 border-gray-100 pt-3"},Ta={class:"flex flex-col justify-between mt-1 py-2 px-3 bg-gray-50 rounded-md"},za={class:"flex flex-row items-center justify-between"},Ea={class:"flex text-black"},Ga={key:0,class:"flex gap-2 mt-2 w-2/3"},Ha={key:1,class:"flex flex-col justify-between gap-y-3 mt-1 py-2 px-3 bg-gray-50 rounded-md"},Ja={class:"flex flex-row items-center justify-between"},Ka={class:"flex text-black"},qa={class:"flex flex-col justify-between mt-1 py-2 px-3 bg-gray-50 rounded-md"},Wa={class:"flex flex-row items-center justify-between"},Qa={class:"flex text-black"},Ya={key:0,class:"flex gap-2 mt-2 w-2/3"},Xa={key:2,class:"flex flex-col justify-between gap-y-3 mt-1 py-2 px-3 bg-gray-50 rounded-md"},Za={class:"flex flex-row items-center justify-between"},et={class:"text-black flex items-center space-x-1"},at={key:3,class:"nc-pre-filled-mode-wrapper flex flex-col justify-between gap-y-3 mt-1 py-2 px-3 bg-gray-50 rounded-md"},tt={class:"flex flex-row items-center justify-between"},st={class:"text-black flex items-center space-x-1"},lt={class:"text-center"},ot={class:"flex-1"},nt=ne({__name:"SharePage",setup(g){const{view:c,$api:C}=Be(),{$e:y}=qe(),{appInfo:b}=We(),{dashboardUrl:k}=na(),x=Pe(),{metas:K}=Qe(),{isPrivateBase:D}=X(je()),w=Ae(Ie,B(!1)),{copy:P}=Ve(),d=B({public:!1,password:!1,download:!1,customUrl:!1,language:!1}),t=_({get:()=>{var e;return typeof((e=c.value)==null?void 0:e.meta)=="string"&&(c.value.meta=JSON.parse(c.value.meta)),c.value},set:e=>{var s;typeof((s=c.value)==null?void 0:s.meta)=="string"&&(c.value.meta=JSON.parse(c.value.meta)),typeof(e==null?void 0:e.meta)=="string"&&(e.meta=JSON.parse(e.meta)),c.value=e}}),F=_(()=>{var e;return D.value&&((e=t.value)==null?void 0:e.type)!==f.FORM}),j=_(()=>{var e;return F.value?!1:!!((e=t.value)!=null&&e.uuid)}),M=_(()=>w.value||F.value),o=_(()=>ee()??""),N=_(()=>Object.entries(be).sort()),q=_(()=>N.value.map(([e,s])=>({label:be[e]||s,value:e}))),W=B(!1),Q=_(()=>{var e,s;return!!((s=(e=t.value)==null?void 0:e.meta)!=null&&s.language)||W.value}),ie=async()=>{if(W.value=!Q.value,!!t.value&&!d.value.language){d.value.language=!0;try{W.value?t.value={...t.value,meta:{...t.value.meta,language:"en"}}:t.value={...t.value,meta:{...t.value.meta,language:null}},await V()}finally{d.value.language=!1}}},Z=B(!1),I=_(()=>{var e;return!!((e=t.value)!=null&&e.password)||Z.value}),T=_({get:()=>{var e;return I.value?((e=t.value)==null?void 0:e.password)??"":""},set:async e=>{t.value&&(t.value={...t.value,password:I.value?e:null},V())}}),re=_({get:()=>{var e;return!!((e=t.value)!=null&&e.meta.withTheme)},set:e=>{var s;(s=t.value)!=null&&s.meta&&(t.value.meta={...t.value.meta,withTheme:e},Ne())}}),z=async()=>{if(Z.value=!I.value,!!t.value&&!d.value.password){d.value.password=!0;try{I.value?t.value={...t.value,password:null}:t.value={...t.value,password:""},await V()}finally{d.value.password=!1}}},E=_({get:()=>{var e,s,p,S;return(e=t.value)!=null&&e.meta?(typeof((s=t.value)==null?void 0:s.meta)=="string"&&(t.value.meta=JSON.parse(t.value.meta)),(S=(p=t.value)==null?void 0:p.meta)==null?void 0:S.language):!1},set:e=>{var s,p;(s=t.value)!=null&&s.meta&&(typeof((p=t.value)==null?void 0:p.meta)=="string"&&(t.value.meta=JSON.parse(t.value.meta)),t.value.meta={...t.value.meta,language:e},V())}}),R=_({get:()=>{var e,s;return!!((s=(e=t.value)==null?void 0:e.meta)!=null&&s.allowCSVDownload)},set:async e=>{var s;if((s=t.value)!=null&&s.meta){d.value.download=!0;try{t.value.meta={...t.value.meta,allowCSVDownload:e},await _e()}finally{d.value.download=!1}}}}),U=_({get:()=>{var e;return!!((e=t.value)!=null&&e.meta.surveyMode)},set:e=>{var s;(s=t.value)!=null&&s.meta&&(t.value.meta={...t.value.meta,surveyMode:e},Oe())}}),$=_({get:()=>{var e,s,p,S;return{preFillEnabled:((s=pe((e=t.value)==null?void 0:e.meta))==null?void 0:s.preFillEnabled)??!1,preFilledMode:((S=pe((p=t.value)==null?void 0:p.meta))==null?void 0:S.preFilledMode)||xe.Default}},set:e=>{var s;(s=t.value)!=null&&s.meta&&($.value.preFillEnabled!==e.preFillEnabled&&y(`a:view:share:prefilled-mode-${e.preFillEnabled?"enabled":"disabled"}`),$.value.preFilledMode!==e.preFilledMode&&y(`a:view:share:${e.preFilledMode}-prefilled-mode`),t.value.meta={...t.value.meta,...e},Te())}}),A=_(()=>x.preFillFormSearchParams&&$.value.preFillEnabled?x.preFillFormSearchParams:""),Y=e=>{$.value={...$.value,...e}};function ee(e=!0){if(!t.value)return;let s;switch(t.value.type){case f.FORM:s="form";break;case f.KANBAN:s="kanban";break;case f.GALLERY:s="gallery";break;case f.MAP:s="map";break;case f.CALENDAR:s="calendar";break;default:s="view"}return`${encodeURI(`${k.value}#/nc/${s}/${t.value.uuid}${U.value?"/survey":""}`)}${e&&A.value?`?${A.value}`:""}`}const ae=async()=>{var e,s;if((e=t.value)!=null&&e.id)if((s=t.value)!=null&&s.uuid)await C.dbViewShare.delete(t.value.id),t.value={...t.value,uuid:void 0,password:void 0};else{const p=await C.dbViewShare.create(t.value.id);if(t.value={...t.value,...p},t.value.type===f.KANBAN){const S=K.value[x.activeView.fk_model_id].columns.find(ce=>ce.id===x.activeView.view.fk_grp_col_id);t.value.meta={...t.value.meta,groupingFieldColumn:S},await V()}}},te=async()=>{if(!d.value.public){d.value.public=!0;try{return await ae()}catch(e){se.error(await de(e))}finally{d.value.public=!1}}};async function _e(){d.value.download=!0;try{await V(),y(`a:view:share:${R.value?"enable":"disable"}-csv-download`)}catch(e){se.error(await de(e))}d.value.download=!1}async function Oe(){await V(),y(`a:view:share:${U.value?"enable":"disable"}-survey-mode`)}async function Ne(){await V(),y(`a:view:share:${re.value?"enable":"disable"}-theme`)}async function V(e=void 0){var s;try{if(!((s=t.value)!=null&&s.meta))return;const p=t.value.meta,S=await C.dbViewShare.update(t.value.id,{meta:p,password:t.value.password,...e!==void 0?{custom_url_path:e??null}:{}});e!==void 0&&(t.value.fk_custom_url_id=S.fk_custom_url_id)}catch(p){se.error(await de(p))}return!0}async function Te(){await V()}const ze=async(e="")=>{var s;return await P(`${b.value.ncSiteUrl}/p/${encodeURIComponent(e)}${A.value&&((s=t.value)==null?void 0:s.type)===f.FORM?`?${A.value}`:""}`)};return(e,s)=>{var he,we,ye;const p=Le,S=Ma,ce=Ia,Ee=Xe,Ge=Ze,fe=Ue,ge=ve,He=ra,Je=ia,G=Ye("e");return n(),u("div",Ua,[l("div",Da,[l("div",Ra,[l("div",Ba,r(e.$t("activity.enabledPublicViewing")),1),a(F)?(n(),u("div",Oa,r(e.$t("labels.sharingRestricted")),1)):H((n(),L(p,{key:0,checked:a(j),disabled:a(w),loading:a(d).public,class:"share-view-toggle !mt-0.25","data-testid":"share-view-toggle",onClick:te},null,8,["checked","disabled","loading"])),[[G,["c:share:view:enable:toggle"]]])]),a(j)?(n(),u(le,{key:0},[l("div",Na,[i(S,{url:a(o),"onUpdate:url":s[0]||(s[0]=m=>J(o)?o.value=m:null)},null,8,["url"])]),a(t)?(n(),L(ce,{key:0,id:a(t).fk_custom_url_id,"backend-url":a(b).ncSiteUrl,"copy-custom-url":ze,"search-query":a(A)&&((he=a(t))==null?void 0:he.type)===a(f).FORM?`?${a(A)}`:"",disabled:a(M),onUpdateCustomUrl:V},null,8,["id","backend-url","search-query","disabled"])):h("",!0),l("div",Ta,[l("div",za,[l("div",Ea,r(e.$t("activity.restrictAccessWithPassword")),1),H(i(p,{checked:a(I),loading:a(d).password,class:"share-password-toggle !mt-0.25","data-testid":"share-password-toggle",size:"small",disabled:a(M),onClick:z},null,8,["checked","loading","disabled"]),[[G,["c:share:view:password:toggle"]]])]),i(ke,{mode:"out-in",name:"layout"},{default:v(()=>[a(I)?(n(),u("div",Ga,[i(Ee,{value:a(T),"onUpdate:value":s[1]||(s[1]=m=>J(T)?T.value=m:null),placeholder:e.$t("placeholder.password.enter"),class:"!rounded-lg !py-1 !bg-white","data-testid":"nc-modal-share-view__password",size:"small",type:"password",readonly:a(M)},null,8,["value","placeholder","readonly"])])):h("",!0)]),_:1})]),a(t)&&[a(f).GRID,a(f).KANBAN,a(f).GALLERY,a(f).MAP,a(f).CALENDAR].includes(a(t).type)?(n(),u("div",Ha,[l("div",Ja,[l("div",Ka,r(e.$t("activity.allowDownload")),1),H(i(p,{checked:a(R),"onUpdate:checked":s[2]||(s[2]=m=>J(R)?R.value=m:null),loading:a(d).download,class:"public-password-toggle !mt-0.25","data-testid":"share-download-toggle",size:"small",disabled:a(M)},null,8,["checked","loading","disabled"]),[[G,["c:share:view:allow-csv-download:toggle"]]])])])):h("",!0),l("div",qa,[l("div",Wa,[l("div",Qa,r(e.$t("labels.language")),1),H(i(p,{checked:a(Q),loading:a(d).language,class:"share-language-toggle !mt-0.25","data-testid":"share-language-toggle",size:"small",disabled:a(M),onClick:ie},null,8,["checked","loading","disabled"]),[[G,["c:share:view:language:toggle"]]])]),i(ke,{mode:"out-in",name:"layout"},{default:v(()=>[a(Q)?(n(),u("div",Ya,[i(Ge,{value:a(E),"onUpdate:value":s[3]||(s[3]=m=>J(E)?E.value=m:null),"data-testid":"nc-modal-share-view__Language",options:a(q),class:"nc-modal-share-view-language-select w-full nc-select-shadow",disabled:a(M)},null,8,["value","options","disabled"])])):h("",!0)]),_:1})]),((we=a(t))==null?void 0:we.type)===a(f).FORM?(n(),u("div",Xa,[l("div",Za,[l("div",et,[l("div",null,r(e.$t("activity.surveyMode")),1),i(ge,{class:"flex items-center"},{title:v(()=>[O(r(e.$t("tooltip.surveyFormInfo")),1)]),default:v(()=>[i(fe,{icon:"info",class:"flex-none text-gray-400 cursor-pointer"})]),_:1})]),H(i(p,{checked:a(U),"onUpdate:checked":s[4]||(s[4]=m=>J(U)?U.value=m:null),"data-testid":"nc-modal-share-view__surveyMode",size:"small"},null,8,["checked"]),[[G,["c:share:view:surver-mode:toggle"]]])])])):h("",!0),((ye=a(t))==null?void 0:ye.type)===a(f).FORM?(n(),u("div",at,[l("div",tt,[l("div",st,[l("div",null,r(e.$t("activity.preFilledFields.title")),1),i(ge,{class:"flex items-center"},{title:v(()=>[l("div",lt,r(e.$t("tooltip.preFillFormInfo")),1)]),default:v(()=>[i(fe,{icon:"info",class:"flex-none text-gray-400 cursor-pointer"})]),_:1})]),H(i(p,{checked:a($).preFillEnabled,"data-testid":"nc-modal-share-view__preFill",size:"small","onUpdate:checked":s[5]||(s[5]=m=>Y({preFillEnabled:m}))},null,8,["checked"]),[[G,["c:share:view:surver-mode:toggle"]]])]),a($).preFillEnabled?(n(),L(Je,{key:0,value:a($).preFilledMode,class:"nc-modal-share-view-preFillMode","data-testid":"nc-modal-share-view__preFillMode","onUpdate:value":s[6]||(s[6]=m=>Y({preFilledMode:m}))},{default:v(()=>[(n(!0),u(le,null,ea(Object.values("PreFilledMode"in e?e.PreFilledMode:a(xe)),m=>(n(),L(He,{key:m,value:m},{default:v(()=>[l("div",ot,r(e.$t(`activity.preFilledFields.${m}`)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):h("",!0)])):h("",!0)],64)):h("",!0)])])}}}),it=Object.assign(nt,{__name:"DlgShareAndCollaborateSharePage"}),rt={};function ct(g,c){const C=ca;return n(),L(C)}const dt=Object.assign(me(rt,[["render",ct]]),{__name:"DlgShareAndCollaborateShareDashboard"}),ut=De(()=>Re(()=>import("./uosXAa0K.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(g=>g.default||g)),pt=De(()=>Re(()=>import("./CXvGwtHU.js"),__vite__mapDeps([5,6,1,2,7,8,9,10,11,12]),import.meta.url).then(g=>g.default||g)),vt={class:"flex flex-col px-1"},mt={class:"flex flex-col gap-2 pb-1 mx-4 mt-3"},_t={class:"flex text-base font-medium"},ft={key:0,class:"share-view"},gt={class:"flex flex-row items-center gap-x-2 px-4 pt-3 pb-3 select-none"},ht={class:"max-w-79/100 ml-2 px-2 py-0.5 rounded-md bg-gray-100 capitalize text-ellipsis overflow-hidden",style:{wordBreak:"keep-all",whiteSpace:"nowrap"}},wt={key:0},yt={key:1},bt={key:0,class:"flex items-center gap-x-2 px-4 text-nc-content-gray-muted"},xt={key:0,class:"flex items-center justify-center h-4 w-4"},kt={class:"flex-1"},$t={key:1,class:"share-dashboard"},St={class:"flex flex-row items-center gap-x-2 px-4 pt-3 pb-3 select-none"},Ct={class:"max-w-79/100 ml-2 px-2 py-0.5 rounded-md bg-gray-100 capitalize text-ellipsis overflow-hidden",style:{wordBreak:"keep-all",whiteSpace:"nowrap"}},Ft={class:"share-base"},Mt={class:"flex flex-row items-center gap-x-2 px-4 pt-3 pb-3 select-none"},Vt={class:"max-w-79/100 ml-2 px-2 py-0.5 rounded-md bg-gray-100 capitalize text-ellipsis overflow-hidden",style:{wordBreak:"keep-all",whiteSpace:"nowrap"}},Lt={key:0,class:"flex items-center gap-x-2 px-4 text-nc-content-gray-muted"},Pt={class:"flex items-center justify-center h-4 w-5"},jt={class:"flex-1"},At={class:"flex flex-row justify-end mx-3 mt-1 mb-2 pt-4 gap-x-2"},It=ne({__name:"View",props:{isViewToolbar:{type:Boolean}},setup(g){const c=Ae(Ie,B(!1)),C=je(),{base:y,isPrivateBase:b}=X(C),{navigateToProjectPage:k}=C,{activeView:x}=X(Pe()),K=da(),{activeDashboard:D}=X(K);let w;if(g.isViewToolbar)try{w=Be().view}catch{}const{formStatus:P,showShareModal:d}=X(Me()),{resetData:t}=Me(),F=B(!1),j=_(()=>{var o;return b.value&&((o=w.value)==null?void 0:o.type)!==f.FORM}),M=async()=>{F.value=!0;try{await k({page:"collaborator"}),d.value=!1}catch(o){console.error(o),se.error("Failed to open manage access")}finally{F.value=!1}};return aa(d,o=>{o||setTimeout(()=>{t()},500)}),(o,N)=>{const q=Ue,W=it,Q=ut,ie=dt,Z=sa,I=pt,T=la,re=oa;return n(),L(re,{visible:a(d),"onUpdate:visible":N[1]||(N[1]=z=>J(d)?d.value=z:null),class:ue(["!top-[1%]",{active:a(d)}]),"wrap-class-name":"nc-modal-share-collaborate",closable:!1,"mask-closable":a(P)!=="base-collaborateSaving","ok-button-props":{hidden:!0},"cancel-button-props":{hidden:!0},footer:null,width:a(P)==="manageCollaborators"?"60rem":"40rem"},{default:v(()=>{var z,E,R,U,$,A,Y,ee,ae,te;return[l("div",vt,[l("div",mt,[l("div",_t,r(o.$t("activity.share")),1)]),o.isViewToolbar&&a(x)?(n(),u("div",ft,[l("div",gt,[(n(),L($e((E=("viewIcons"in o?o.viewIcons:a(Se))[(z=a(w))==null?void 0:z.type])==null?void 0:E.icon),{class:"nc-view-icon group-hover",style:ta({color:(U=("viewIcons"in o?o.viewIcons:a(Se))[(R=a(w))==null?void 0:R.type])==null?void 0:U.color})},null,8,["style"])),l("div",null,r(o.$t("activity.shareView")),1),l("div",ht,[a(x).is_default?(n(),u("span",wt,r(o.$t("labels.defaultView")),1)):(n(),u("span",yt,r(a(x).title),1))])]),a(c)||a(j)?(n(),u("div",bt,[a(j)?(n(),u("div",xt,[i(q,{icon:"ncBasePrivate",class:"flex-none w-3.5 h-3.5"})])):h("",!0),a(j)?h("",!0):(n(),L($e(("viewLockIcons"in o?o.viewLockIcons:a(Ce))[a(w).lock_type].icon),{key:1,class:ue(["flex-none",{"w-4 h-4":(($=a(w))==null?void 0:$.lock_type)===a(Fe).Locked,"w-3.5 h-3.5":((A=a(w))==null?void 0:A.lock_type)!==a(Fe).Locked}])},null,8,["class"])),l("div",kt,r(a(j)?o.$t("msg.privateBaseViewShareRestrictedMsg"):o.$t("title.viewSettingsCantBeChangedWhenViewIs",{type:o.$t((ee=("viewLockIcons"in o?o.viewLockIcons:a(Ce))[(Y=a(x))==null?void 0:Y.lock_type])==null?void 0:ee.title).toLowerCase()})),1)])):h("",!0),i(W)])):h("",!0),a(D)?(n(),u("div",$t,[l("div",St,[i(Q,{class:"nc-dashboard-icon",size:"small",emoji:(te=(ae=a(D))==null?void 0:ae.meta)==null?void 0:te.icon,readonly:""},{default:v(()=>[i(q,{icon:"dashboards",class:"w-4 text-nc-content-gray-subtle !text-[16px]"})]),_:1},8,["emoji"]),l("div",null,r(o.$t("activity.shareDashboard")),1),l("div",Ct,[l("span",null,r(a(D).title),1)])]),i(ie)])):h("",!0),l("div",Ft,[l("div",Mt,[i(Z,{color:("parseProp"in o?o.parseProp:a(pe))(a(y).meta).iconColor,type:a(y).type,class:"nc-view-icon group-hover"},null,8,["color","type"]),l("div",null,r(o.$t("activity.shareBase.label")),1),l("div",Vt,r(a(y).title),1)]),a(b)?(n(),u("div",Lt,[l("div",Pt,[i(q,{icon:"ncBasePrivate",class:"flex-none w-3.5 h-3.5"})]),l("div",jt,r(o.$t("msg.privateBaseShareRestrictedMsg")),1)])):h("",!0),i(I)]),l("div",At,[i(T,{type:"secondary","data-testid":"docs-cancel-btn",onClick:N[0]||(N[0]=_e=>d.value=!1)},{default:v(()=>[O(r(o.$t("general.close")),1)]),_:1}),i(T,{"data-testid":"docs-share-manage-access",type:"secondary",loading:a(F),onClick:M},{default:v(()=>[O(r(o.$t("activity.manageProjectAccess")),1)]),_:1},8,["loading"])])])]}),_:1},8,["visible","class","mask-closable","width"])}}}),Ut=Object.assign(me(It,[["__scopeId","data-v-97baf624"]]),{__name:"DlgShareAndCollaborateView"}),Et=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));export{Et as V,Ma as _,Ia as a};
