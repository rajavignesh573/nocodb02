import{a as O}from"./B1qoNiTF.js";import{e as U,G as n,fO as A,r as l,g6 as M,gz as S,kk as D,l1 as G,j7 as T,kl as W,T as $,n as t,fA as V,fB as k,aF as q,c as u,L as e,o as i,a as b,b as x,aw as H,w as J,cf as w,t as K,ag as Q,_ as X}from"./DRA9KN5F.js";import{_ as Y}from"./CkpISeXq.js";import"./CbX26EBz.js";import"./CYKJe2Bk.js";import"./DkpDpjnr.js";import"./Dv0nYk-Y.js";import"./B94p8ToD.js";import"./DkDj6Z7Z.js";import"./gAYHr7Gr.js";import"./Cd4chHHL.js";import"./boyBAVNN.js";const Z=["value"],ee=["tabindex"],oe={key:0,class:"px-2"},se={key:1,class:"nc-cell-field"},ne=U({__name:"Readonly",props:{modelValue:{},localEditEnabled:{type:Boolean}},emits:["update:localEditEnabled"],setup(y,{emit:E}){const o=y,I=E,m=n(A),c=n(M,l(!1)),r=n(S,l(!1)),f=n(D,l(!1)),N=n(G,l(!1)),F=n(T,l(!1)),d=n(W,l(!1)),j=$(o,"localEditEnabled",I,{defaultValue:!1}),p=l(!1),_=t(()=>!V(o.modelValue)&&!k(o.modelValue)&&!isNaN(Number(o.modelValue))?`${o.modelValue}%`:o.modelValue),C=t(()=>o.modelValue&&o.modelValue!==""&&!isNaN(Number(o.modelValue))?Number(o.modelValue):0),R=t(()=>{var s;return{is_progress:!1,...q((s=m.value)==null?void 0:s.meta)}}),a=()=>{c.value||(j.value=!0)},v=()=>{p.value=!0},g=()=>{p.value=!1},h=t(()=>(!r.value||!p.value)&&R.value.is_progress&&!V(o.modelValue)&&!k(o.modelValue)&&!f?Number(parseFloat(o.modelValue.toString()).toFixed(2)):null),L=t(()=>{var s;return((s=m.value.meta)==null?void 0:s.is_progress)&&(d.value||!N.value&&!f.value)}),B=t(()=>!c.value&&(!F.value||r.value));return(s,le)=>{const P=O,z=Y;return e(L)?(i(),u("div",{key:0,class:"nc-cell-field percent-progress w-full py-1 flex",style:w({...e(r)&&!e(d)&&{height:"100%"},...e(d)&&{height:"16px"}})},[b("div",{class:"w-full min-w-[100px]",style:w([{...!e(r)&&{height:"4px"}},{"min-height":"4px"}]),onMouseover:v,onMouseleave:g,onFocus:a,onClick:a},[x(P,{percentage:e(C),"is-show-number":e(r)},H({_:2},[e(B)?{name:"default",fn:J(()=>[b("input",{class:"w-full !border-none !outline-none focus:ring-0 min-h-[10px]",value:s.modelValue,onClick:a,onFocus:a},null,40,Z)]),key:"0"}:void 0]),1032,["percentage","is-show-number"])],36)],4)):(i(),u("div",{key:1,tabindex:e(c)?-1:0,class:Q(["nc-filter-value-select w-full focus:outline-transparent relative z-3",e(c)?"cursor-not-allowed pointer-events-none":""]),onMouseover:v,onMouseleave:g,onFocus:a,onClick:a},[e(h)!==null?(i(),u("div",oe,[x(z,{percent:e(h),size:"small",status:"normal","stroke-color":"#3366FF","trail-color":"#E5E5E5","show-info":!1},null,8,["percent"])])):(i(),u("span",se,K(e(_)?e(_):"Â "),1))],42,ee))}}}),ge=Object.assign(X(ne,[["__scopeId","data-v-833c285f"]]),{__name:"CellPercentReadonly"});export{ge as default};
