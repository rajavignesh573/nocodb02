import{_ as T}from"./ytmFgNfN.js";import{e as P,a9 as U,T as E,J as F,ak as J,G as Q,r as L,ha as Y,n as c,a8 as q,am as H,h3 as W,oh as X,c as p,o as i,a as k,K as v,ao as Z,L as e,t as x,ag as w,I as R,b as I,Q as z,w as ee,b9 as te,bo as ae,a3 as se,ar as oe,cf as ne,aY as ie,_ as le}from"./DRA9KN5F.js";import{S as re}from"./CNwEZGnv.js";import"./DP83Cqnl.js";import"./DlXIlcns.js";import"./BVqTF1QK.js";import"./Ce4xoeky.js";const pe={key:0,class:"caption ml-2.5 text-gray-500 text-xs","data-testid":"grid-pagination"},de={key:0,class:"nc-pagination-skeleton flex flex-row justify-center item-center min-h-10 min-w-42"},ue={key:2,class:"mx-auto flex items-center mt-n1",style:{"max-width":"250px"}},ce={key:1,class:"flex-1 flex justify-end items-center"},ge={class:"text-right"},me={key:0,class:"caption nc-grid-row-count mr-2.5 text-gray-500 text-xs","data-testid":"grid-pagination"},fe=P({__name:"Pagination",props:{paginationData:{},changePage:{type:Function},alignCountOnRight:{type:Boolean},hidePagination:{type:Boolean},hideSidebars:{type:Boolean},customLabel:{},fixedSize:{},extraStyle:{},alignLeft:{type:Boolean},showSizeChanger:{type:Boolean},isAddNewRecordGridMode:{type:Boolean}},emits:["update:paginationData"],setup(j,{emit:M}){const g=j,V=M,{locale:G}=U(),s=E(g,"paginationData",V),{isMobileMode:b}=F(),{alignCountOnRight:B,customLabel:m,changePage:o}=g,{isAddNewRecordGridMode:_,fixedSize:C,extraStyle:N}=J(g),d=Q(Y,L(!1)),h=c(()=>g.alignLeft??!1),{isViewDataLoading:D,isPaginationLoading:S}=q(H()),n=c(()=>{var t;return((t=s.value)==null?void 0:t.totalRows)??1/0}),l=c({get:()=>{var t;return((t=s==null?void 0:s.value)==null?void 0:t.page)??1},set:async t=>{S.value=!0;try{await(o==null?void 0:o(t)),S.value=!1}catch(a){if(W.isCancel(a))return;S.value=!1}}}),$=c({get:()=>{var t;return((t=s.value)==null?void 0:t.pageSize)??25},set:t=>{var a,y;if(s.value){if((a=s.value)!=null&&a.pageSize&&((y=s.value)==null?void 0:y.pageSize)===t)return;s.value.pageSize=t,s.value.totalRows&&l.value*t<s.value.totalRows?o==null||o(l.value):o==null||o(1)}}}),K=c(()=>X(G.value)),f=()=>ie()?"⌥":"ALT",u=L(l.value);return(t,a)=>{const y=re,O=T,A=oe;return i(),p("div",{class:w(["flex items-center bg-white border-gray-200 nc-grid-pagination-wrapper",{"border-t-1":!e(d),"h-13":e(b),"h-10":!e(b)}]),style:ne(`${e(C)?`width: ${e(C)}px;`:""}${e(d)?"margin-top:1px; border-radius: 0 0 8px 8px !important;":""} ${e(N)}`)},[k("div",{class:w(["flex items-center",{"flex-1":!e(h),"left-0 sticky":e(h)}])},[Z(t.$slots,"add-record",{},void 0,!0),!e(B)&&e(n)!==null&&e(n)!==1/0?(i(),p("span",pe,x(e(n))+" "+x(e(m)?e(m):e(n)!==1?t.$t("objects.records"):t.$t("objects.record")),1)):v("",!0)],2),t.hidePagination?v("",!0):(i(),p("div",{key:0,class:w(["transition-all ml-2 sticky left-0 duration-350",{"ml-8":e(h),"left-[159px]":e(d)&&t.$slots["add-record"]&&e(_),"left-[199px]":e(d)&&t.$slots["add-record"]&&!e(_),"left-[32px]":e(d)&&!t.$slots["add-record"]}])},[e(D)?(i(),p("div",de,[I(y,{active:!0,title:!0,paragraph:!1,class:"-mt-1 max-w-60"})])):e(n)!==1/0?(i(),R(O,{key:1,current:e(l),"onUpdate:current":a[0]||(a[0]=r=>z(l)?l.value=r:null),"page-size":e($),"onUpdate:pageSize":a[1]||(a[1]=r=>z($)?$.value=r:null),class:w(["xs:mr-2",{"rtl-pagination":e(K)}]),total:+e(n),"entity-name":"grid","prev-page-tooltip":`${f()}+←`,"next-page-tooltip":`${f()}+→`,"first-page-tooltip":`${f()}+↓`,"last-page-tooltip":`${f()}+↑`,"show-size-changer":t.showSizeChanger},null,8,["current","page-size","class","total","prev-page-tooltip","next-page-tooltip","first-page-tooltip","last-page-tooltip","show-size-changer"])):(i(),p("div",ue,[a[6]||(a[6]=k("span",{class:"text-xs",style:{"white-space":"nowrap"}}," Change page:",-1)),I(A,{value:e(u),"onUpdate:value":a[3]||(a[3]=r=>z(u)?u.value=r:null),size:"small",class:"ml-1 !text-xs",type:"number",onKeydown:a[4]||(a[4]=se(r=>e(o)(e(u)),["enter"])),onBlur:a[5]||(a[5]=r=>u.value=e(l))},{suffix:ee(()=>[(i(),R(te(("iconMap"in t?t.iconMap:e(ae)).returnKey),{class:"mt-1",onClick:a[2]||(a[2]=r=>e(o)(e(l)))}))]),_:1},8,["value"])]))],2)),e(b)?v("",!0):(i(),p("div",ce,[k("div",ge,[e(B)&&e(n)!==1/0?(i(),p("span",me,x(e(n))+" "+x(e(m)?e(m):e(n)!==1?t.$t("objects.records"):t.$t("objects.record")),1)):v("",!0)])]))],6)}}}),$e=Object.assign(le(fe,[["__scopeId","data-v-ba54884d"]]),{__name:"SmartsheetPagination"});export{$e as default};
