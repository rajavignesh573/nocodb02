import{_ as U}from"./C6valJX6.js";import{_ as j}from"./DYT5EKex.js";import{e as H,n as C,r as A,c as d,o as a,b as i,a as o,w as r,t as l,an as g,aq as q,I as h,K as w,M as E,L as s,O as N,aH as F,d as p,N as G,Q as K,bU as Q,y as J,_ as W}from"./DRA9KN5F.js";import{_ as X}from"./C2UaKEE0.js";import{_ as Y}from"./C_VN1MCC.js";import{a as Z}from"./DVsD9aaJ.js";const ee={class:"flex flex-col","data-testid":"nc-setup-list"},te={"data-rec":"true"},se={class:"h-[calc(100%_-_58px)] flex"},ne={class:"w-full"},oe={class:"w-950px px-4 mt-3 mx-auto text-lg font-weight-bold"},ae={class:"container"},le=["data-testid","onClick"],ce={class:"title"},ie={class:"flex flex-col h-full"},re={key:0,class:"text-base font-weight-bold"},ue={key:1,class:"text-base font-weight-bold"},_e={class:"flex flex-row mt-2 w-full"},de={class:"flex mt-6 justify-end space-x-2"},me=H({__name:"List",props:{category:{}},setup(M){const x=M,{categorizeApps:S,resetPlugin:P,showPluginUninstallModal:m,activePlugin:u}=Z(),y=C(()=>{var e,t;return((t=S.value)==null?void 0:t[(e=x.category)==null?void 0:e.toLowerCase()])||[]}),f=C(()=>y.value.find(e=>e.active)),_=A(!1),c=A(null),k=async(e,t=!1)=>{_.value=t,m.value=!0,u.value=e},b=e=>{const t=e!==f.value&&f.value;if(t)return c.value=e,k(t,!0);J(`/account/setup/${x.category}/${e.title}`)},L=async()=>{await P(u.value),_.value&&(await b(c.value),c.value=null,_.value=!1)},R=()=>{u.value=null,c.value=null,_.value=!1,m.value=!1};return(e,t)=>{const B=U,I=j,v=E,V=X,T=Y,z=F,$=G,D=Q;return a(),d("div",ee,[i(B,null,{title:r(()=>[o("span",te,l(e.category),1)]),_:1}),o("div",se,[o("div",ne,[o("div",oe,l(e.category)+" Services",1),o("div",ae,[(a(!0),d(g,null,q(s(y),n=>(a(),d("div",{key:n.title,class:"item group","data-testid":`nc-setup-list-item-${n.title}`,onClick:O=>b(n)},[i(I,{app:n,class:"icon"},null,8,["app"]),o("span",ce,l(n.title),1),t[2]||(t[2]=o("div",{class:"flex-grow"},null,-1)),n.active?(a(),h(v,{key:0,icon:"delete",class:"text-error min-w-6 h-6 bg-white-500 !hidden !group-hover:!inline cursor-pointer"})):w("",!0),n===s(f)?(a(),h(v,{key:1,icon:"circleCheckSolid",class:"text-success min-w-5 h-5 bg-white-500 nc-configured"})):w("",!0),i(z,{trigger:["click"],"overlay-class-name":"!rounded-md",onClick:t[0]||(t[0]=N(()=>{},["stop"]))},{overlay:r(()=>[i(T,{class:"min-w-20",variant:"small"},{default:r(()=>[i(V,{"data-testid":"nc-config-reset",onClick:N(O=>k(n),["stop"])},{default:r(()=>[o("span",null,l(e.$t("general.reset")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[n.active?(a(),h(v,{key:0,icon:"threeDotVertical",class:"min-w-5 h-5 bg-white-500 text-gray-500 hover:text-current nc-setup-plugin-menu"})):w("",!0)]),_:2},1024)],8,le))),128))])])]),i(D,{visible:s(m),"onUpdate:visible":t[1]||(t[1]=n=>K(m)?m.value=n:null),closable:!1,width:"448px",centered:"",footer:null,"wrap-class-name":"nc-modal-plugin-reset-conform"},{default:r(()=>[o("div",ie,[s(_)?(a(),d("div",re," Switch to "+l(s(c)&&s(c).title),1)):(a(),d("div",ue,"Reset "+l(s(u)&&s(u).title)+" Configuration",1)),o("div",_e,[s(_)?(a(),d(g,{key:0},[p(" Switching to "+l(s(c)&&s(c).title)+" will reset your "+l(s(u)&&s(u).title)+" settings. Continue? ",1)],64)):(a(),d(g,{key:1},[p("Resetting will erase your current configuration.")],64))]),o("div",de,[i($,{size:"small",type:"secondary",onClick:R},{default:r(()=>[p(l(e.$t("general.cancel")),1)]),_:1}),i($,{size:"small",type:"danger","data-testid":"nc-reset-confirm-btn",onClick:L},{default:r(()=>[p(l(s(_)?`${e.$t("general.reset")} & ${e.$t("general.switch")}`:e.$t("general.reset")),1)]),_:1})])])]),_:1},8,["visible"])])}}}),xe=Object.assign(W(me,[["__scopeId","data-v-c6c3a7a3"]]),{__name:"AccountSetupList"});export{xe as default};
