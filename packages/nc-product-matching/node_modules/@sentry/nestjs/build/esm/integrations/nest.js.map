{"version":3,"file":"nest.js","sources":["../../../src/integrations/nest.ts"],"sourcesContent":["import { defineIntegration } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node';\nimport { NestInstrumentation } from './sentry-nest-core-instrumentation';\nimport { SentryNestEventInstrumentation } from './sentry-nest-event-instrumentation';\nimport { SentryNestInstrumentation } from './sentry-nest-instrumentation';\n\nconst INTEGRATION_NAME = 'Nest';\n\nconst instrumentNestCore = generateInstrumentOnce('Nest-Core', () => {\n  return new NestInstrumentation();\n});\n\nconst instrumentNestCommon = generateInstrumentOnce('Nest-Common', () => {\n  return new SentryNestInstrumentation();\n});\n\nconst instrumentNestEvent = generateInstrumentOnce('Nest-Event', () => {\n  return new SentryNestEventInstrumentation();\n});\n\nexport const instrumentNest = Object.assign(\n  (): void => {\n    instrumentNestCore();\n    instrumentNestCommon();\n    instrumentNestEvent();\n  },\n  { id: INTEGRATION_NAME },\n);\n\n/**\n * Integration capturing tracing data for NestJS.\n */\nexport const nestIntegration = defineIntegration(() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentNest();\n    },\n  };\n});\n"],"names":[],"mappings":";;;;;;AAMA,MAAM,gBAAA,GAAmB,MAAM;;AAE/B,MAAM,kBAAA,GAAqB,sBAAsB,CAAC,WAAW,EAAE,MAAM;AACrE,EAAE,OAAO,IAAI,mBAAmB,EAAE;AAClC,CAAC,CAAC;;AAEF,MAAM,oBAAA,GAAuB,sBAAsB,CAAC,aAAa,EAAE,MAAM;AACzE,EAAE,OAAO,IAAI,yBAAyB,EAAE;AACxC,CAAC,CAAC;;AAEF,MAAM,mBAAA,GAAsB,sBAAsB,CAAC,YAAY,EAAE,MAAM;AACvE,EAAE,OAAO,IAAI,8BAA8B,EAAE;AAC7C,CAAC,CAAC;;AAEK,MAAM,cAAA,GAAiB,MAAM,CAAC,MAAM;AAC3C,EAAE,MAAY;AACd,IAAI,kBAAkB,EAAE;AACxB,IAAI,oBAAoB,EAAE;AAC1B,IAAI,mBAAmB,EAAE;AACzB,GAAG;AACH,EAAE,EAAE,EAAE,EAAE,gBAAA,EAAkB;AAC1B;;AAEA;AACA;AACA;MACa,eAAA,GAAkB,iBAAiB,CAAC,MAAM;AACvD,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,gBAAgB;AAC1B,IAAI,SAAS,GAAG;AAChB,MAAM,cAAc,EAAE;AACtB,KAAK;AACL,GAAG;AACH,CAAC;;;;"}