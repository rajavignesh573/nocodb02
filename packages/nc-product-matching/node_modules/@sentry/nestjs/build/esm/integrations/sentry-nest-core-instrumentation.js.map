{"version":3,"file":"sentry-nest-core-instrumentation.js","sources":["../../../src/integrations/sentry-nest-core-instrumentation.ts"],"sourcesContent":["/*\n * This file is based on code from the OpenTelemetry Authors\n * Source: https://github.com/open-telemetry/opentelemetry-js-contrib\n *\n * Modified for immediate requirements while maintaining compliance\n * with the original Apache 2.0 license terms.\n *\n * Original License:\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Controller } from '@nestjs/common/interfaces';\nimport type { NestFactory } from '@nestjs/core/nest-factory.js';\nimport type { RouterExecutionContext } from '@nestjs/core/router/router-execution-context.js';\nimport * as api from '@opentelemetry/api';\nimport type { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport { ATTR_HTTP_REQUEST_METHOD, ATTR_HTTP_ROUTE, SEMATTRS_HTTP_URL } from '@opentelemetry/semantic-conventions';\nimport { SDK_VERSION } from '@sentry/core';\n\nconst supportedVersions = ['>=4.0.0 <12'];\nconst COMPONENT = '@nestjs/core';\n\nenum AttributeNames {\n  VERSION = 'nestjs.version',\n  TYPE = 'nestjs.type',\n  MODULE = 'nestjs.module',\n  CONTROLLER = 'nestjs.controller',\n  CALLBACK = 'nestjs.callback',\n  PIPES = 'nestjs.pipes',\n  INTERCEPTORS = 'nestjs.interceptors',\n  GUARDS = 'nestjs.guards',\n}\n\nexport enum NestType {\n  APP_CREATION = 'app_creation',\n  REQUEST_CONTEXT = 'request_context',\n  REQUEST_HANDLER = 'handler',\n}\n\n/**\n *\n */\nexport class NestInstrumentation extends InstrumentationBase {\n  public constructor(config: InstrumentationConfig = {}) {\n    super('sentry-nestjs', SDK_VERSION, config);\n  }\n\n  /**\n   *\n   */\n  public init(): InstrumentationNodeModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition(COMPONENT, supportedVersions);\n\n    module.files.push(\n      this._getNestFactoryFileInstrumentation(supportedVersions),\n      this._getRouterExecutionContextFileInstrumentation(supportedVersions),\n    );\n\n    return module;\n  }\n\n  /**\n   *\n   */\n  private _getNestFactoryFileInstrumentation(versions: string[]): InstrumentationNodeModuleFile {\n    return new InstrumentationNodeModuleFile(\n      '@nestjs/core/nest-factory.js',\n      versions,\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (NestFactoryStatic: any, moduleVersion?: string) => {\n        this._ensureWrapped(\n          // todo\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          NestFactoryStatic.NestFactoryStatic.prototype,\n          'create',\n          createWrapNestFactoryCreate(this.tracer, moduleVersion),\n        );\n        return NestFactoryStatic;\n      },\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (NestFactoryStatic: any) => {\n        // todo\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        this._unwrap(NestFactoryStatic.NestFactoryStatic.prototype, 'create');\n      },\n    );\n  }\n\n  /**\n   *\n   */\n  private _getRouterExecutionContextFileInstrumentation(versions: string[]): InstrumentationNodeModuleFile {\n    return new InstrumentationNodeModuleFile(\n      '@nestjs/core/router/router-execution-context.js',\n      versions,\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (RouterExecutionContext: any, moduleVersion?: string) => {\n        this._ensureWrapped(\n          // todo\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          RouterExecutionContext.RouterExecutionContext.prototype,\n          'create',\n          createWrapCreateHandler(this.tracer, moduleVersion),\n        );\n        return RouterExecutionContext;\n      },\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (RouterExecutionContext: any) => {\n        // todo\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        this._unwrap(RouterExecutionContext.RouterExecutionContext.prototype, 'create');\n      },\n    );\n  }\n\n  /**\n   *\n   */\n  // todo\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _ensureWrapped(obj: any, methodName: string, wrapper: (original: any) => any): void {\n    // todo\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (isWrapped(obj[methodName])) {\n      this._unwrap(obj, methodName);\n    }\n    this._wrap(obj, methodName, wrapper);\n  }\n}\n\nfunction createWrapNestFactoryCreate(tracer: api.Tracer, moduleVersion?: string) {\n  return function wrapCreate(original: typeof NestFactory.create) {\n    return function createWithTrace(\n      this: typeof NestFactory,\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      nestModule: any,\n      /* serverOrOptions */\n    ) {\n      const span = tracer.startSpan('Create Nest App', {\n        attributes: {\n          component: COMPONENT,\n          [AttributeNames.TYPE]: NestType.APP_CREATION,\n          [AttributeNames.VERSION]: moduleVersion,\n          // todo\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          [AttributeNames.MODULE]: nestModule.name,\n        },\n      });\n      const spanContext = api.trace.setSpan(api.context.active(), span);\n\n      return api.context.with(spanContext, async () => {\n        try {\n          // todo\n          // eslint-disable-next-line prefer-rest-params, @typescript-eslint/no-explicit-any\n          return await original.apply(this, arguments as any);\n          // todo\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        } catch (e: any) {\n          throw addError(span, e);\n        } finally {\n          span.end();\n        }\n      });\n    };\n  };\n}\n\nfunction createWrapCreateHandler(tracer: api.Tracer, moduleVersion?: string) {\n  return function wrapCreateHandler(original: RouterExecutionContext['create']) {\n    return function createHandlerWithTrace(\n      this: RouterExecutionContext,\n      instance: Controller,\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      callback: (...args: any[]) => unknown,\n    ) {\n      // todo\n      // eslint-disable-next-line prefer-rest-params\n      arguments[1] = createWrapHandler(tracer, moduleVersion, callback);\n      // todo\n      // eslint-disable-next-line prefer-rest-params, @typescript-eslint/no-explicit-any\n      const handler = original.apply(this, arguments as any);\n      const callbackName = callback.name;\n      const instanceName =\n        // todo\n        // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n        instance.constructor && instance.constructor.name ? instance.constructor.name : 'UnnamedInstance';\n      const spanName = callbackName ? `${instanceName}.${callbackName}` : instanceName;\n\n      // todo\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n      return function (this: any, req: any, res: any, next: (...args: any[]) => unknown) {\n        const span = tracer.startSpan(spanName, {\n          attributes: {\n            component: COMPONENT,\n            [AttributeNames.VERSION]: moduleVersion,\n            [AttributeNames.TYPE]: NestType.REQUEST_CONTEXT,\n            // todo\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            [ATTR_HTTP_REQUEST_METHOD]: req.method,\n            // todo\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, deprecation/deprecation\n            [SEMATTRS_HTTP_URL]: req.originalUrl || req.url,\n            // todo\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            [ATTR_HTTP_ROUTE]: req.route?.path || req.routeOptions?.url || req.routerPath,\n            [AttributeNames.CONTROLLER]: instanceName,\n            [AttributeNames.CALLBACK]: callbackName,\n          },\n        });\n        const spanContext = api.trace.setSpan(api.context.active(), span);\n\n        return api.context.with(spanContext, async () => {\n          try {\n            // todo\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, prefer-rest-params\n            return await handler.apply(this, arguments as unknown);\n            // todo\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          } catch (e: any) {\n            throw addError(span, e);\n          } finally {\n            span.end();\n          }\n        });\n      };\n    };\n  };\n}\n\nfunction createWrapHandler(\n  tracer: api.Tracer,\n  moduleVersion: string | undefined,\n  // todo\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  handler: Function,\n  // todo\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): (this: RouterExecutionContext) => Promise<any> {\n  const spanName = handler.name || 'anonymous nest handler';\n  const options = {\n    attributes: {\n      component: COMPONENT,\n      [AttributeNames.VERSION]: moduleVersion,\n      [AttributeNames.TYPE]: NestType.REQUEST_HANDLER,\n      [AttributeNames.CALLBACK]: handler.name,\n    },\n  };\n  // todo\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const wrappedHandler = function (this: RouterExecutionContext): Promise<any> {\n    const span = tracer.startSpan(spanName, options);\n    const spanContext = api.trace.setSpan(api.context.active(), span);\n\n    return api.context.with(spanContext, async () => {\n      try {\n        // todo\n        // eslint-disable-next-line prefer-rest-params\n        return await handler.apply(this, arguments);\n        // todo\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      } catch (e: any) {\n        throw addError(span, e);\n      } finally {\n        span.end();\n      }\n    });\n  };\n\n  if (handler.name) {\n    Object.defineProperty(wrappedHandler, 'name', { value: handler.name });\n  }\n\n  // Get the current metadata and set onto the wrapper to ensure other decorators ( ie: NestJS EventPattern / RolesGuard )\n  // won't be affected by the use of this instrumentation\n  Reflect.getMetadataKeys(handler).forEach(metadataKey => {\n    Reflect.defineMetadata(metadataKey, Reflect.getMetadata(metadataKey, handler), wrappedHandler);\n  });\n  return wrappedHandler;\n}\n\nconst addError = (span: api.Span, error: Error): Error => {\n  span.recordException(error);\n  span.setStatus({ code: api.SpanStatusCode.ERROR, message: error.message });\n  return error;\n};\n"],"names":[],"mappings":"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"}